(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var U2={exports:{}},dd={},z2={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),_b=Symbol.for("react.portal"),Nb=Symbol.for("react.fragment"),kb=Symbol.for("react.strict_mode"),Ab=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Cb=Symbol.for("react.context"),Lb=Symbol.for("react.forward_ref"),jb=Symbol.for("react.suspense"),Eb=Symbol.for("react.memo"),Tb=Symbol.for("react.lazy"),C1=Symbol.iterator;function Fb(t){return t===null||typeof t!="object"?null:(t=C1&&t[C1]||t["@@iterator"],typeof t=="function"?t:null)}var q2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,W2={};function rl(t,e,r){this.props=t,this.context=e,this.refs=W2,this.updater=r||q2}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V2(){}V2.prototype=rl.prototype;function W0(t,e,r){this.props=t,this.context=e,this.refs=W2,this.updater=r||q2}var V0=W0.prototype=new V2;V0.constructor=W0;H2(V0,rl.prototype);V0.isPureReactComponent=!0;var L1=Array.isArray,G2=Object.prototype.hasOwnProperty,G0={current:null},K2={key:!0,ref:!0,__self:!0,__source:!0};function J2(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)G2.call(e,n)&&!K2.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Du,type:t,key:s,ref:o,props:i,_owner:G0.current}}function Ib(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function Ob(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var j1=/\/+/g;function Ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ob(""+t.key):e.toString(36)}function gh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Du:case _b:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ef(o,0):n,L1(i)?(r="",t!=null&&(r=t.replace(j1,"$&/")+"/"),gh(i,e,r,"",function(c){return c})):i!=null&&(K0(i)&&(i=Ib(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(j1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",L1(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Ef(s,a);o+=gh(s,e,r,l,i)}else if(l=Fb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Ef(s,a++),o+=gh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uc(t,e,r){if(t==null)return t;var n=[],i=0;return gh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Rb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},mh={transition:null},Mb={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:mh,ReactCurrentOwner:G0};function Y2(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:Uc,forEach:function(t,e,r){Uc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!K0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=rl;dt.Fragment=Nb;dt.Profiler=Ab;dt.PureComponent=W0;dt.StrictMode=kb;dt.Suspense=jb;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mb;dt.act=Y2;dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=H2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=G0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)G2.call(e,l)&&!K2.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Du,type:t.type,key:i,ref:s,props:n,_owner:o}};dt.createContext=function(t){return t={$$typeof:Cb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Pb,_context:t},t.Consumer=t};dt.createElement=J2;dt.createFactory=function(t){var e=J2.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:Lb,render:t}};dt.isValidElement=K0;dt.lazy=function(t){return{$$typeof:Tb,_payload:{_status:-1,_result:t},_init:Rb}};dt.memo=function(t,e){return{$$typeof:Eb,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}};dt.unstable_act=Y2;dt.useCallback=function(t,e){return qr.current.useCallback(t,e)};dt.useContext=function(t){return qr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return qr.current.useEffect(t,e)};dt.useId=function(){return qr.current.useId()};dt.useImperativeHandle=function(t,e,r){return qr.current.useImperativeHandle(t,e,r)};dt.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return qr.current.useMemo(t,e)};dt.useReducer=function(t,e,r){return qr.current.useReducer(t,e,r)};dt.useRef=function(t){return qr.current.useRef(t)};dt.useState=function(t){return qr.current.useState(t)};dt.useSyncExternalStore=function(t,e,r){return qr.current.useSyncExternalStore(t,e,r)};dt.useTransition=function(){return qr.current.useTransition()};dt.version="18.3.1";z2.exports=dt;var ae=z2.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b=ae,Db=Symbol.for("react.element"),Bb=Symbol.for("react.fragment"),Ub=Object.prototype.hasOwnProperty,zb=$b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qb={key:!0,ref:!0,__self:!0,__source:!0};function Q2(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ub.call(e,n)&&!qb.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Db,type:t,key:s,ref:o,props:i,_owner:zb.current}}dd.Fragment=Bb;dd.jsx=Q2;dd.jsxs=Q2;U2.exports=dd;var b=U2.exports,X2={exports:{}},vn={},Z2={exports:{}},ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Q){var ie=H.length;H.push(Q);e:for(;0<ie;){var me=ie-1>>>1,P=H[me];if(0<i(P,Q))H[me]=Q,H[ie]=P,ie=me;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Q=H[0],ie=H.pop();if(ie!==Q){H[0]=ie;e:for(var me=0,P=H.length,$=P>>>1;me<$;){var V=2*(me+1)-1,J=H[V],Z=V+1,ue=H[Z];if(0>i(J,ie))Z<P&&0>i(ue,J)?(H[me]=ue,H[Z]=ie,me=Z):(H[me]=J,H[V]=ie,me=V);else if(Z<P&&0>i(ue,ie))H[me]=ue,H[Z]=ie,me=Z;else break e}}return Q}function i(H,Q){var ie=H.sortIndex-Q.sortIndex;return ie!==0?ie:H.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,v=3,p=!1,_=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(H){for(var Q=r(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=H)n(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=r(c)}}function T(H){if(N=!1,S(H),!_)if(r(l)!==null)_=!0,he(B);else{var Q=r(c);Q!==null&&re(T,Q.startTime-H)}}function B(H,Q){_=!1,N&&(N=!1,y(k),k=-1),p=!0;var ie=v;try{for(S(Q),f=r(l);f!==null&&(!(f.expirationTime>Q)||H&&!E());){var me=f.callback;if(typeof me=="function"){f.callback=null,v=f.priorityLevel;var P=me(f.expirationTime<=Q);Q=t.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),S(Q)}else n(l);f=r(l)}if(f!==null)var $=!0;else{var V=r(c);V!==null&&re(T,V.startTime-Q),$=!1}return $}finally{f=null,v=ie,p=!1}}var Y=!1,R=null,k=-1,O=5,U=-1;function E(){return!(t.unstable_now()-U<O)}function j(){if(R!==null){var H=t.unstable_now();U=H;var Q=!0;try{Q=R(!0,H)}finally{Q?W():(Y=!1,R=null)}}else Y=!1}var W;if(typeof w=="function")W=function(){w(j)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,pe=K.port2;K.port1.onmessage=j,W=function(){pe.postMessage(null)}}else W=function(){A(j,0)};function he(H){R=H,Y||(Y=!0,W())}function re(H,Q){k=A(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,he(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ie=v;v=Q;try{return H()}finally{v=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=v;v=H;try{return Q()}finally{v=ie}},t.unstable_scheduleCallback=function(H,Q,ie){var me=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ie+P,H={id:d++,callback:Q,priorityLevel:H,startTime:ie,expirationTime:P,sortIndex:-1},ie>me?(H.sortIndex=ie,e(c,H),r(l)===null&&H===r(c)&&(N?(y(k),k=-1):N=!0,re(T,ie-me))):(H.sortIndex=P,e(l,H),_||p||(_=!0,he(B))),H},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(H){var Q=v;return function(){var ie=v;v=Q;try{return H.apply(this,arguments)}finally{v=ie}}}})(ey);Z2.exports=ey;var Hb=Z2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=ae,yn=Hb;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ty=new Set,wu={};function Eo(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(wu[t]=e,t=0;t<e.length;t++)ty.add(e[t])}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kp=Object.prototype.hasOwnProperty,Vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E1={},T1={};function Gb(t){return kp.call(T1,t)?!0:kp.call(E1,t)?!1:Vb.test(t)?T1[t]=!0:(E1[t]=!0,!1)}function Kb(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jb(t,e,r,n){if(e===null||typeof e>"u"||Kb(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kr[t]=new Hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kr[e]=new Hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kr[t]=new Hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kr[t]=new Hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kr[t]=new Hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kr[t]=new Hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kr[t]=new Hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kr[t]=new Hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kr[t]=new Hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var J0=/[\-:]([a-z])/g;function Y0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(J0,Y0);kr[e]=new Hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(J0,Y0);kr[e]=new Hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(J0,Y0);kr[e]=new Hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q0(t,e,r,n){var i=kr.hasOwnProperty(e)?kr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jb(e,r,i,n)&&(r=null),n||i===null?Gb(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ts=Wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zc=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),ny=Symbol.for("react.context"),Z0=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),Cp=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),F1=Symbol.iterator;function Dl(t){return t===null||typeof t!="object"?null:(t=F1&&t[F1]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,Tf;function Zl(t){if(Tf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var Ff=!1;function If(t,e){if(!t||Ff)return"";Ff=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ff=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Zl(t):""}function Yb(t){switch(t.tag){case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return t=If(t.type,!1),t;case 11:return t=If(t.type.render,!1),t;case 1:return t=If(t.type,!0),t;default:return""}}function Lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case Sa:return"Portal";case Ap:return"Profiler";case X0:return"StrictMode";case Pp:return"Suspense";case Cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ny:return(t.displayName||"Context")+".Consumer";case ry:return(t._context.displayName||"Context")+".Provider";case Z0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eg:return e=t.displayName||null,e!==null?e:Lp(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return Lp(t(e))}catch{}}return null}function Qb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lp(e);case 8:return e===X0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xb(t){var e=sy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=Xb(t))}function oy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jp(t,e){var r=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function I1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Bs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ay(t,e){e=e.checked,e!=null&&Q0(t,"checked",e,!1)}function Ep(t,e){ay(t,e);var r=Bs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Tp(t,e,r){(e!=="number"||Fh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var eu=Array.isArray;function Oa(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Bs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(je(92));if(eu(r)){if(1<r.length)throw Error(je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Bs(r)}}function ly(t,e){var r=Bs(e.value),n=Bs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function M1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hc,cy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zb=["Webkit","ms","Moz","O"];Object.keys(ou).forEach(function(t){Zb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ou[e]=ou[t]})});function hy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ou.hasOwnProperty(t)&&ou[t]?(""+e).trim():e+"px"}function dy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var ex=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Op(t,e){if(e){if(ex[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function Rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=null;function tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $p=null,Ra=null,Ma=null;function $1(t){if(t=zu(t)){if(typeof $p!="function")throw Error(je(280));var e=t.stateNode;e&&(e=yd(e),$p(t.stateNode,t.type,e))}}function fy(t){Ra?Ma?Ma.push(t):Ma=[t]:Ra=t}function py(){if(Ra){var t=Ra,e=Ma;if(Ma=Ra=null,$1(t),e)for(t=0;t<e.length;t++)$1(e[t])}}function gy(t,e){return t(e)}function my(){}var Of=!1;function yy(t,e,r){if(Of)return t(e,r);Of=!0;try{return gy(t,e,r)}finally{Of=!1,(Ra!==null||Ma!==null)&&(my(),py())}}function xu(t,e){var r=t.stateNode;if(r===null)return null;var n=yd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,e,typeof r));return r}var Dp=!1;if(Ji)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Dp=!1}function tx(t,e,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var au=!1,Ih=null,Oh=!1,Bp=null,rx={onError:function(t){au=!0,Ih=t}};function nx(t,e,r,n,i,s,o,a,l){au=!1,Ih=null,tx.apply(rx,arguments)}function ix(t,e,r,n,i,s,o,a,l){if(nx.apply(this,arguments),au){if(au){var c=Ih;au=!1,Ih=null}else throw Error(je(198));Oh||(Oh=!0,Bp=c)}}function To(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D1(t){if(To(t)!==t)throw Error(je(188))}function sx(t){var e=t.alternate;if(!e){if(e=To(t),e===null)throw Error(je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return D1(i),t;if(s===n)return D1(i),e;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:e}function wy(t){return t=sx(t),t!==null?by(t):null}function by(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=by(t);if(e!==null)return e;t=t.sibling}return null}var xy=yn.unstable_scheduleCallback,B1=yn.unstable_cancelCallback,ox=yn.unstable_shouldYield,ax=yn.unstable_requestPaint,Xt=yn.unstable_now,lx=yn.unstable_getCurrentPriorityLevel,rg=yn.unstable_ImmediatePriority,Sy=yn.unstable_UserBlockingPriority,Rh=yn.unstable_NormalPriority,ux=yn.unstable_LowPriority,_y=yn.unstable_IdlePriority,fd=null,xi=null;function cx(t){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(fd,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:fx,hx=Math.log,dx=Math.LN2;function fx(t){return t>>>=0,t===0?32:31-(hx(t)/dx|0)|0}var Wc=64,Vc=4194304;function tu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=tu(a):(s&=o,s!==0&&(n=tu(s)))}else o=r&~i,o!==0?n=tu(o):s!==0&&(n=tu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zn(e),i=1<<r,n|=t[r],e&=~i;return n}function px(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=px(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Up(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ny(){var t=Wc;return Wc<<=1,!(Wc&4194240)&&(Wc=64),t}function Rf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=r}function mx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Zn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function ng(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var _t=0;function ky(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ay,ig,Py,Cy,Ly,zp=!1,Gc=[],Ts=null,Fs=null,Is=null,Su=new Map,_u=new Map,Ns=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U1(t,e){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(e.pointerId)}}function Ul(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zu(e),e!==null&&ig(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vx(t,e,r,n,i){switch(e){case"focusin":return Ts=Ul(Ts,t,e,r,n,i),!0;case"dragenter":return Fs=Ul(Fs,t,e,r,n,i),!0;case"mouseover":return Is=Ul(Is,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Su.set(s,Ul(Su.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_u.set(s,Ul(_u.get(s)||null,t,e,r,n,i)),!0}return!1}function jy(t){var e=wo(t.target);if(e!==null){var r=To(e);if(r!==null){if(e=r.tag,e===13){if(e=vy(r),e!==null){t.blockedOn=e,Ly(t.priority,function(){Py(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Mp=n,r.target.dispatchEvent(n),Mp=null}else return e=zu(r),e!==null&&ig(e),t.blockedOn=r,!1;e.shift()}return!0}function z1(t,e,r){yh(t)&&r.delete(e)}function wx(){zp=!1,Ts!==null&&yh(Ts)&&(Ts=null),Fs!==null&&yh(Fs)&&(Fs=null),Is!==null&&yh(Is)&&(Is=null),Su.forEach(z1),_u.forEach(z1)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,zp||(zp=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,wx)))}function Nu(t){function e(i){return zl(i,t)}if(0<Gc.length){zl(Gc[0],t);for(var r=1;r<Gc.length;r++){var n=Gc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ts!==null&&zl(Ts,t),Fs!==null&&zl(Fs,t),Is!==null&&zl(Is,t),Su.forEach(e),_u.forEach(e),r=0;r<Ns.length;r++)n=Ns[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ns.length&&(r=Ns[0],r.blockedOn===null);)jy(r),r.blockedOn===null&&Ns.shift()}var $a=ts.ReactCurrentBatchConfig,$h=!0;function bx(t,e,r,n){var i=_t,s=$a.transition;$a.transition=null;try{_t=1,sg(t,e,r,n)}finally{_t=i,$a.transition=s}}function xx(t,e,r,n){var i=_t,s=$a.transition;$a.transition=null;try{_t=4,sg(t,e,r,n)}finally{_t=i,$a.transition=s}}function sg(t,e,r,n){if($h){var i=qp(t,e,r,n);if(i===null)Vf(t,e,n,Dh,r),U1(t,n);else if(vx(i,t,e,r,n))n.stopPropagation();else if(U1(t,n),e&4&&-1<yx.indexOf(t)){for(;i!==null;){var s=zu(i);if(s!==null&&Ay(s),s=qp(t,e,r,n),s===null&&Vf(t,e,n,Dh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Vf(t,e,n,null,r)}}var Dh=null;function qp(t,e,r,n){if(Dh=null,t=tg(n),t=wo(t),t!==null)if(e=To(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dh=t,null}function Ey(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lx()){case rg:return 1;case Sy:return 4;case Rh:case ux:return 16;case _y:return 536870912;default:return 16}default:return 16}}var Cs=null,og=null,vh=null;function Ty(){if(vh)return vh;var t,e=og,r=e.length,n,i="value"in Cs?Cs.value:Cs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return vh=i.slice(t,1<n?1-n:void 0)}function wh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function q1(){return!1}function wn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kc:q1,this.isPropagationStopped=q1,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ag=wn(nl),Uu=zt({},nl,{view:0,detail:0}),Sx=wn(Uu),Mf,$f,ql,pd=zt({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(Mf=t.screenX-ql.screenX,$f=t.screenY-ql.screenY):$f=Mf=0,ql=t),Mf)},movementY:function(t){return"movementY"in t?t.movementY:$f}}),H1=wn(pd),_x=zt({},pd,{dataTransfer:0}),Nx=wn(_x),kx=zt({},Uu,{relatedTarget:0}),Df=wn(kx),Ax=zt({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=wn(Ax),Cx=zt({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lx=wn(Cx),jx=zt({},nl,{data:0}),W1=wn(jx),Ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ix(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fx[t])?!!e[t]:!1}function lg(){return Ix}var Ox=zt({},Uu,{key:function(t){if(t.key){var e=Ex[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lg,charCode:function(t){return t.type==="keypress"?wh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rx=wn(Ox),Mx=zt({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V1=wn(Mx),$x=zt({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lg}),Dx=wn($x),Bx=zt({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ux=wn(Bx),zx=zt({},pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=wn(zx),Hx=[9,13,27,32],ug=Ji&&"CompositionEvent"in window,lu=null;Ji&&"documentMode"in document&&(lu=document.documentMode);var Wx=Ji&&"TextEvent"in window&&!lu,Fy=Ji&&(!ug||lu&&8<lu&&11>=lu),G1=" ",K1=!1;function Iy(t,e){switch(t){case"keyup":return Hx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function Vx(t,e){switch(t){case"compositionend":return Oy(e);case"keypress":return e.which!==32?null:(K1=!0,G1);case"textInput":return t=e.data,t===G1&&K1?null:t;default:return null}}function Gx(t,e){if(Na)return t==="compositionend"||!ug&&Iy(t,e)?(t=Ty(),vh=og=Cs=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fy&&e.locale!=="ko"?null:e.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kx[t.type]:e==="textarea"}function Ry(t,e,r,n){fy(n),e=Bh(e,"onChange"),0<e.length&&(r=new ag("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var uu=null,ku=null;function Jx(t){Gy(t,0)}function gd(t){var e=Pa(t);if(oy(e))return t}function Yx(t,e){if(t==="change")return e}var My=!1;if(Ji){var Bf;if(Ji){var Uf="oninput"in document;if(!Uf){var Y1=document.createElement("div");Y1.setAttribute("oninput","return;"),Uf=typeof Y1.oninput=="function"}Bf=Uf}else Bf=!1;My=Bf&&(!document.documentMode||9<document.documentMode)}function Q1(){uu&&(uu.detachEvent("onpropertychange",$y),ku=uu=null)}function $y(t){if(t.propertyName==="value"&&gd(ku)){var e=[];Ry(e,ku,t,tg(t)),yy(Jx,e)}}function Qx(t,e,r){t==="focusin"?(Q1(),uu=e,ku=r,uu.attachEvent("onpropertychange",$y)):t==="focusout"&&Q1()}function Xx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gd(ku)}function Zx(t,e){if(t==="click")return gd(e)}function e4(t,e){if(t==="input"||t==="change")return gd(e)}function t4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ti=typeof Object.is=="function"?Object.is:t4;function Au(t,e){if(ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kp.call(e,i)||!ti(t[i],e[i]))return!1}return!0}function X1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z1(t,e){var r=X1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=X1(r)}}function Dy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function By(){for(var t=window,e=Fh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fh(t.document)}return e}function cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r4(t){var e=By(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Dy(r.ownerDocument.documentElement,r)){if(n!==null&&cg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Z1(r,s);var o=Z1(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var n4=Ji&&"documentMode"in document&&11>=document.documentMode,ka=null,Hp=null,cu=null,Wp=!1;function em(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wp||ka==null||ka!==Fh(n)||(n=ka,"selectionStart"in n&&cg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cu&&Au(cu,n)||(cu=n,n=Bh(Hp,"onSelect"),0<n.length&&(e=new ag("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ka)))}function Jc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Aa={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},zf={},Uy={};Ji&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function md(t){if(zf[t])return zf[t];if(!Aa[t])return t;var e=Aa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Uy)return zf[t]=e[r];return t}var zy=md("animationend"),qy=md("animationiteration"),Hy=md("animationstart"),Wy=md("transitionend"),Vy=new Map,tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){Vy.set(t,e),Eo(e,[t])}for(var qf=0;qf<tm.length;qf++){var Hf=tm[qf],i4=Hf.toLowerCase(),s4=Hf[0].toUpperCase()+Hf.slice(1);Gs(i4,"on"+s4)}Gs(zy,"onAnimationEnd");Gs(qy,"onAnimationIteration");Gs(Hy,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(Wy,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function rm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ix(n,e,void 0,t),t.currentTarget=null}function Gy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;rm(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;rm(i,a,c),s=l}}}if(Oh)throw t=Bp,Oh=!1,Bp=null,t}function Ft(t,e){var r=e[Yp];r===void 0&&(r=e[Yp]=new Set);var n=t+"__bubble";r.has(n)||(Ky(e,t,2,!1),r.add(n))}function Wf(t,e,r){var n=0;e&&(n|=4),Ky(r,t,n,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Pu(t){if(!t[Yc]){t[Yc]=!0,ty.forEach(function(r){r!=="selectionchange"&&(o4.has(r)||Wf(r,!1,t),Wf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,Wf("selectionchange",!1,e))}}function Ky(t,e,r,n){switch(Ey(e)){case 1:var i=bx;break;case 4:i=xx;break;default:i=sg}r=i.bind(null,e,r,t),i=void 0,!Dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Vf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}yy(function(){var c=s,d=tg(r),f=[];e:{var v=Vy.get(t);if(v!==void 0){var p=ag,_=t;switch(t){case"keypress":if(wh(r)===0)break e;case"keydown":case"keyup":p=Rx;break;case"focusin":_="focus",p=Df;break;case"focusout":_="blur",p=Df;break;case"beforeblur":case"afterblur":p=Df;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Dx;break;case zy:case qy:case Hy:p=Px;break;case Wy:p=Ux;break;case"scroll":p=Sx;break;case"wheel":p=qx;break;case"copy":case"cut":case"paste":p=Lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=V1}var N=(e&4)!==0,A=!N&&t==="scroll",y=N?v!==null?v+"Capture":null:v;N=[];for(var w=c,S;w!==null;){S=w;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,y!==null&&(T=xu(w,y),T!=null&&N.push(Cu(w,T,S)))),A)break;w=w.return}0<N.length&&(v=new p(v,_,null,r,d),f.push({event:v,listeners:N}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&r!==Mp&&(_=r.relatedTarget||r.fromElement)&&(wo(_)||_[Yi]))break e;if((p||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=c,_=_?wo(_):null,_!==null&&(A=To(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(N=H1,T="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(N=V1,T="onPointerLeave",y="onPointerEnter",w="pointer"),A=p==null?v:Pa(p),S=_==null?v:Pa(_),v=new N(T,w+"leave",p,r,d),v.target=A,v.relatedTarget=S,T=null,wo(d)===c&&(N=new N(y,w+"enter",_,r,d),N.target=S,N.relatedTarget=A,T=N),A=T,p&&_)t:{for(N=p,y=_,w=0,S=N;S;S=ca(S))w++;for(S=0,T=y;T;T=ca(T))S++;for(;0<w-S;)N=ca(N),w--;for(;0<S-w;)y=ca(y),S--;for(;w--;){if(N===y||y!==null&&N===y.alternate)break t;N=ca(N),y=ca(y)}N=null}else N=null;p!==null&&nm(f,v,p,N,!1),_!==null&&A!==null&&nm(f,A,_,N,!0)}}e:{if(v=c?Pa(c):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var B=Yx;else if(J1(v))if(My)B=e4;else{B=Xx;var Y=Qx}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(B=Zx);if(B&&(B=B(t,c))){Ry(f,B,r,d);break e}Y&&Y(t,v,c),t==="focusout"&&(Y=v._wrapperState)&&Y.controlled&&v.type==="number"&&Tp(v,"number",v.value)}switch(Y=c?Pa(c):window,t){case"focusin":(J1(Y)||Y.contentEditable==="true")&&(ka=Y,Hp=c,cu=null);break;case"focusout":cu=Hp=ka=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,em(f,r,d);break;case"selectionchange":if(n4)break;case"keydown":case"keyup":em(f,r,d)}var R;if(ug)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Na?Iy(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Fy&&r.locale!=="ko"&&(Na||k!=="onCompositionStart"?k==="onCompositionEnd"&&Na&&(R=Ty()):(Cs=d,og="value"in Cs?Cs.value:Cs.textContent,Na=!0)),Y=Bh(c,k),0<Y.length&&(k=new W1(k,t,null,r,d),f.push({event:k,listeners:Y}),R?k.data=R:(R=Oy(r),R!==null&&(k.data=R)))),(R=Wx?Vx(t,r):Gx(t,r))&&(c=Bh(c,"onBeforeInput"),0<c.length&&(d=new W1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=R))}Gy(f,e)})}function Cu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Bh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xu(t,r),s!=null&&n.unshift(Cu(t,s,i)),s=xu(t,e),s!=null&&n.push(Cu(t,s,i))),t=t.return}return n}function ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nm(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=xu(r,s),l!=null&&o.unshift(Cu(r,l,a))):i||(l=xu(r,s),l!=null&&o.push(Cu(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var a4=/\r\n?/g,l4=/\u0000|\uFFFD/g;function im(t){return(typeof t=="string"?t:""+t).replace(a4,`
`).replace(l4,"")}function Qc(t,e,r){if(e=im(e),im(t)!==e&&r)throw Error(je(425))}function Uh(){}var Vp=null,Gp=null;function Kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jp=typeof setTimeout=="function"?setTimeout:void 0,u4=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(t){return sm.resolve(null).then(t).catch(h4)}:Jp;function h4(t){setTimeout(function(){throw t})}function Gf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Nu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Nu(e)}function Os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function om(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),vi="__reactFiber$"+il,Lu="__reactProps$"+il,Yi="__reactContainer$"+il,Yp="__reactEvents$"+il,d4="__reactListeners$"+il,f4="__reactHandles$"+il;function wo(t){var e=t[vi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yi]||r[vi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=om(t);t!==null;){if(r=t[vi])return r;t=om(t)}return e}t=r,r=t.parentNode}return null}function zu(t){return t=t[vi]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function yd(t){return t[Lu]||null}var Qp=[],Ca=-1;function Ks(t){return{current:t}}function Ot(t){0>Ca||(t.current=Qp[Ca],Qp[Ca]=null,Ca--)}function Tt(t,e){Ca++,Qp[Ca]=t.current,t.current=e}var Us={},Mr=Ks(Us),rn=Ks(!1),Ao=Us;function Ga(t,e){var r=t.type.contextTypes;if(!r)return Us;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function zh(){Ot(rn),Ot(Mr)}function am(t,e,r){if(Mr.current!==Us)throw Error(je(168));Tt(Mr,e),Tt(rn,r)}function Jy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(je(108,Qb(t)||"Unknown",i));return zt({},r,n)}function qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,Ao=Mr.current,Tt(Mr,t),Tt(rn,rn.current),!0}function lm(t,e,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=Jy(t,e,Ao),n.__reactInternalMemoizedMergedChildContext=t,Ot(rn),Ot(Mr),Tt(Mr,t)):Ot(rn),Tt(rn,r)}var qi=null,vd=!1,Kf=!1;function Yy(t){qi===null?qi=[t]:qi.push(t)}function p4(t){vd=!0,Yy(t)}function Js(){if(!Kf&&qi!==null){Kf=!0;var t=0,e=_t;try{var r=qi;for(_t=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qi=null,vd=!1}catch(i){throw qi!==null&&(qi=qi.slice(t+1)),xy(rg,Js),i}finally{_t=e,Kf=!1}}return null}var La=[],ja=0,Hh=null,Wh=0,Cn=[],Ln=0,Po=null,Hi=1,Wi="";function fo(t,e){La[ja++]=Wh,La[ja++]=Hh,Hh=t,Wh=e}function Qy(t,e,r){Cn[Ln++]=Hi,Cn[Ln++]=Wi,Cn[Ln++]=Po,Po=t;var n=Hi;t=Wi;var i=32-Zn(n)-1;n&=~(1<<i),r+=1;var s=32-Zn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Hi=1<<32-Zn(e)+i|r<<i|n,Wi=s+t}else Hi=1<<s|r<<i|n,Wi=t}function hg(t){t.return!==null&&(fo(t,1),Qy(t,1,0))}function dg(t){for(;t===Hh;)Hh=La[--ja],La[ja]=null,Wh=La[--ja],La[ja]=null;for(;t===Po;)Po=Cn[--Ln],Cn[Ln]=null,Wi=Cn[--Ln],Cn[Ln]=null,Hi=Cn[--Ln],Cn[Ln]=null}var gn=null,fn=null,Mt=!1,Xn=null;function Xy(t,e){var r=jn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function um(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,fn=Os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Po!==null?{id:Hi,overflow:Wi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=jn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gn=t,fn=null,!0):!1;default:return!1}}function Xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zp(t){if(Mt){var e=fn;if(e){var r=e;if(!um(t,e)){if(Xp(t))throw Error(je(418));e=Os(r.nextSibling);var n=gn;e&&um(t,e)?Xy(n,r):(t.flags=t.flags&-4097|2,Mt=!1,gn=t)}}else{if(Xp(t))throw Error(je(418));t.flags=t.flags&-4097|2,Mt=!1,gn=t}}}function cm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function Xc(t){if(t!==gn)return!1;if(!Mt)return cm(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kp(t.type,t.memoizedProps)),e&&(e=fn)){if(Xp(t))throw Zy(),Error(je(418));for(;e;)Xy(t,e),e=Os(e.nextSibling)}if(cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fn=Os(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=gn?Os(t.stateNode.nextSibling):null;return!0}function Zy(){for(var t=fn;t;)t=Os(t.nextSibling)}function Ka(){fn=gn=null,Mt=!1}function fg(t){Xn===null?Xn=[t]:Xn.push(t)}var g4=ts.ReactCurrentBatchConfig;function Hl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function Zc(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hm(t){var e=t._init;return e(t._payload)}function e5(t){function e(y,w){if(t){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Ds(y,w),y.index=0,y.sibling=null,y}function s(y,w,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,T){return w===null||w.tag!==6?(w=tp(S,y.mode,T),w.return=y,w):(w=i(w,S),w.return=y,w)}function l(y,w,S,T){var B=S.type;return B===_a?d(y,w,S.props.children,T,S.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ss&&hm(B)===w.type)?(T=i(w,S.props),T.ref=Hl(y,w,S),T.return=y,T):(T=Ah(S.type,S.key,S.props,null,y.mode,T),T.ref=Hl(y,w,S),T.return=y,T)}function c(y,w,S,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=rp(S,y.mode,T),w.return=y,w):(w=i(w,S.children||[]),w.return=y,w)}function d(y,w,S,T,B){return w===null||w.tag!==7?(w=No(S,y.mode,T,B),w.return=y,w):(w=i(w,S),w.return=y,w)}function f(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=tp(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zc:return S=Ah(w.type,w.key,w.props,null,y.mode,S),S.ref=Hl(y,null,w),S.return=y,S;case Sa:return w=rp(w,y.mode,S),w.return=y,w;case Ss:var T=w._init;return f(y,T(w._payload),S)}if(eu(w)||Dl(w))return w=No(w,y.mode,S,null),w.return=y,w;Zc(y,w)}return null}function v(y,w,S,T){var B=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return B!==null?null:a(y,w,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zc:return S.key===B?l(y,w,S,T):null;case Sa:return S.key===B?c(y,w,S,T):null;case Ss:return B=S._init,v(y,w,B(S._payload),T)}if(eu(S)||Dl(S))return B!==null?null:d(y,w,S,T,null);Zc(y,S)}return null}function p(y,w,S,T,B){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(S)||null,a(w,y,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zc:return y=y.get(T.key===null?S:T.key)||null,l(w,y,T,B);case Sa:return y=y.get(T.key===null?S:T.key)||null,c(w,y,T,B);case Ss:var Y=T._init;return p(y,w,S,Y(T._payload),B)}if(eu(T)||Dl(T))return y=y.get(S)||null,d(w,y,T,B,null);Zc(w,T)}return null}function _(y,w,S,T){for(var B=null,Y=null,R=w,k=w=0,O=null;R!==null&&k<S.length;k++){R.index>k?(O=R,R=null):O=R.sibling;var U=v(y,R,S[k],T);if(U===null){R===null&&(R=O);break}t&&R&&U.alternate===null&&e(y,R),w=s(U,w,k),Y===null?B=U:Y.sibling=U,Y=U,R=O}if(k===S.length)return r(y,R),Mt&&fo(y,k),B;if(R===null){for(;k<S.length;k++)R=f(y,S[k],T),R!==null&&(w=s(R,w,k),Y===null?B=R:Y.sibling=R,Y=R);return Mt&&fo(y,k),B}for(R=n(y,R);k<S.length;k++)O=p(R,y,k,S[k],T),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?k:O.key),w=s(O,w,k),Y===null?B=O:Y.sibling=O,Y=O);return t&&R.forEach(function(E){return e(y,E)}),Mt&&fo(y,k),B}function N(y,w,S,T){var B=Dl(S);if(typeof B!="function")throw Error(je(150));if(S=B.call(S),S==null)throw Error(je(151));for(var Y=B=null,R=w,k=w=0,O=null,U=S.next();R!==null&&!U.done;k++,U=S.next()){R.index>k?(O=R,R=null):O=R.sibling;var E=v(y,R,U.value,T);if(E===null){R===null&&(R=O);break}t&&R&&E.alternate===null&&e(y,R),w=s(E,w,k),Y===null?B=E:Y.sibling=E,Y=E,R=O}if(U.done)return r(y,R),Mt&&fo(y,k),B;if(R===null){for(;!U.done;k++,U=S.next())U=f(y,U.value,T),U!==null&&(w=s(U,w,k),Y===null?B=U:Y.sibling=U,Y=U);return Mt&&fo(y,k),B}for(R=n(y,R);!U.done;k++,U=S.next())U=p(R,y,k,U.value,T),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?k:U.key),w=s(U,w,k),Y===null?B=U:Y.sibling=U,Y=U);return t&&R.forEach(function(j){return e(y,j)}),Mt&&fo(y,k),B}function A(y,w,S,T){if(typeof S=="object"&&S!==null&&S.type===_a&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zc:e:{for(var B=S.key,Y=w;Y!==null;){if(Y.key===B){if(B=S.type,B===_a){if(Y.tag===7){r(y,Y.sibling),w=i(Y,S.props.children),w.return=y,y=w;break e}}else if(Y.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ss&&hm(B)===Y.type){r(y,Y.sibling),w=i(Y,S.props),w.ref=Hl(y,Y,S),w.return=y,y=w;break e}r(y,Y);break}else e(y,Y);Y=Y.sibling}S.type===_a?(w=No(S.props.children,y.mode,T,S.key),w.return=y,y=w):(T=Ah(S.type,S.key,S.props,null,y.mode,T),T.ref=Hl(y,w,S),T.return=y,y=T)}return o(y);case Sa:e:{for(Y=S.key;w!==null;){if(w.key===Y)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(y,w.sibling),w=i(w,S.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=rp(S,y.mode,T),w.return=y,y=w}return o(y);case Ss:return Y=S._init,A(y,w,Y(S._payload),T)}if(eu(S))return _(y,w,S,T);if(Dl(S))return N(y,w,S,T);Zc(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,S),w.return=y,y=w):(r(y,w),w=tp(S,y.mode,T),w.return=y,y=w),o(y)):r(y,w)}return A}var Ja=e5(!0),t5=e5(!1),Vh=Ks(null),Gh=null,Ea=null,pg=null;function gg(){pg=Ea=Gh=null}function mg(t){var e=Vh.current;Ot(Vh),t._currentValue=e}function e0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Da(t,e){Gh=t,pg=Ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(pg!==t)if(t={context:t,memoizedValue:e,next:null},Ea===null){if(Gh===null)throw Error(je(308));Ea=t,Gh.dependencies={lanes:0,firstContext:t}}else Ea=Ea.next=t;return e}var bo=null;function yg(t){bo===null?bo=[t]:bo.push(t)}function r5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,yg(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qi(t,n)}function Qi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _s=!1;function vg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qi(t,r)}return i=n.interleaved,i===null?(e.next=e,yg(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qi(t,r)}function bh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ng(t,r)}}function dm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Kh(t,e,r,n){var i=t.updateQueue;_s=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var v=a.lane,p=a.eventTime;if((n&v)===v){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,N=a;switch(v=e,p=r,N.tag){case 1:if(_=N.payload,typeof _=="function"){f=_.call(p,f,v);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=N.payload,v=typeof _=="function"?_.call(p,f,v):_,v==null)break e;f=zt({},f,v);break e;case 2:_s=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else p={eventTime:p,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Lo|=o,t.lanes=o,t.memoizedState=f}}function fm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var qu={},Si=Ks(qu),ju=Ks(qu),Eu=Ks(qu);function xo(t){if(t===qu)throw Error(je(174));return t}function wg(t,e){switch(Tt(Eu,e),Tt(ju,t),Tt(Si,qu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ip(e,t)}Ot(Si),Tt(Si,e)}function Ya(){Ot(Si),Ot(ju),Ot(Eu)}function i5(t){xo(Eu.current);var e=xo(Si.current),r=Ip(e,t.type);e!==r&&(Tt(ju,t),Tt(Si,r))}function bg(t){ju.current===t&&(Ot(Si),Ot(ju))}var Dt=Ks(0);function Jh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jf=[];function xg(){for(var t=0;t<Jf.length;t++)Jf[t]._workInProgressVersionPrimary=null;Jf.length=0}var xh=ts.ReactCurrentDispatcher,Yf=ts.ReactCurrentBatchConfig,Co=0,Bt=null,hr=null,yr=null,Yh=!1,hu=!1,Tu=0,m4=0;function Cr(){throw Error(je(321))}function Sg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ti(t[r],e[r]))return!1;return!0}function _g(t,e,r,n,i,s){if(Co=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xh.current=t===null||t.memoizedState===null?b4:x4,t=r(n,i),hu){s=0;do{if(hu=!1,Tu=0,25<=s)throw Error(je(301));s+=1,yr=hr=null,e.updateQueue=null,xh.current=S4,t=r(n,i)}while(hu)}if(xh.current=Qh,e=hr!==null&&hr.next!==null,Co=0,yr=hr=Bt=null,Yh=!1,e)throw Error(je(300));return t}function Ng(){var t=Tu!==0;return Tu=0,t}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Bt.memoizedState=yr=t:yr=yr.next=t,yr}function Fn(){if(hr===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=hr.next;var e=yr===null?Bt.memoizedState:yr.next;if(e!==null)yr=e,hr=t;else{if(t===null)throw Error(je(310));hr=t,t={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},yr===null?Bt.memoizedState=yr=t:yr=yr.next=t}return yr}function Fu(t,e){return typeof e=="function"?e(t):e}function Qf(t){var e=Fn(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=hr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Co&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Bt.lanes|=d,Lo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,ti(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,Lo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xf(t){var e=Fn(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ti(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function s5(){}function o5(t,e){var r=Bt,n=Fn(),i=e(),s=!ti(n.memoizedState,i);if(s&&(n.memoizedState=i,tn=!0),n=n.queue,kg(u5.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||yr!==null&&yr.memoizedState.tag&1){if(r.flags|=2048,Iu(9,l5.bind(null,r,n,i,e),void 0,null),wr===null)throw Error(je(349));Co&30||a5(r,e,i)}return i}function a5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function l5(t,e,r,n){e.value=r,e.getSnapshot=n,c5(e)&&h5(t)}function u5(t,e,r){return r(function(){c5(e)&&h5(t)})}function c5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ti(t,r)}catch{return!0}}function h5(t){var e=Qi(t,1);e!==null&&ei(e,t,1,-1)}function pm(t){var e=yi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:t},e.queue=t,t=t.dispatch=w4.bind(null,Bt,t),[e.memoizedState,t]}function Iu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function d5(){return Fn().memoizedState}function Sh(t,e,r,n){var i=yi();Bt.flags|=t,i.memoizedState=Iu(1|e,r,void 0,n===void 0?null:n)}function wd(t,e,r,n){var i=Fn();n=n===void 0?null:n;var s=void 0;if(hr!==null){var o=hr.memoizedState;if(s=o.destroy,n!==null&&Sg(n,o.deps)){i.memoizedState=Iu(e,r,s,n);return}}Bt.flags|=t,i.memoizedState=Iu(1|e,r,s,n)}function gm(t,e){return Sh(8390656,8,t,e)}function kg(t,e){return wd(2048,8,t,e)}function f5(t,e){return wd(4,2,t,e)}function p5(t,e){return wd(4,4,t,e)}function g5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m5(t,e,r){return r=r!=null?r.concat([t]):null,wd(4,4,g5.bind(null,e,t),r)}function Ag(){}function y5(t,e){var r=Fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Sg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function v5(t,e){var r=Fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Sg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function w5(t,e,r){return Co&21?(ti(r,e)||(r=Ny(),Bt.lanes|=r,Lo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function y4(t,e){var r=_t;_t=r!==0&&4>r?r:4,t(!0);var n=Yf.transition;Yf.transition={};try{t(!1),e()}finally{_t=r,Yf.transition=n}}function b5(){return Fn().memoizedState}function v4(t,e,r){var n=$s(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x5(t))S5(e,r);else if(r=r5(t,e,r,n),r!==null){var i=zr();ei(r,t,n,i),_5(r,e,n)}}function w4(t,e,r){var n=$s(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x5(t))S5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ti(a,o)){var l=e.interleaved;l===null?(i.next=i,yg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=r5(t,e,i,n),r!==null&&(i=zr(),ei(r,t,n,i),_5(r,e,n))}}function x5(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function S5(t,e){hu=Yh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function _5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ng(t,r)}}var Qh={readContext:Tn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},b4={readContext:Tn,useCallback:function(t,e){return yi().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:gm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Sh(4194308,4,g5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Sh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sh(4,2,t,e)},useMemo:function(t,e){var r=yi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=yi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=v4.bind(null,Bt,t),[n.memoizedState,t]},useRef:function(t){var e=yi();return t={current:t},e.memoizedState=t},useState:pm,useDebugValue:Ag,useDeferredValue:function(t){return yi().memoizedState=t},useTransition:function(){var t=pm(!1),e=t[0];return t=y4.bind(null,t[1]),yi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Bt,i=yi();if(Mt){if(r===void 0)throw Error(je(407));r=r()}else{if(r=e(),wr===null)throw Error(je(349));Co&30||a5(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,gm(u5.bind(null,n,s,t),[t]),n.flags|=2048,Iu(9,l5.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=yi(),e=wr.identifierPrefix;if(Mt){var r=Wi,n=Hi;r=(n&~(1<<32-Zn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Tu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=m4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x4={readContext:Tn,useCallback:y5,useContext:Tn,useEffect:kg,useImperativeHandle:m5,useInsertionEffect:f5,useLayoutEffect:p5,useMemo:v5,useReducer:Qf,useRef:d5,useState:function(){return Qf(Fu)},useDebugValue:Ag,useDeferredValue:function(t){var e=Fn();return w5(e,hr.memoizedState,t)},useTransition:function(){var t=Qf(Fu)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:s5,useSyncExternalStore:o5,useId:b5,unstable_isNewReconciler:!1},S4={readContext:Tn,useCallback:y5,useContext:Tn,useEffect:kg,useImperativeHandle:m5,useInsertionEffect:f5,useLayoutEffect:p5,useMemo:v5,useReducer:Xf,useRef:d5,useState:function(){return Xf(Fu)},useDebugValue:Ag,useDeferredValue:function(t){var e=Fn();return hr===null?e.memoizedState=t:w5(e,hr.memoizedState,t)},useTransition:function(){var t=Xf(Fu)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:s5,useSyncExternalStore:o5,useId:b5,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function t0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:zt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bd={isMounted:function(t){return(t=t._reactInternals)?To(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zr(),i=$s(t),s=Gi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Rs(t,s,i),e!==null&&(ei(e,t,i,n),bh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zr(),i=$s(t),s=Gi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Rs(t,s,i),e!==null&&(ei(e,t,i,n),bh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zr(),n=$s(t),i=Gi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Rs(t,i,n),e!==null&&(ei(e,t,n,r),bh(e,t,n))}};function mm(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Au(r,n)||!Au(i,s):!0}function N5(t,e,r){var n=!1,i=Us,s=e.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=nn(e)?Ao:Mr.current,n=e.contextTypes,s=(n=n!=null)?Ga(t,i):Us),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ym(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function r0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},vg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=nn(e)?Ao:Mr.current,i.context=Ga(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(t0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bd.enqueueReplaceState(i,i.state,null),Kh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var r="",n=e;do r+=Yb(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function n0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _4=typeof WeakMap=="function"?WeakMap:Map;function k5(t,e,r){r=Gi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zh||(Zh=!0,f0=n),n0(t,e)},r}function A5(t,e,r){r=Gi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){n0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){n0(t,e),typeof n!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function vm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=M4.bind(null,t,e,r),e.then(t,t))}function wm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bm(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Gi(-1,1),e.tag=2,Rs(r,e,1))),r.lanes|=1),t)}var N4=ts.ReactCurrentOwner,tn=!1;function Ur(t,e,r,n){e.child=t===null?t5(e,null,r,n):Ja(e,t.child,r,n)}function xm(t,e,r,n,i){r=r.render;var s=e.ref;return Da(e,i),n=_g(t,e,r,n,s,i),r=Ng(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(Mt&&r&&hg(e),e.flags|=1,Ur(t,e,n,i),e.child)}function Sm(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ig(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,P5(t,e,s,n,i)):(t=Ah(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Au,r(o,n)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=Ds(s,n),t.ref=e.ref,t.return=e,e.child=t}function P5(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Au(s,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return i0(t,e,r,n,i)}function C5(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Fa,dn),dn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(Fa,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Tt(Fa,dn),dn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Tt(Fa,dn),dn|=n;return Ur(t,e,i,r),e.child}function L5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function i0(t,e,r,n,i){var s=nn(r)?Ao:Mr.current;return s=Ga(e,s),Da(e,i),r=_g(t,e,r,n,s,i),n=Ng(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(Mt&&n&&hg(e),e.flags|=1,Ur(t,e,r,i),e.child)}function _m(t,e,r,n,i){if(nn(r)){var s=!0;qh(e)}else s=!1;if(Da(e,i),e.stateNode===null)_h(t,e),N5(e,r,n),r0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Tn(c):(c=nn(r)?Ao:Mr.current,c=Ga(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&ym(e,o,n,c),_s=!1;var v=e.memoizedState;o.state=v,Kh(e,n,o,i),l=e.memoizedState,a!==n||v!==l||rn.current||_s?(typeof d=="function"&&(t0(e,r,d,n),l=e.memoizedState),(a=_s||mm(e,r,a,n,v,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,n5(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kn(e.type,a),o.props=c,f=e.pendingProps,v=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=nn(r)?Ao:Mr.current,l=Ga(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||v!==l)&&ym(e,o,n,l),_s=!1,v=e.memoizedState,o.state=v,Kh(e,n,o,i);var _=e.memoizedState;a!==f||v!==_||rn.current||_s?(typeof p=="function"&&(t0(e,r,p,n),_=e.memoizedState),(c=_s||mm(e,r,c,n,v,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return s0(t,e,r,n,s,i)}function s0(t,e,r,n,i,s){L5(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&lm(e,r,!1),Xi(t,e,s);n=e.stateNode,N4.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ja(e,t.child,null,s),e.child=Ja(e,null,a,s)):Ur(t,e,a,s),e.memoizedState=n.state,i&&lm(e,r,!0),e.child}function j5(t){var e=t.stateNode;e.pendingContext?am(t,e.pendingContext,e.pendingContext!==e.context):e.context&&am(t,e.context,!1),wg(t,e.containerInfo)}function Nm(t,e,r,n,i){return Ka(),fg(i),e.flags|=256,Ur(t,e,r,n),e.child}var o0={dehydrated:null,treeContext:null,retryLane:0};function a0(t){return{baseLanes:t,cachePool:null,transitions:null}}function E5(t,e,r){var n=e.pendingProps,i=Dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt(Dt,i&1),t===null)return Zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_d(o,n,0,null),t=No(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=a0(r),e.memoizedState=o0,t):Pg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return k4(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ds(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ds(a,s):(s=No(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?a0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=o0,n}return s=t.child,t=s.sibling,n=Ds(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Pg(t,e){return e=_d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eh(t,e,r,n){return n!==null&&fg(n),Ja(e,t.child,null,r),t=Pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k4(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Zf(Error(je(422))),eh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=_d({mode:"visible",children:n.children},i,0,null),s=No(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ja(e,t.child,null,o),e.child.memoizedState=a0(o),e.memoizedState=o0,s);if(!(e.mode&1))return eh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(je(419)),n=Zf(s,n,void 0),eh(t,e,o,n)}if(a=(o&t.childLanes)!==0,tn||a){if(n=wr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(t,i),ei(n,t,i,-1))}return Fg(),n=Zf(Error(je(421))),eh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Os(i.nextSibling),gn=e,Mt=!0,Xn=null,t!==null&&(Cn[Ln++]=Hi,Cn[Ln++]=Wi,Cn[Ln++]=Po,Hi=t.id,Wi=t.overflow,Po=e),e=Pg(e,n.children),e.flags|=4096,e)}function km(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),e0(t.return,e,r)}function ep(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function T5(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ur(t,e,n.children,r),n=Dt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&km(t,r,e);else if(t.tag===19)km(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Tt(Dt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Jh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ep(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ep(e,!0,r,null,s);break;case"together":ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Lo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,r=Ds(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ds(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function A4(t,e,r){switch(e.tag){case 3:j5(e),Ka();break;case 5:i5(e);break;case 1:nn(e.type)&&qh(e);break;case 4:wg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Tt(Vh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Tt(Dt,Dt.current&1),e.flags|=128,null):r&e.child.childLanes?E5(t,e,r):(Tt(Dt,Dt.current&1),t=Xi(t,e,r),t!==null?t.sibling:null);Tt(Dt,Dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return T5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Dt,Dt.current),n)break;return null;case 22:case 23:return e.lanes=0,C5(t,e,r)}return Xi(t,e,r)}var F5,l0,I5,O5;F5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};l0=function(){};I5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,xo(Si.current);var s=null;switch(r){case"input":i=jp(t,i),n=jp(t,n),s=[];break;case"select":i=zt({},i,{value:void 0}),n=zt({},n,{value:void 0}),s=[];break;case"textarea":i=Fp(t,i),n=Fp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Uh)}Op(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ft("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};O5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wl(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function P4(t,e,r){var n=e.pendingProps;switch(dg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return nn(e.type)&&zh(),Lr(e),null;case 3:return n=e.stateNode,Ya(),Ot(rn),Ot(Mr),xg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(m0(Xn),Xn=null))),l0(t,e),Lr(e),null;case 5:bg(e);var i=xo(Eu.current);if(r=e.type,t!==null&&e.stateNode!=null)I5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(je(166));return Lr(e),null}if(t=xo(Si.current),Xc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[vi]=e,n[Lu]=s,t=(e.mode&1)!==0,r){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(i=0;i<ru.length;i++)Ft(ru[i],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":I1(n,s),Ft("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",n);break;case"textarea":R1(n,s),Ft("invalid",n)}Op(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qc(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qc(n.textContent,a,t),i=["children",""+a]):wu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ft("scroll",n)}switch(r){case"input":qc(n),O1(n,s,!0);break;case"textarea":qc(n),M1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Uh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uy(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[vi]=e,t[Lu]=n,F5(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rp(r,n),r){case"dialog":Ft("cancel",t),Ft("close",t),i=n;break;case"iframe":case"object":case"embed":Ft("load",t),i=n;break;case"video":case"audio":for(i=0;i<ru.length;i++)Ft(ru[i],t);i=n;break;case"source":Ft("error",t),i=n;break;case"img":case"image":case"link":Ft("error",t),Ft("load",t),i=n;break;case"details":Ft("toggle",t),i=n;break;case"input":I1(t,n),i=jp(t,n),Ft("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=zt({},n,{value:void 0}),Ft("invalid",t);break;case"textarea":R1(t,n),i=Fp(t,n),Ft("invalid",t);break;default:i=n}Op(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cy(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&bu(t,l):typeof l=="number"&&bu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ft("scroll",t):l!=null&&Q0(t,s,l,o))}switch(r){case"input":qc(t),O1(t,n,!1);break;case"textarea":qc(t),M1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Bs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Oa(t,!!n.multiple,s,!1):n.defaultValue!=null&&Oa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(t&&e.stateNode!=null)O5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(je(166));if(r=xo(Eu.current),xo(Si.current),Xc(e)){if(n=e.stateNode,r=e.memoizedProps,n[vi]=e,(s=n.nodeValue!==r)&&(t=gn,t!==null))switch(t.tag){case 3:Qc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vi]=e,e.stateNode=n}return Lr(e),null;case 13:if(Ot(Dt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&fn!==null&&e.mode&1&&!(e.flags&128))Zy(),Ka(),e.flags|=98560,s=!1;else if(s=Xc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[vi]=e}else Ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),s=!1}else Xn!==null&&(m0(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?dr===0&&(dr=3):Fg())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return Ya(),l0(t,e),t===null&&Pu(e.stateNode.containerInfo),Lr(e),null;case 10:return mg(e.type._context),Lr(e),null;case 17:return nn(e.type)&&zh(),Lr(e),null;case 19:if(Ot(Dt),s=e.memoizedState,s===null)return Lr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Wl(s,!1);else{if(dr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jh(t),o!==null){for(e.flags|=128,Wl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Tt(Dt,Dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>Xa&&(e.flags|=128,n=!0,Wl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Jh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Mt)return Lr(e),null}else 2*Xt()-s.renderingStartTime>Xa&&r!==1073741824&&(e.flags|=128,n=!0,Wl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,r=Dt.current,Tt(Dt,n?r&1|2:r&1),e):(Lr(e),null);case 22:case 23:return Tg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dn&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function C4(t,e){switch(dg(e),e.tag){case 1:return nn(e.type)&&zh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ya(),Ot(rn),Ot(Mr),xg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bg(e),null;case 13:if(Ot(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ot(Dt),null;case 4:return Ya(),null;case 10:return mg(e.type._context),null;case 22:case 23:return Tg(),null;case 24:return null;default:return null}}var th=!1,Or=!1,L4=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Ta(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kt(t,e,n)}else r.current=null}function u0(t,e,r){try{r()}catch(n){Kt(t,e,n)}}var Am=!1;function j4(t,e){if(Vp=$h,t=By(),cg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,v=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)v=f,f=p;for(;;){if(f===t)break t;if(v===r&&++c===i&&(a=o),v===s&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gp={focusedElem:t,selectionRange:r},$h=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var N=_.memoizedProps,A=_.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?N:Kn(e.type,N),A);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(T){Kt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return _=Am,Am=!1,_}function du(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&u0(e,r,s)}i=i.next}while(i!==n)}}function xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function c0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function R5(t){var e=t.alternate;e!==null&&(t.alternate=null,R5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[Lu],delete e[Yp],delete e[d4],delete e[f4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M5(t){return t.tag===5||t.tag===3||t.tag===4}function Pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function h0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Uh));else if(n!==4&&(t=t.child,t!==null))for(h0(t,e,r),t=t.sibling;t!==null;)h0(t,e,r),t=t.sibling}function d0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(d0(t,e,r),t=t.sibling;t!==null;)d0(t,e,r),t=t.sibling}var _r=null,Yn=!1;function ys(t,e,r){for(r=r.child;r!==null;)$5(t,e,r),r=r.sibling}function $5(t,e,r){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(fd,r)}catch{}switch(r.tag){case 5:Or||Ta(r,e);case 6:var n=_r,i=Yn;_r=null,ys(t,e,r),_r=n,Yn=i,_r!==null&&(Yn?(t=_r,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_r.removeChild(r.stateNode));break;case 18:_r!==null&&(Yn?(t=_r,r=r.stateNode,t.nodeType===8?Gf(t.parentNode,r):t.nodeType===1&&Gf(t,r),Nu(t)):Gf(_r,r.stateNode));break;case 4:n=_r,i=Yn,_r=r.stateNode.containerInfo,Yn=!0,ys(t,e,r),_r=n,Yn=i;break;case 0:case 11:case 14:case 15:if(!Or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u0(r,e,o),i=i.next}while(i!==n)}ys(t,e,r);break;case 1:if(!Or&&(Ta(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Kt(r,e,a)}ys(t,e,r);break;case 21:ys(t,e,r);break;case 22:r.mode&1?(Or=(n=Or)||r.memoizedState!==null,ys(t,e,r),Or=n):ys(t,e,r);break;default:ys(t,e,r)}}function Cm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new L4),e.forEach(function(n){var i=D4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_r=a.stateNode,Yn=!1;break e;case 3:_r=a.stateNode.containerInfo,Yn=!0;break e;case 4:_r=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(_r===null)throw Error(je(160));$5(s,o,i),_r=null,Yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D5(e,t),e=e.sibling}function D5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),gi(t),n&4){try{du(3,t,t.return),xd(3,t)}catch(N){Kt(t,t.return,N)}try{du(5,t,t.return)}catch(N){Kt(t,t.return,N)}}break;case 1:Hn(e,t),gi(t),n&512&&r!==null&&Ta(r,r.return);break;case 5:if(Hn(e,t),gi(t),n&512&&r!==null&&Ta(r,r.return),t.flags&32){var i=t.stateNode;try{bu(i,"")}catch(N){Kt(t,t.return,N)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ay(i,s),Rp(a,o);var c=Rp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?dy(i,f):d==="dangerouslySetInnerHTML"?cy(i,f):d==="children"?bu(i,f):Q0(i,d,f,c)}switch(a){case"input":Ep(i,s);break;case"textarea":ly(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Oa(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?Oa(i,!!s.multiple,s.defaultValue,!0):Oa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lu]=s}catch(N){Kt(t,t.return,N)}}break;case 6:if(Hn(e,t),gi(t),n&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Kt(t,t.return,N)}}break;case 3:if(Hn(e,t),gi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nu(e.containerInfo)}catch(N){Kt(t,t.return,N)}break;case 4:Hn(e,t),gi(t);break;case 13:Hn(e,t),gi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jg=Xt())),n&4&&Cm(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Or=(c=Or)||d,Hn(e,t),Or=c):Hn(e,t),gi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Be=t,d=t.child;d!==null;){for(f=Be=d;Be!==null;){switch(v=Be,p=v.child,v.tag){case 0:case 11:case 14:case 15:du(4,v,v.return);break;case 1:Ta(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(N){Kt(n,r,N)}}break;case 5:Ta(v,v.return);break;case 22:if(v.memoizedState!==null){jm(f);continue}}p!==null?(p.return=v,Be=p):jm(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hy("display",o))}catch(N){Kt(t,t.return,N)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(N){Kt(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(e,t),gi(t),n&4&&Cm(t);break;case 21:break;default:Hn(e,t),gi(t)}}function gi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(M5(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(bu(i,""),n.flags&=-33);var s=Pm(t);d0(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Pm(t);h0(t,a,o);break;default:throw Error(je(161))}}catch(l){Kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E4(t,e,r){Be=t,B5(t)}function B5(t,e,r){for(var n=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||th;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Or;a=th;var c=Or;if(th=o,(Or=l)&&!c)for(Be=i;Be!==null;)o=Be,l=o.child,o.tag===22&&o.memoizedState!==null?Em(i):l!==null?(l.return=o,Be=l):Em(i);for(;s!==null;)Be=s,B5(s),s=s.sibling;Be=i,th=a,Or=c}Lm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):Lm(t)}}function Lm(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||xd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Or)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Kn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fm(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fm(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Or||e.flags&512&&c0(e)}catch(v){Kt(e,e.return,v)}}if(e===t){Be=null;break}if(r=e.sibling,r!==null){r.return=e.return,Be=r;break}Be=e.return}}function jm(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Be=r;break}Be=e.return}}function Em(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xd(4,e)}catch(l){Kt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Kt(e,i,l)}}var s=e.return;try{c0(e)}catch(l){Kt(e,s,l)}break;case 5:var o=e.return;try{c0(e)}catch(l){Kt(e,o,l)}}}catch(l){Kt(e,e.return,l)}if(e===t){Be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Be=a;break}Be=e.return}}var T4=Math.ceil,Xh=ts.ReactCurrentDispatcher,Cg=ts.ReactCurrentOwner,En=ts.ReactCurrentBatchConfig,mt=0,wr=null,ar=null,Nr=0,dn=0,Fa=Ks(0),dr=0,Ou=null,Lo=0,Sd=0,Lg=0,fu=null,Zr=null,jg=0,Xa=1/0,Bi=null,Zh=!1,f0=null,Ms=null,rh=!1,Ls=null,ed=0,pu=0,p0=null,Nh=-1,kh=0;function zr(){return mt&6?Xt():Nh!==-1?Nh:Nh=Xt()}function $s(t){return t.mode&1?mt&2&&Nr!==0?Nr&-Nr:g4.transition!==null?(kh===0&&(kh=Ny()),kh):(t=_t,t!==0||(t=window.event,t=t===void 0?16:Ey(t.type)),t):1}function ei(t,e,r,n){if(50<pu)throw pu=0,p0=null,Error(je(185));Bu(t,r,n),(!(mt&2)||t!==wr)&&(t===wr&&(!(mt&2)&&(Sd|=r),dr===4&&ks(t,Nr)),sn(t,n),r===1&&mt===0&&!(e.mode&1)&&(Xa=Xt()+500,vd&&Js()))}function sn(t,e){var r=t.callbackNode;gx(t,e);var n=Mh(t,t===wr?Nr:0);if(n===0)r!==null&&B1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&B1(r),e===1)t.tag===0?p4(Tm.bind(null,t)):Yy(Tm.bind(null,t)),c4(function(){!(mt&6)&&Js()}),r=null;else{switch(ky(n)){case 1:r=rg;break;case 4:r=Sy;break;case 16:r=Rh;break;case 536870912:r=_y;break;default:r=Rh}r=K5(r,U5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function U5(t,e){if(Nh=-1,kh=0,mt&6)throw Error(je(327));var r=t.callbackNode;if(Ba()&&t.callbackNode!==r)return null;var n=Mh(t,t===wr?Nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=td(t,n);else{e=n;var i=mt;mt|=2;var s=q5();(wr!==t||Nr!==e)&&(Bi=null,Xa=Xt()+500,_o(t,e));do try{O4();break}catch(a){z5(t,a)}while(!0);gg(),Xh.current=s,mt=i,ar!==null?e=0:(wr=null,Nr=0,e=dr)}if(e!==0){if(e===2&&(i=Up(t),i!==0&&(n=i,e=g0(t,i))),e===1)throw r=Ou,_o(t,0),ks(t,n),sn(t,Xt()),r;if(e===6)ks(t,n);else{if(i=t.current.alternate,!(n&30)&&!F4(i)&&(e=td(t,n),e===2&&(s=Up(t),s!==0&&(n=s,e=g0(t,s))),e===1))throw r=Ou,_o(t,0),ks(t,n),sn(t,Xt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(je(345));case 2:po(t,Zr,Bi);break;case 3:if(ks(t,n),(n&130023424)===n&&(e=jg+500-Xt(),10<e)){if(Mh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jp(po.bind(null,t,Zr,Bi),e);break}po(t,Zr,Bi);break;case 4:if(ks(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Zn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T4(n/1960))-n,10<n){t.timeoutHandle=Jp(po.bind(null,t,Zr,Bi),n);break}po(t,Zr,Bi);break;case 5:po(t,Zr,Bi);break;default:throw Error(je(329))}}}return sn(t,Xt()),t.callbackNode===r?U5.bind(null,t):null}function g0(t,e){var r=fu;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=td(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&m0(e)),t}function m0(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function F4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ti(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ks(t,e){for(e&=~Lg,e&=~Sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zn(e),n=1<<r;t[r]=-1,e&=~n}}function Tm(t){if(mt&6)throw Error(je(327));Ba();var e=Mh(t,0);if(!(e&1))return sn(t,Xt()),null;var r=td(t,e);if(t.tag!==0&&r===2){var n=Up(t);n!==0&&(e=n,r=g0(t,n))}if(r===1)throw r=Ou,_o(t,0),ks(t,e),sn(t,Xt()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,po(t,Zr,Bi),sn(t,Xt()),null}function Eg(t,e){var r=mt;mt|=1;try{return t(e)}finally{mt=r,mt===0&&(Xa=Xt()+500,vd&&Js())}}function jo(t){Ls!==null&&Ls.tag===0&&!(mt&6)&&Ba();var e=mt;mt|=1;var r=En.transition,n=_t;try{if(En.transition=null,_t=1,t)return t()}finally{_t=n,En.transition=r,mt=e,!(mt&6)&&Js()}}function Tg(){dn=Fa.current,Ot(Fa)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,u4(r)),ar!==null)for(r=ar.return;r!==null;){var n=r;switch(dg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zh();break;case 3:Ya(),Ot(rn),Ot(Mr),xg();break;case 5:bg(n);break;case 4:Ya();break;case 13:Ot(Dt);break;case 19:Ot(Dt);break;case 10:mg(n.type._context);break;case 22:case 23:Tg()}r=r.return}if(wr=t,ar=t=Ds(t.current,null),Nr=dn=e,dr=0,Ou=null,Lg=Sd=Lo=0,Zr=fu=null,bo!==null){for(e=0;e<bo.length;e++)if(r=bo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}bo=null}return t}function z5(t,e){do{var r=ar;try{if(gg(),xh.current=Qh,Yh){for(var n=Bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yh=!1}if(Co=0,yr=hr=Bt=null,hu=!1,Tu=0,Cg.current=null,r===null||r.return===null){dr=1,Ou=e,ar=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=wm(o);if(p!==null){p.flags&=-257,bm(p,o,a,s,e),p.mode&1&&vm(s,c,e),e=p,l=c;var _=e.updateQueue;if(_===null){var N=new Set;N.add(l),e.updateQueue=N}else _.add(l);break e}else{if(!(e&1)){vm(s,c,e),Fg();break e}l=Error(je(426))}}else if(Mt&&a.mode&1){var A=wm(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),bm(A,o,a,s,e),fg(Qa(l,a));break e}}s=l=Qa(l,a),dr!==4&&(dr=2),fu===null?fu=[s]:fu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=k5(s,l,e);dm(s,y);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ms===null||!Ms.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=A5(s,a,e);dm(s,T);break e}}s=s.return}while(s!==null)}W5(r)}catch(B){e=B,ar===r&&r!==null&&(ar=r=r.return);continue}break}while(!0)}function q5(){var t=Xh.current;return Xh.current=Qh,t===null?Qh:t}function Fg(){(dr===0||dr===3||dr===2)&&(dr=4),wr===null||!(Lo&268435455)&&!(Sd&268435455)||ks(wr,Nr)}function td(t,e){var r=mt;mt|=2;var n=q5();(wr!==t||Nr!==e)&&(Bi=null,_o(t,e));do try{I4();break}catch(i){z5(t,i)}while(!0);if(gg(),mt=r,Xh.current=n,ar!==null)throw Error(je(261));return wr=null,Nr=0,dr}function I4(){for(;ar!==null;)H5(ar)}function O4(){for(;ar!==null&&!ox();)H5(ar)}function H5(t){var e=G5(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?W5(t):ar=e,Cg.current=null}function W5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=C4(r,e),r!==null){r.flags&=32767,ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dr=6,ar=null;return}}else if(r=P4(r,e,dn),r!==null){ar=r;return}if(e=e.sibling,e!==null){ar=e;return}ar=e=t}while(e!==null);dr===0&&(dr=5)}function po(t,e,r){var n=_t,i=En.transition;try{En.transition=null,_t=1,R4(t,e,r,n)}finally{En.transition=i,_t=n}return null}function R4(t,e,r,n){do Ba();while(Ls!==null);if(mt&6)throw Error(je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(mx(t,s),t===wr&&(ar=wr=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rh||(rh=!0,K5(Rh,function(){return Ba(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=_t;_t=1;var a=mt;mt|=4,Cg.current=null,j4(t,r),D5(r,t),r4(Gp),$h=!!Vp,Gp=Vp=null,t.current=r,E4(r),ax(),mt=a,_t=o,En.transition=s}else t.current=r;if(rh&&(rh=!1,Ls=t,ed=i),s=t.pendingLanes,s===0&&(Ms=null),cx(r.stateNode),sn(t,Xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zh)throw Zh=!1,t=f0,f0=null,t;return ed&1&&t.tag!==0&&Ba(),s=t.pendingLanes,s&1?t===p0?pu++:(pu=0,p0=t):pu=0,Js(),null}function Ba(){if(Ls!==null){var t=ky(ed),e=En.transition,r=_t;try{if(En.transition=null,_t=16>t?16:t,Ls===null)var n=!1;else{if(t=Ls,Ls=null,ed=0,mt&6)throw Error(je(331));var i=mt;for(mt|=4,Be=t.current;Be!==null;){var s=Be,o=s.child;if(Be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Be=c;Be!==null;){var d=Be;switch(d.tag){case 0:case 11:case 15:du(8,d,s)}var f=d.child;if(f!==null)f.return=d,Be=f;else for(;Be!==null;){d=Be;var v=d.sibling,p=d.return;if(R5(d),d===c){Be=null;break}if(v!==null){v.return=p,Be=v;break}Be=p}}}var _=s.alternate;if(_!==null){var N=_.child;if(N!==null){_.child=null;do{var A=N.sibling;N.sibling=null,N=A}while(N!==null)}}Be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Be=o;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:du(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Be=y;break e}Be=s.return}}var w=t.current;for(Be=w;Be!==null;){o=Be;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Be=S;else e:for(o=w;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xd(9,a)}}catch(B){Kt(a,a.return,B)}if(a===o){Be=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Be=T;break e}Be=a.return}}if(mt=i,Js(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(fd,t)}catch{}n=!0}return n}finally{_t=r,En.transition=e}}return!1}function Fm(t,e,r){e=Qa(r,e),e=k5(t,e,1),t=Rs(t,e,1),e=zr(),t!==null&&(Bu(t,1,e),sn(t,e))}function Kt(t,e,r){if(t.tag===3)Fm(t,t,r);else for(;e!==null;){if(e.tag===3){Fm(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ms===null||!Ms.has(n))){t=Qa(r,t),t=A5(e,t,1),e=Rs(e,t,1),t=zr(),e!==null&&(Bu(e,1,t),sn(e,t));break}}e=e.return}}function M4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&r,wr===t&&(Nr&r)===r&&(dr===4||dr===3&&(Nr&130023424)===Nr&&500>Xt()-jg?_o(t,0):Lg|=r),sn(t,e)}function V5(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var r=zr();t=Qi(t,e),t!==null&&(Bu(t,e,r),sn(t,r))}function $4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),V5(t,r)}function D4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(e),V5(t,r)}var G5;G5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,A4(t,e,r);tn=!!(t.flags&131072)}else tn=!1,Mt&&e.flags&1048576&&Qy(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_h(t,e),t=e.pendingProps;var i=Ga(e,Mr.current);Da(e,r),i=_g(null,e,n,t,i,r);var s=Ng();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(n)?(s=!0,qh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vg(e),i.updater=bd,e.stateNode=i,i._reactInternals=e,r0(e,n,t,r),e=s0(null,e,n,!0,s,r)):(e.tag=0,Mt&&s&&hg(e),Ur(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_h(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=U4(n),t=Kn(n,t),i){case 0:e=i0(null,e,n,t,r);break e;case 1:e=_m(null,e,n,t,r);break e;case 11:e=xm(null,e,n,t,r);break e;case 14:e=Sm(null,e,n,Kn(n.type,t),r);break e}throw Error(je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),i0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),_m(t,e,n,i,r);case 3:e:{if(j5(e),t===null)throw Error(je(387));n=e.pendingProps,s=e.memoizedState,i=s.element,n5(t,e),Kh(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qa(Error(je(423)),e),e=Nm(t,e,n,r,i);break e}else if(n!==i){i=Qa(Error(je(424)),e),e=Nm(t,e,n,r,i);break e}else for(fn=Os(e.stateNode.containerInfo.firstChild),gn=e,Mt=!0,Xn=null,r=t5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ka(),n===i){e=Xi(t,e,r);break e}Ur(t,e,n,r)}e=e.child}return e;case 5:return i5(e),t===null&&Zp(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Kp(n,i)?o=null:s!==null&&Kp(n,s)&&(e.flags|=32),L5(t,e),Ur(t,e,o,r),e.child;case 6:return t===null&&Zp(e),null;case 13:return E5(t,e,r);case 4:return wg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ja(e,null,n,r):Ur(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),xm(t,e,n,i,r);case 7:return Ur(t,e,e.pendingProps,r),e.child;case 8:return Ur(t,e,e.pendingProps.children,r),e.child;case 12:return Ur(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Tt(Vh,n._currentValue),n._currentValue=o,s!==null)if(ti(s.value,o)){if(s.children===i.children&&!rn.current){e=Xi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Gi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),e0(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(je(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),e0(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ur(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Da(e,r),i=Tn(i),n=n(i),e.flags|=1,Ur(t,e,n,r),e.child;case 14:return n=e.type,i=Kn(n,e.pendingProps),i=Kn(n.type,i),Sm(t,e,n,i,r);case 15:return P5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),_h(t,e),e.tag=1,nn(n)?(t=!0,qh(e)):t=!1,Da(e,r),N5(e,n,i),r0(e,n,i,r),s0(null,e,n,!0,t,r);case 19:return T5(t,e,r);case 22:return C5(t,e,r)}throw Error(je(156,e.tag))};function K5(t,e){return xy(t,e)}function B4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,r,n){return new B4(t,e,r,n)}function Ig(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U4(t){if(typeof t=="function")return Ig(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z0)return 11;if(t===eg)return 14}return 2}function Ds(t,e){var r=t.alternate;return r===null?(r=jn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ah(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ig(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return No(r.children,i,s,e);case X0:o=8,i|=8;break;case Ap:return t=jn(12,r,e,i|2),t.elementType=Ap,t.lanes=s,t;case Pp:return t=jn(13,r,e,i),t.elementType=Pp,t.lanes=s,t;case Cp:return t=jn(19,r,e,i),t.elementType=Cp,t.lanes=s,t;case iy:return _d(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ry:o=10;break e;case ny:o=9;break e;case Z0:o=11;break e;case eg:o=14;break e;case Ss:o=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=jn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function No(t,e,r,n){return t=jn(7,t,n,e),t.lanes=r,t}function _d(t,e,r,n){return t=jn(22,t,n,e),t.elementType=iy,t.lanes=r,t.stateNode={isHidden:!1},t}function tp(t,e,r){return t=jn(6,t,null,e),t.lanes=r,t}function rp(t,e,r){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Og(t,e,r,n,i,s,o,a,l){return t=new z4(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(s),t}function q4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function J5(t){if(!t)return Us;t=t._reactInternals;e:{if(To(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(nn(r))return Jy(t,r,e)}return e}function Y5(t,e,r,n,i,s,o,a,l){return t=Og(r,n,!0,t,i,s,o,a,l),t.context=J5(null),r=t.current,n=zr(),i=$s(r),s=Gi(n,i),s.callback=e??null,Rs(r,s,i),t.current.lanes=i,Bu(t,i,n),sn(t,n),t}function Nd(t,e,r,n){var i=e.current,s=zr(),o=$s(i);return r=J5(r),e.context===null?e.context=r:e.pendingContext=r,e=Gi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Rs(i,e,o),t!==null&&(ei(t,i,o,s),bh(t,i,o)),o}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Im(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Rg(t,e){Im(t,e),(t=t.alternate)&&Im(t,e)}function H4(){return null}var Q5=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mg(t){this._internalRoot=t}kd.prototype.render=Mg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));Nd(t,e,null,null)};kd.prototype.unmount=Mg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jo(function(){Nd(null,t,null,null)}),e[Yi]=null}};function kd(t){this._internalRoot=t}kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cy();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ns.length&&e!==0&&e<Ns[r].priority;r++);Ns.splice(r,0,t),r===0&&jy(t)}};function $g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Om(){}function W4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=rd(o);s.call(c)}}var o=Y5(e,n,t,0,null,!1,!1,"",Om);return t._reactRootContainer=o,t[Yi]=o.current,Pu(t.nodeType===8?t.parentNode:t),jo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=rd(l);a.call(c)}}var l=Og(t,0,!1,null,null,!1,!1,"",Om);return t._reactRootContainer=l,t[Yi]=l.current,Pu(t.nodeType===8?t.parentNode:t),jo(function(){Nd(e,l,r,n)}),l}function Pd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rd(o);a.call(l)}}Nd(e,o,t,i)}else o=W4(r,e,t,i,n);return rd(o)}Ay=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tu(e.pendingLanes);r!==0&&(ng(e,r|1),sn(e,Xt()),!(mt&6)&&(Xa=Xt()+500,Js()))}break;case 13:jo(function(){var n=Qi(t,1);if(n!==null){var i=zr();ei(n,t,1,i)}}),Rg(t,1)}};ig=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var r=zr();ei(e,t,134217728,r)}Rg(t,134217728)}};Py=function(t){if(t.tag===13){var e=$s(t),r=Qi(t,e);if(r!==null){var n=zr();ei(r,t,e,n)}Rg(t,e)}};Cy=function(){return _t};Ly=function(t,e){var r=_t;try{return _t=t,e()}finally{_t=r}};$p=function(t,e,r){switch(e){case"input":if(Ep(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=yd(n);if(!i)throw Error(je(90));oy(n),Ep(n,i)}}}break;case"textarea":ly(t,r);break;case"select":e=r.value,e!=null&&Oa(t,!!r.multiple,e,!1)}};gy=Eg;my=jo;var V4={usingClientEntryPoint:!1,Events:[zu,Pa,yd,fy,py,Eg]},Vl={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G4={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wy(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||H4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{fd=nh.inject(G4),xi=nh}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V4;vn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(e))throw Error(je(200));return q4(t,e,null,r)};vn.createRoot=function(t,e){if(!$g(t))throw Error(je(299));var r=!1,n="",i=Q5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Og(t,1,!1,null,null,r,!1,n,i),t[Yi]=e.current,Pu(t.nodeType===8?t.parentNode:t),new Mg(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=wy(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return jo(t)};vn.hydrate=function(t,e,r){if(!Ad(e))throw Error(je(200));return Pd(null,t,e,!0,r)};vn.hydrateRoot=function(t,e,r){if(!$g(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Q5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Y5(e,null,t,1,r??null,i,!1,s,o),t[Yi]=e.current,Pu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new kd(e)};vn.render=function(t,e,r){if(!Ad(e))throw Error(je(200));return Pd(null,t,e,!1,r)};vn.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(je(40));return t._reactRootContainer?(jo(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};vn.unstable_batchedUpdates=Eg;vn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ad(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return Pd(t,e,r,!1,n)};vn.version="18.3.1-next-f1338f8080-20240426";function X5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X5)}catch(t){console.error(t)}}X5(),X2.exports=vn;var K4=X2.exports,Z5,Rm=K4;Z5=Rm.createRoot,Rm.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mm="popstate";function J4(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return y0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ru(i)}return Q4(e,r,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y4(){return Math.random().toString(36).substring(2,10)}function $m(t,e){return{usr:t.state,key:t.key,idx:e}}function y0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:r,key:e&&e.key||n||Y4()}}function Ru({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Q4(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let A=d(),y=A==null?null:A-c;c=A,l&&l({action:a,location:N.location,delta:y})}function v(A,y){a="PUSH";let w=y0(N.location,A,y);c=d()+1;let S=$m(w,c),T=N.createHref(w);try{o.pushState(S,"",T)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(T)}s&&l&&l({action:a,location:N.location,delta:1})}function p(A,y){a="REPLACE";let w=y0(N.location,A,y);c=d();let S=$m(w,c),T=N.createHref(w);o.replaceState(S,"",T),s&&l&&l({action:a,location:N.location,delta:0})}function _(A){return X4(A)}let N={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Mm,f),l=A,()=>{i.removeEventListener(Mm,f),l=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let y=_(A);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:v,replace:p,go(A){return o.go(A)}};return N}function X4(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ru(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function ev(t,e,r="/"){return Z4(t,e,r,!1)}function Z4(t,e,r,n){let i=typeof e=="string"?sl(e):e,s=Zi(i.pathname||"/",r);if(s==null)return null;let o=tv(t);e3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=h3(s);a=u3(o[l],c,n)}return a}function tv(t,e=[],r=[],n=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ut(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=Ki([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Ut(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),tv(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:a3(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rv(s.path))i(s,o,l)}),e}function rv(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=rv(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function e3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:l3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var t3=/^:[\w-]+$/,r3=3,n3=2,i3=1,s3=10,o3=-2,Dm=t=>t==="*";function a3(t,e){let r=t.split("/"),n=r.length;return r.some(Dm)&&(n+=o3),e&&(n+=n3),r.filter(i=>!Dm(i)).reduce((i,s)=>i+(t3.test(s)?r3:s===""?i3:s3),n)}function l3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function u3(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=nd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),v=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=nd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ki([s,f.pathname]),pathnameBase:g3(Ki([s,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(s=Ki([s,f.pathnameBase]))}return o}function nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=c3(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},v)=>{if(d==="*"){let _=a[v]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const p=a[v];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function c3(t,e=!1,r=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function h3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function d3(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?sl(t):t;return{pathname:r?r.startsWith("/")?r:f3(r,e):e,search:m3(n),hash:y3(i)}}function f3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function np(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nv(t){let e=p3(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function iv(t,e,r,n=!1){let i;typeof t=="string"?i=sl(t):(i={...t},Ut(!i.pathname||!i.pathname.includes("?"),np("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),np("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),np("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}a=f>=0?e[f]:"/"}let l=d3(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),g3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sv=["POST","PUT","PATCH","DELETE"];new Set(sv);var w3=["GET",...sv];new Set(w3);var ol=ae.createContext(null);ol.displayName="DataRouter";var Cd=ae.createContext(null);Cd.displayName="DataRouterState";ae.createContext(!1);var ov=ae.createContext({isTransitioning:!1});ov.displayName="ViewTransition";var b3=ae.createContext(new Map);b3.displayName="Fetchers";var x3=ae.createContext(null);x3.displayName="Await";var Ni=ae.createContext(null);Ni.displayName="Navigation";var Hu=ae.createContext(null);Hu.displayName="Location";var rs=ae.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Dg=ae.createContext(null);Dg.displayName="RouteError";function S3(t,{relative:e}={}){Ut(Wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ae.useContext(Ni),{hash:i,pathname:s,search:o}=Vu(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:Ki([r,s])),n.createHref({pathname:a,search:o,hash:i})}function Wu(){return ae.useContext(Hu)!=null}function ki(){return Ut(Wu(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(Hu).location}var av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(t){ae.useContext(Ni).static||ae.useLayoutEffect(t)}function Ld(){let{isDataRoute:t}=ae.useContext(rs);return t?O3():_3()}function _3(){Ut(Wu(),"useNavigate() may be used only in the context of a <Router> component.");let t=ae.useContext(ol),{basename:e,navigator:r}=ae.useContext(Ni),{matches:n}=ae.useContext(rs),{pathname:i}=ki(),s=JSON.stringify(nv(n)),o=ae.useRef(!1);return lv(()=>{o.current=!0}),ae.useCallback((l,c={})=>{if(ri(o.current,av),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=iv(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ki([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,i,t])}ae.createContext(null);function Vu(t,{relative:e}={}){let{matches:r}=ae.useContext(rs),{pathname:n}=ki(),i=JSON.stringify(nv(r));return ae.useMemo(()=>iv(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function N3(t,e){return uv(t,e)}function uv(t,e,r,n){var y;Ut(Wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ae.useContext(Ni),{matches:s}=ae.useContext(rs),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let w=d&&d.path||"";cv(l,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=ki(),v;if(e){let w=typeof e=="string"?sl(e):e;Ut(c==="/"||((y=w.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=f;let p=v.pathname||"/",_=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let N=ev(t,{pathname:_});ri(d||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ri(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=L3(N&&N.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ki([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ki([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&A?ae.createElement(Hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function k3(){let t=I3(),e=v3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:s},"ErrorBoundary")," or"," ",ae.createElement("code",{style:s},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),r?ae.createElement("pre",{style:i},r):null,o)}var A3=ae.createElement(k3,null),P3=class extends ae.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ae.createElement(rs.Provider,{value:this.props.routeContext},ae.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C3({routeContext:t,match:e,children:r}){let n=ae.useContext(ol);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(rs.Provider,{value:t},r)}function L3(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Ut(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:f}=r,v=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||v){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let f,v=!1,p=null,_=null;r&&(f=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||A3,o&&(a<0&&d===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):a===d&&(v=!0,_=c.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,d+1)),A=()=>{let y;return f?y=p:v?y=_:c.route.Component?y=ae.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,ae.createElement(C3,{match:c,routeContext:{outlet:l,matches:N,isDataRoute:r!=null},children:y})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?ae.createElement(P3,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}function Bg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j3(t){let e=ae.useContext(ol);return Ut(e,Bg(t)),e}function E3(t){let e=ae.useContext(Cd);return Ut(e,Bg(t)),e}function T3(t){let e=ae.useContext(rs);return Ut(e,Bg(t)),e}function Ug(t){let e=T3(t),r=e.matches[e.matches.length-1];return Ut(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function F3(){return Ug("useRouteId")}function I3(){var n;let t=ae.useContext(Dg),e=E3("useRouteError"),r=Ug("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function O3(){let{router:t}=j3("useNavigate"),e=Ug("useNavigate"),r=ae.useRef(!1);return lv(()=>{r.current=!0}),ae.useCallback(async(i,s={})=>{ri(r.current,av),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Bm={};function cv(t,e,r){!e&&!Bm[t]&&(Bm[t]=!0,ri(!1,r))}ae.memo(R3);function R3({routes:t,future:e,state:r}){return uv(t,void 0,r,e)}function nu(t){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M3({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Ut(!Wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=ae.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=sl(r));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:v="default"}=r,p=ae.useMemo(()=>{let _=Zi(l,o);return _==null?null:{location:{pathname:_,search:c,hash:d,state:f,key:v},navigationType:n}},[o,l,c,d,f,v,n]);return ri(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:ae.createElement(Ni.Provider,{value:a},ae.createElement(Hu.Provider,{children:e,value:p}))}function $3({children:t,location:e}){return N3(v0(t),e)}function v0(t,e=[]){let r=[];return ae.Children.forEach(t,(n,i)=>{if(!ae.isValidElement(n))return;let s=[...e,i];if(n.type===ae.Fragment){r.push.apply(r,v0(n.props.children,s));return}Ut(n.type===nu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=v0(n.props.children,s)),r.push(o)}),r}var Ph="get",Ch="application/x-www-form-urlencoded";function jd(t){return t!=null&&typeof t.tagName=="string"}function D3(t){return jd(t)&&t.tagName.toLowerCase()==="button"}function B3(t){return jd(t)&&t.tagName.toLowerCase()==="form"}function U3(t){return jd(t)&&t.tagName.toLowerCase()==="input"}function z3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q3(t,e){return t.button===0&&(!e||e==="_self")&&!z3(t)}function w0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function H3(t,e){let r=w0(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var ih=null;function W3(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var V3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(t){return t!=null&&!V3.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):t}function G3(t,e){let r,n,i,s,o;if(B3(t)){let a=t.getAttribute("action");n=a?Zi(a,e):null,r=t.getAttribute("method")||Ph,i=ip(t.getAttribute("enctype"))||Ch,s=new FormData(t)}else if(D3(t)||U3(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?Zi(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||Ph,i=ip(t.getAttribute("formenctype"))||ip(a.getAttribute("enctype"))||Ch,s=new FormData(a,t),!W3()){let{name:c,type:d,value:f}=t;if(d==="image"){let v=c?`${c}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else c&&s.append(c,f)}}else{if(jd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ph,n=null,i=Ch,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function K3(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Zi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function J3(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Q3(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await J3(s,r);return o.links?o.links():[]}return[]}));return tS(n.flat(1).filter(Y3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Um(t,e,r,n,i,s){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>{var d;return r[c].pathname!==l.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let v=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function X3(t,e,{includeHydrateFallback:r}={}){return Z3(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Z3(t){return[...new Set(t)]}function eS(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function tS(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(eS(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function hv(){let t=ae.useContext(ol);return zg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rS(){let t=ae.useContext(Cd);return zg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qg=ae.createContext(void 0);qg.displayName="FrameworkContext";function dv(){let t=ae.useContext(qg);return zg(t,"You must render this element inside a <HydratedRouter> element"),t}function nS(t,e){let r=ae.useContext(qg),[n,i]=ae.useState(!1),[s,o]=ae.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,v=ae.useRef(null);ae.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let N=y=>{y.forEach(w=>{o(w.isIntersecting)})},A=new IntersectionObserver(N,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),ae.useEffect(()=>{if(n){let N=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(N)}}},[n]);let p=()=>{i(!0)},_=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,v,{}]:[s,v,{onFocus:Gl(a,p),onBlur:Gl(l,_),onMouseEnter:Gl(c,p),onMouseLeave:Gl(d,_),onTouchStart:Gl(f,p)}]:[!1,v,{}]}function Gl(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function iS({page:t,...e}){let{router:r}=hv(),n=ae.useMemo(()=>ev(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?ae.createElement(oS,{page:t,matches:n,...e}):null}function sS(t){let{manifest:e,routeModules:r}=dv(),[n,i]=ae.useState([]);return ae.useEffect(()=>{let s=!1;return Q3(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function oS({page:t,matches:e,...r}){let n=ki(),{manifest:i,routeModules:s}=dv(),{basename:o}=hv(),{loaderData:a,matches:l}=rS(),c=ae.useMemo(()=>Um(t,e,l,i,n,"data"),[t,e,l,i,n]),d=ae.useMemo(()=>Um(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=ae.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,N=!1;if(e.forEach(y=>{var S;let w=i.routes[y.route.id];!w||!w.hasLoader||(!c.some(T=>T.route.id===y.route.id)&&y.route.id in a&&((S=s[y.route.id])!=null&&S.shouldRevalidate)||w.hasClientLoader?N=!0:_.add(y.route.id))}),_.size===0)return[];let A=K3(t,o,"data");return N&&_.size>0&&A.searchParams.set("_routes",e.filter(y=>_.has(y.route.id)).map(y=>y.route.id).join(",")),[A.pathname+A.search]},[o,a,n,i,c,e,t,s]),v=ae.useMemo(()=>X3(d,i),[d,i]),p=sS(d);return ae.createElement(ae.Fragment,null,f.map(_=>ae.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),v.map(_=>ae.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),p.map(({key:_,link:N})=>ae.createElement("link",{key:_,...N})))}function aS(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fv&&(window.__reactRouterVersion="7.7.1")}catch{}function lS({basename:t,children:e,window:r}){let n=ae.useRef();n.current==null&&(n.current=J4({window:r,v5Compat:!0}));let i=n.current,[s,o]=ae.useState({action:i.action,location:i.location}),a=ae.useCallback(l=>{ae.startTransition(()=>o(l))},[o]);return ae.useLayoutEffect(()=>i.listen(a),[i,a]),ae.createElement(M3,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,As=ae.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...v},p){let{basename:_}=ae.useContext(Ni),N=typeof c=="string"&&pv.test(c),A,y=!1;if(typeof c=="string"&&N&&(A=c,fv))try{let O=new URL(window.location.href),U=c.startsWith("//")?new URL(O.protocol+c):new URL(c),E=Zi(U.pathname,_);U.origin===O.origin&&E!=null?c=E+U.search+U.hash:y=!0}catch{ri(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=S3(c,{relative:i}),[S,T,B]=nS(n,v),Y=dS(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function R(O){e&&e(O),O.defaultPrevented||Y(O)}let k=ae.createElement("a",{...v,...B,href:A||w,onClick:y||s?e:R,ref:aS(p,T),target:l,"data-discover":!N&&r==="render"?"true":void 0});return S&&!N?ae.createElement(ae.Fragment,null,k,ae.createElement(iS,{page:w})):k});As.displayName="Link";var uS=ae.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=Vu(o,{relative:c.relative}),v=ki(),p=ae.useContext(Cd),{navigator:_,basename:N}=ae.useContext(Ni),A=p!=null&&yS(f)&&a===!0,y=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,w=v.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&N&&(S=Zi(S,N)||S);const T=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let B=w===y||!i&&w.startsWith(y)&&w.charAt(T)==="/",Y=S!=null&&(S===y||!i&&S.startsWith(y)&&S.charAt(y.length)==="/"),R={isActive:B,isPending:Y,isTransitioning:A},k=B?e:void 0,O;typeof n=="function"?O=n(R):O=[n,B?"active":null,Y?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(R):s;return ae.createElement(As,{...c,"aria-current":k,className:O,ref:d,style:U,to:o,viewTransition:a},typeof l=="function"?l(R):l)});uS.displayName="NavLink";var cS=ae.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=Ph,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...v},p)=>{let _=gS(),N=mS(a,{relative:c}),A=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&pv.test(a),w=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,B=(T==null?void 0:T.getAttribute("formmethod"))||o;_(T||S.currentTarget,{fetcherKey:e,method:B,navigate:r,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return ae.createElement("form",{ref:p,method:A,action:N,onSubmit:n?l:w,...v,"data-discover":!y&&t==="render"?"true":void 0})});cS.displayName="Form";function hS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gv(t){let e=ae.useContext(ol);return Ut(e,hS(t)),e}function dS(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ld(),l=ki(),c=Vu(t,{relative:s});return ae.useCallback(d=>{if(q3(d,e)){d.preventDefault();let f=r!==void 0?r:Ru(l)===Ru(c);a(t,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,r,n,e,t,i,s,o])}function mv(t){ri(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ae.useRef(w0(t)),r=ae.useRef(!1),n=ki(),i=ae.useMemo(()=>H3(n.search,r.current?null:e.current),[n.search]),s=Ld(),o=ae.useCallback((a,l)=>{const c=w0(typeof a=="function"?a(new URLSearchParams(i)):a);r.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var fS=0,pS=()=>`__${String(++fS)}__`;function gS(){let{router:t}=gv("useSubmit"),{basename:e}=ae.useContext(Ni),r=F3();return ae.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=G3(n,e);if(i.navigate===!1){let d=i.fetcherKey||pS();await t.fetch(d,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function mS(t,{relative:e}={}){let{basename:r}=ae.useContext(Ni),n=ae.useContext(rs);Ut(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Vu(t||".",{relative:e})},o=ki();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ki([r,s.pathname])),Ru(s)}function yS(t,{relative:e}={}){let r=ae.useContext(ov);Ut(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gv("useViewTransitionState"),i=Vu(t,{relative:e});if(!r.isTransitioning)return!1;let s=Zi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return nd(i.pathname,o)!=null||nd(i.pathname,s)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),tt=(t,e)=>{const r=ae.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>ae.createElement("svg",{ref:d,...vS,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${wS(t)}`,a].join(" "),...c},[...e.map(([f,v])=>ae.createElement(f,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=tt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=tt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=tt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=tt("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=tt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=tt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=tt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=tt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=tt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=tt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=tt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=tt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=tt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=tt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=tt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=tt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=tt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=tt("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=tt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cr="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJiYW5rc3RhdGVtZW50Y29udmVydGVyLmNvbSIsInVzZXJJZCI6OTE5NTAsImVtYWlsIjoidGhpc2lzZnJhbmtnb256YWxlekBnbWFpbC5jb20ifQ.rJl8RzEt_8if8MJ0ivqWcGTdvOSQ1F0NLKLI4F01my8",kv="https://api2.bankstatementconverter.com/api/v1";console.log(" API Configuration Debug:",{hasApiKey:!0,apiKeyLength:68,apiKeyPrefix:"api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH".substring(0,20)+"...",hasAuthToken:!!cr,authTokenLength:(cr==null?void 0:cr.length)||0,authTokenPrefix:cr.substring(0,20)+"...",apiBaseUrl:kv});class zS{constructor(){this.uploadedFiles=new Map}async makeRequest(e,r={},n=0,i){const s="api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH".trim()!=="",o=cr.trim()!=="";if(!s&&!o)throw new Error("Neither API key nor JWT authentication token configured");const a=`${kv}${e}`,l=[];if(s){const d="api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH";l.push({name:"Direct API Key",headers:{Authorization:d}},{name:"Bearer + API Key",headers:{Authorization:`Bearer ${d}`}},{name:"X-API-Key Header",headers:{"X-API-Key":d}},{name:"apiKey Query Param",headers:{},queryParam:`?apiKey=${encodeURIComponent(d)}`},{name:"Custom API Key Header",headers:{"X-Auth-Key":d}},{name:"API Key in Body",headers:{},bodyOverride:{apiKey:d}})}o&&l.push({name:"Bearer JWT",headers:{Authorization:`Bearer ${cr}`}},{name:"Direct JWT",headers:{Authorization:cr}},{name:"X-Auth-Token Header",headers:{"X-Auth-Token":cr}},{name:"JWT Query Param",headers:{},queryParam:`?token=${encodeURIComponent(cr)}`},{name:"Custom JWT Header",headers:{"X-JWT-Token":cr}}),console.log(" API Request:",{url:a,method:r.method||"GET",hasApiKey:s,hasJwtToken:o,apiKeyLength:68,jwtTokenLength:(cr==null?void 0:cr.length)||0,authPatternsCount:l.length,retryCount:n,processStep:i});for(let d=0;d<l.length;d++){const f=l[d],v=f.queryParam?`${a}${f.queryParam}`:a;console.log(` Trying authentication pattern ${d+1}/${l.length}: ${f.name}`);try{const p={...r};if(p.headers={...f.headers,...r.headers||{}},f.bodyOverride)if(r.body){if(r.body instanceof FormData)p.body=r.body,p.body.append("apiKey",f.bodyOverride.apiKey);else if(typeof r.body=="string")try{const A=JSON.parse(r.body);A.apiKey=f.bodyOverride.apiKey,p.body=JSON.stringify(A)}catch{p.body=`${r.body}&apiKey=${f.bodyOverride.apiKey}`}}else p.body=JSON.stringify(f.bodyOverride),p.headers&&(p.headers["Content-Type"]="application/json");console.log(" Pattern Debug:",{pattern:f.name,url:v,headers:p.headers,hasBody:!!p.body,bodyType:p.body?p.body instanceof FormData?"FormData":"Other":"None"});const _=await fetch(v,p);if(console.log(" Pattern Response:",{pattern:f.name,status:_.status,statusText:_.statusText,url:_.url}),_.ok)return console.log(` Authentication pattern "${f.name}" SUCCESSFUL!`),await _.json();const N=await _.text();console.log(` Pattern "${f.name}" failed with status ${_.status}: ${N}`),_.status===401||_.status===403?console.log(` Pattern "${f.name}" failed due to authentication (${_.status})`):_.status===400&&console.log(` Pattern "${f.name}" failed due to request format (${_.status})`)}catch(p){console.log(` Pattern "${f.name}" failed with error:`,p)}}const c=`All ${l.length} authentication patterns failed. This suggests either:
1. All authentication methods are invalid
2. There's a server-side bug (most likely)
3. The API expects a different format not covered here`;throw console.error(" All authentication patterns exhausted:",c),new Error(c)}async uploadBankStatement(e){const r=new FormData;r.append("file",e),console.log(" Uploading file:",e.name,e.size);const n=await this.makeRequest("/BankStatement",{method:"POST",body:r},0,"File Upload");return n.forEach(i=>{this.uploadedFiles.set(i.uuid,{uuid:i.uuid,filename:i.filename,uploadTime:new Date,status:i.state})}),console.log(" Tracked uploaded files:",this.uploadedFiles.size),n}async checkUploadStatus(e){console.log(" Checking status for:",e);const r=await this.makeRequest("/BankStatement/status",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},0,"Status Check");return r.forEach(n=>{const i=this.uploadedFiles.get(n.uuid);i&&(i.status=n.state)}),r}async convertStatements(e){console.log(" Converting statements:",e);try{const r=await this.makeRequest("/BankStatement/convert?format=JSON",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},0,"Statement Conversion");return console.log(" Conversion successful for",e.length,"statements"),r}catch(r){throw console.error(" Statement conversion failed:",r),r}}async setPassword(e){return console.log(" Setting passwords for PDFs"),this.makeRequest("/BankStatement/setPassword",{method:"POST",body:JSON.stringify({passwords:e}),headers:{"Content-Type":"application/json"}},0,"Password Setting")}async getUserCredits(){return this.makeRequest("/user",{method:"GET"},0,"Credits Check")}getUploadedFiles(){return Array.from(this.uploadedFiles.values())}getUploadedFileCount(){return this.uploadedFiles.size}clearUploadedFile(e){this.uploadedFiles.delete(e),console.log(" Cleared uploaded file:",e)}clearAllUploadedFiles(){const e=this.uploadedFiles.size;this.uploadedFiles.clear(),console.log(" Cleared all uploaded files:",e)}getOldFiles(e=24){const r=new Date(Date.now()-e*60*60*1e3);return Array.from(this.uploadedFiles.values()).filter(n=>n.uploadTime<r)}autoCleanup(){const e=this.getOldFiles(24);e.forEach(r=>{this.uploadedFiles.delete(r.uuid)}),e.length>0&&console.log(" Auto-cleaned up old files:",e.length)}async processTwoStatements(e,r){console.log(" Processing two statements following API documentation"),this.autoCleanup();try{console.log(" Step 1: Uploading files...");const[n,i]=await Promise.all([this.uploadBankStatement(e),this.uploadBankStatement(r)]),s=n[0].uuid,o=i[0].uuid;console.log(" Step 1 completed: Uploaded with UUIDs:",{uuid1:s,uuid2:o}),console.log(" Step 2: Waiting for processing to complete...");const a=[s,o],l=await this.waitForProcessingComplete(a);console.log(" Step 2 completed: Processing finished"),console.log(" Step 3: Converting statements...");const[c,d]=await Promise.all([this.convertStatements([s]),this.convertStatements([o])]),f=l.find(A=>A.uuid===s),v=l.find(A=>A.uuid===o),p=(f==null?void 0:f.numberOfPages)||1,_=(v==null?void 0:v.numberOfPages)||1,N=p+_;return console.log(" Page counts:",{file1Pages:p,file2Pages:_,totalPages:N}),console.log(" Step 3 completed: Conversion finished"),console.log(" All steps completed successfully"),{file1Result:c[0],file2Result:d[0],file1Name:e.name,file2Name:r.name,file1Pages:p,file2Pages:_,totalPages:N}}catch(n){throw n instanceof Error?n:new Error("Unknown error during statement processing")}}async waitForProcessingComplete(e,r=30){for(let n=0;n<r;n++)try{const i=await this.checkUploadStatus(e);if(i.every(a=>a.state==="READY"))return console.log(" All files ready for conversion"),i;if(i.some(a=>a.state==="ERROR")){const a=i.filter(l=>l.state==="ERROR");throw new Error(`PDF processing failed for files: ${a.map(l=>l.filename).join(", ")}`)}console.log(` Files still processing, waiting 10 seconds... (attempt ${n+1}/${r})`),await new Promise(a=>setTimeout(a,1e4))}catch(i){throw i instanceof Error?new Error(`Status Check failed: ${i.message}`):new Error("Status Check failed: Unknown error during status polling")}throw new Error("Status Check failed: PDF processing timed out after 5 minutes")}validatePdfFile(e){return e.type!=="application/pdf"?{isValid:!1,error:"Please upload a PDF file"}:e.size>10*1024*1024?{isValid:!1,error:"File size must be less than 10MB"}:e.size===0?{isValid:!1,error:"File is empty"}:{isValid:!0}}async testApiKey(){try{console.log(" Testing API key validity...");const e=await this.getUserCredits();return console.log(" API key is valid, credits available:",e.credits.paidCredits+e.credits.freeCredits),{isValid:!0,credits:e.credits.paidCredits+e.credits.freeCredits}}catch(e){return console.error(" API key test failed:",e),{isValid:!1,error:e instanceof Error?e.message:"Unknown error"}}}getAuthInfo(){return{hasApiKey:!0,apiKeyLength:68,apiKeyPrefix:"api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH".substring(0,20)+"...",hasJwtToken:!!cr,jwtTokenLength:(cr==null?void 0:cr.length)||0,jwtTokenPrefix:cr.substring(0,20)+"...",isApiKeyEnvVar:!0,isJwtEnvVar:!0}}async getAccountInfo(){try{const e=await this.makeRequest("/user",{},0,"Account Info");let r="anonymous";return e.unlimitedCredits?r="unlimited":e.credits.paidCredits>0?r="paid":e.credits.freeCredits>0&&(r="free_tier"),console.log(" Account Info:",{accountType:r,unlimitedCredits:e.unlimitedCredits,paidCredits:e.credits.paidCredits,freeCredits:e.credits.freeCredits,subscriptionCount:e.subscriptionCount,user:e.user}),{accountType:r,unlimitedCredits:e.unlimitedCredits,paidCredits:e.credits.paidCredits,freeCredits:e.credits.freeCredits,subscriptionCount:e.subscriptionCount,userInfo:e.user}}catch(e){throw console.error(" Failed to get account info:",e),e}}async checkCreditsBeforeProcessing(e=2){try{const r=await this.getUserCredits(),n=r.credits.paidCredits+r.credits.freeCredits,i=e;let s="unknown";return r.unlimitedCredits?s="unlimited":r.credits.paidCredits>0?s="paid":r.credits.freeCredits>0?s="free_tier":s="anonymous",console.log(" Credits check:",{available:n,required:i,hasEnough:n>=i,accountType:s,unlimitedCredits:r.unlimitedCredits,paidCredits:r.credits.paidCredits,freeCredits:r.credits.freeCredits}),{hasEnoughCredits:r.unlimitedCredits||n>=i,availableCredits:n,requiredCredits:i,accountType:s,paidCredits:r.credits.paidCredits,freeCredits:r.credits.freeCredits}}catch(r){return console.error(" Failed to check credits:",r),{hasEnoughCredits:!1,availableCredits:0,requiredCredits:e,accountType:"unknown",paidCredits:0,freeCredits:0,error:r instanceof Error?r.message:"Unknown error"}}}async deductCreditsAfterProcessing(e=2){try{console.log(" Deducting credits after successful processing..."),console.log(` Deducting ${e} credits for ${e} processed files`),console.log(" Credit deduction logged (API endpoint to be implemented)")}catch(r){throw console.error(" Failed to deduct credits:",r),r}}}const wi=new zS;class Av{static categorizeTransaction(e){const r=e.toLowerCase();return r.includes("upwork")||r.includes("stripe")||r.includes("paypal transfer")||r.includes("atm cash deposit")||r.includes("direct deposit")?"Income":r.includes("starbucks")||r.includes("coffee")||r.includes("mcdonald")||r.includes("restaurant")||r.includes("shake shack")||r.includes("tacos el gordo")||r.includes("salad and go")||r.includes("wingstop")||r.includes("chick-fil-a")||r.includes("raising canes")||r.includes("papa chevos")||r.includes("panda express")||r.includes("buffalo wild")||r.includes("popeyes")||r.includes("filibertos")||r.includes("kfc")||r.includes("shakeshack")||r.includes("new asian fusion")||r.includes("az pho grill")?"Food & Dining":r.includes("shell")||r.includes("arco")||r.includes("circle k")||r.includes("uber")||r.includes("lyft")||r.includes("autozone")||r.includes("los perez tire")||r.includes("clean freak")||r.includes("ls bikemasters")||r.includes("ace parking")||r.includes("parking")||r.includes("car wash")||r.includes("auto parts")||r.includes("oreilly")||r.includes("advance auto")||r.includes("napa auto")?"Transportation":r.includes("walmart")||r.includes("target")||r.includes("barnes and noble")||r.includes("dollartree")||r.includes("dollar tr")||r.includes("amazon")||r.includes("gravitate smoke")||r.includes("misc")||r.includes("costco")||r.includes("home depot")||r.includes("lowes")||r.includes("best buy")||r.includes("macy")||r.includes("kohl")||r.includes("tj maxx")||r.includes("marshalls")?"Shopping":r.includes("amazon prime")||r.includes("apple.com")||r.includes("netflix")||r.includes("spotify")||r.includes("verizon")||r.includes("centurylink")||r.includes("progressive")||r.includes("eos fitness")||r.includes("hulu")||r.includes("disney")||r.includes("youtube")||r.includes("peacock")||r.includes("adobe")||r.includes("anthropic")||r.includes("dropbox")||r.includes("x corp")||r.includes("office")||r.includes("zoom")||r.includes("slack")||r.includes("notion")?"Subscriptions":r.includes("frys food")||r.includes("safeway")||r.includes("albertsons")||r.includes("kroger")||r.includes("whole foods")||r.includes("trader joe")||r.includes("sprouts")||r.includes("winco")?"Groceries":"Other"}static getAvailableCategories(){return["Income","Food & Dining","Transportation","Shopping","Subscriptions","Groceries","Other"]}}class sh{static convertToInternalFormat(e,r){if(!e||!e.normalised||!Array.isArray(e.normalised))throw new Error("Invalid API response: missing or malformed normalised transactions");const n=e.normalised.map(o=>this.convertApiTransactionToTransaction(o)).filter(o=>o!==null);if(n.length===0)throw new Error("No valid transactions found in statement");const i=this.calculateSummary(n,r),s=this.groupTransactionsByCategory(n);return{summary:i,transactions:n,categories:s}}static convertApiTransactionToTransaction(e){try{if(!e.description||e.amount===void 0)return console.warn("Skipping transaction with missing required fields:",e),null;const r=parseFloat(e.amount);if(isNaN(r))return console.warn("Skipping transaction with invalid amount:",e),null;const n=new Date(e.date);if(isNaN(n.getTime()))return console.warn("Skipping transaction with invalid date:",e),null;const i=r<0;let s="income";return i&&(s=Av.categorizeTransaction(e.description),s==="income"&&(s="shopping")),{date:e.date,description:e.description.trim(),amount:Math.abs(r),category:s,type:r<0?"debit":"credit"}}catch(r){return console.warn("Error converting transaction:",r,e),null}}static calculateSummary(e,r){const n=e.filter(l=>l.type==="credit").reduce((l,c)=>l+c.amount,0),i=e.filter(l=>l.type==="debit").reduce((l,c)=>l+c.amount,0),s=e.map(l=>new Date(l.date)).filter(l=>!isNaN(l.getTime())).sort((l,c)=>l.getTime()-c.getTime()),o=s.length>0?s[0].toISOString().split("T")[0]:new Date().toISOString().split("T")[0],a=s.length>0?s[s.length-1].toISOString().split("T")[0]:new Date().toISOString().split("T")[0];return{totalDeposits:Math.round(n*100)/100,totalWithdrawals:Math.round(i*100)/100,startDate:o,endDate:a,bankName:this.extractBankName(r),accountNumber:this.extractAccountNumber(e)}}static groupTransactionsByCategory(e){const r=new Map;return e.forEach(n=>{r.has(n.category)||r.set(n.category,[]),r.get(n.category).push(n)}),Array.from(r.entries()).map(([n,i])=>({category:n,totalAmount:Math.round(i.reduce((s,o)=>s+o.amount,0)*100)/100,transactionCount:i.length,transactions:i.sort((s,o)=>new Date(o.date).getTime()-new Date(s.date).getTime())})).sort((n,i)=>i.totalAmount-n.totalAmount)}static extractBankName(e){const r=e.toLowerCase(),n={chase:"Chase Bank",wellsfargo:"Wells Fargo",bofa:"Bank of America",bankofamerica:"Bank of America",citi:"Citibank",usbank:"US Bank",pnc:"PNC Bank",regions:"Regions Bank",suntrust:"SunTrust Bank",ally:"Ally Bank",schwab:"Charles Schwab",fidelity:"Fidelity",amex:"American Express"};for(const[i,s]of Object.entries(n))if(r.includes(i))return s;return"Unknown Bank"}static extractAccountNumber(e){for(const r of e.slice(0,5)){const i=r.description.toLowerCase().match(/(?:ending|ending in|acct|account).*?(\d{4})/);if(i)return`****${i[1]}`}return"Unknown"}static validateParsedStatement(e){const r=[];if(e.summary||r.push("Missing statement summary"),(!e.transactions||e.transactions.length===0)&&r.push("No transactions found"),(!e.categories||e.categories.length===0)&&r.push("No categories generated"),e.summary&&e.transactions){const n=e.transactions.filter(a=>a.type==="credit").reduce((a,l)=>a+l.amount,0),i=e.transactions.filter(a=>a.type==="debit").reduce((a,l)=>a+l.amount,0),s=Math.abs(n-e.summary.totalDeposits),o=Math.abs(i-e.summary.totalWithdrawals);s>.01&&r.push(`Deposit calculation mismatch: expected ${n}, got ${e.summary.totalDeposits}`),o>.01&&r.push(`Withdrawal calculation mismatch: expected ${i}, got ${e.summary.totalWithdrawals}`)}if(e.summary){const n=new Date(e.summary.startDate),i=new Date(e.summary.endDate);isNaN(n.getTime())&&r.push("Invalid start date format"),isNaN(i.getTime())&&r.push("Invalid end date format"),n.getTime()>i.getTime()&&r.push("Start date is after end date")}return{isValid:r.length===0,errors:r}}static getProcessingStats(e){const r=e.categories.slice(0,5).map(s=>({category:s.category,amount:s.totalAmount,count:s.transactionCount})),n=e.transactions.reduce((s,o)=>s+o.amount,0),i=e.transactions.length>0?Math.round(n/e.transactions.length*100)/100:0;return{totalTransactions:e.transactions.length,dateRange:`${e.summary.startDate} to ${e.summary.endDate}`,topCategories:r,averageTransactionAmount:i}}}class qS{static compareStatements(e,r,n={}){this.validateStatements(e,r);const i=this.applyFilters(e,n),s=this.applyFilters(r,n),a=this.getAllUniqueCategories(i,s).map(l=>{const c=i.categories.find(N=>N.category===l),d=s.categories.find(N=>N.category===l),f=(c==null?void 0:c.totalAmount)||0,v=(d==null?void 0:d.totalAmount)||0,p=v-f;let _=0;return f>0?_=p/f*100:f===0&&v>0?_=1/0:f>0&&v===0&&(_=-100),{category:l,statement1Total:Math.round(f*100)/100,statement2Total:Math.round(v*100)/100,difference:Math.round(p*100)/100,percentChange:isFinite(_)?Math.round(_*100)/100:_,transactions1:(c==null?void 0:c.transactions)||[],transactions2:(d==null?void 0:d.transactions)||[]}});return a.sort((l,c)=>Math.abs(c.difference)-Math.abs(l.difference)),{statement1:i,statement2:s,comparison:a}}static generateInsights(e){const{statement1:r,statement2:n,comparison:i}=e,s=i.filter(R=>!["Income","Transfers & Investments"].includes(R.category)),o=i.filter(R=>R.category==="Income"),a=s.reduce((R,k)=>R+k.statement1Total,0),c=s.reduce((R,k)=>R+k.statement2Total,0)-a,d=a>0?c/a*100:0,f=o.reduce((R,k)=>R+k.statement1Total,0),p=o.reduce((R,k)=>R+k.statement2Total,0)-f,_=f>0?p/f*100:0,N=p-c,A=f-a>0?N/(f-a)*100:0,y=i.filter(R=>isFinite(R.percentChange)&&R.category!=="Other"),w=y.filter(R=>R.difference>0).sort((R,k)=>k.difference-R.difference)[0]||{category:"None",amount:0,percent:0},S=y.filter(R=>R.difference<0).sort((R,k)=>R.difference-k.difference)[0]||{category:"None",amount:0,percent:0},T=i.filter(R=>R.statement1Total===0&&R.statement2Total>0).map(R=>R.category),B=i.filter(R=>R.statement1Total>0&&R.statement2Total===0).map(R=>R.category),Y=this.generateRecommendations(e);return{summary:{totalSpendingChange:Math.round(c*100)/100,totalSpendingChangePercent:Math.round(d*100)/100,totalIncomeChange:Math.round(p*100)/100,totalIncomeChangePercent:Math.round(_*100)/100,netChange:Math.round(N*100)/100,netChangePercent:Math.round(A*100)/100},trends:{biggestIncrease:{category:w.category,amount:w.difference,percent:w.percentChange},biggestDecrease:{category:S.category,amount:S.difference,percent:S.percentChange},newCategories:T,disappearedCategories:B},recommendations:Y}}static generateRecommendations(e){const r=[],{comparison:n}=e,i=n.filter(c=>c.difference>100&&c.percentChange>20&&!["Income","Transfers & Investments"].includes(c.category)),s=n.filter(c=>c.difference<-100&&c.percentChange<-20&&!["Income","Transfers & Investments"].includes(c.category));if(i.length>0){const c=i[0];r.push(`Consider reviewing your ${c.category} spending - it increased by $${Math.abs(c.difference).toFixed(2)} (${c.percentChange.toFixed(1)}%)`)}if(s.length>0){const c=s[0];r.push(`Great job reducing ${c.category} spending by $${Math.abs(c.difference).toFixed(2)} (${Math.abs(c.percentChange).toFixed(1)}%)`)}const o=n.filter(c=>c.statement1Total===0&&c.statement2Total>200);o.length>0&&r.push(`New spending area detected: ${o[0].category} ($${o[0].statement2Total.toFixed(2)})`);const a=n.filter(c=>!["Income","Transfers & Investments"].includes(c.category)).reduce((c,d)=>c+d.difference,0);a>500?r.push(`Overall spending increased by $${a.toFixed(2)} - consider creating a budget plan`):a<-500&&r.push(`Excellent! You reduced overall spending by $${Math.abs(a).toFixed(2)}`);const l=n.filter(c=>c.category==="Income").reduce((c,d)=>c+d.difference,0);return l>1e3?r.push(`Income increased by $${l.toFixed(2)} - consider increasing savings or investments`):l<-1e3&&r.push(`Income decreased by $${Math.abs(l).toFixed(2)} - review spending priorities`),r.slice(0,5)}static getAllUniqueCategories(e,r){const n=new Set([...e.categories.map(i=>i.category),...r.categories.map(i=>i.category)]);return Array.from(n)}static applyFilters(e,r){let n=[...e.transactions];if(r.excludeCategories&&r.excludeCategories.length>0&&(n=n.filter(c=>!r.excludeCategories.includes(c.category))),r.includeOnlyCategories&&r.includeOnlyCategories.length>0&&(n=n.filter(c=>r.includeOnlyCategories.includes(c.category))),r.minimumAmount!==void 0&&(n=n.filter(c=>c.amount>=r.minimumAmount)),r.dateRange){const c=new Date(r.dateRange.start),d=new Date(r.dateRange.end);n=n.filter(f=>{const v=new Date(f.date);return v>=c&&v<=d})}const i=new Map;n.forEach(c=>{i.has(c.category)||i.set(c.category,[]),i.get(c.category).push(c)});const s=Array.from(i.entries()).map(([c,d])=>({category:c,totalAmount:Math.round(d.reduce((f,v)=>f+v.amount,0)*100)/100,transactionCount:d.length,transactions:d})),o=n.filter(c=>c.type==="credit").reduce((c,d)=>c+d.amount,0),a=n.filter(c=>c.type==="debit").reduce((c,d)=>c+d.amount,0);return{summary:{...e.summary,totalDeposits:Math.round(o*100)/100,totalWithdrawals:Math.round(a*100)/100},transactions:n,categories:s}}static validateStatements(e,r){if(!e||!r)throw new Error("Both statements are required for comparison");if(!e.transactions||e.transactions.length===0)throw new Error("Statement 1 has no transactions");if(!r.transactions||r.transactions.length===0)throw new Error("Statement 2 has no transactions");if(!e.categories||e.categories.length===0)throw new Error("Statement 1 has no categories");if(!r.categories||r.categories.length===0)throw new Error("Statement 2 has no categories")}static exportComparisonData(e){const{comparison:r}=e,n=`Category,Statement1Total,Statement2Total,Difference,PercentChange,TransactionCount1,TransactionCount2
`,i=r.map(a=>`"${a.category}",${a.statement1Total},${a.statement2Total},${a.difference},${a.percentChange},${a.transactions1.length},${a.transactions2.length}`).join(`
`),s=n+i,o=JSON.stringify(e,null,2);return{csv:s,json:o}}}const HS="modulepreload",WS=function(t){return"/"+t},Wm={},Hs=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=WS(l),l in Wm)return;Wm[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":HS,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((v,p)=>{f.addEventListener("load",v),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},VS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>al);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Vg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class GS extends Vg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vm extends Vg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gm extends Vg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var x0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(x0||(x0={}));var KS=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class JS{constructor(e,{headers:r={},customFetch:n,region:i=x0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=VS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return KS(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(N=>{throw new GS(N)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new Vm(f);if(!f.ok)throw new Gm(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield f.json():p==="application/octet-stream"?_=yield f.blob():p==="text/event-stream"?_=f:p==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Gm||i instanceof Vm?i.context:void 0}}})}}var en={},Gg={},Ed={},Ku={},Td={},Fd={},YS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tl=YS();const QS=tl.fetch,Pv=tl.fetch.bind(tl),Cv=tl.Headers,XS=tl.Request,ZS=tl.Response,al=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cv,Request:XS,Response:ZS,default:Pv,fetch:QS},Symbol.toStringTag,{value:"Module"})),e6=Sb(al);var Id={};Object.defineProperty(Id,"__esModule",{value:!0});let t6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Id.default=t6;var Lv=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fd,"__esModule",{value:!0});const r6=Lv(e6),n6=Lv(Id);let i6=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=r6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,d=null,f=null,v=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const N=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),A=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");N&&A&&A.length>1&&(f=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,v=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const N=await s.text();try{c=JSON.parse(N),Array.isArray(c)&&s.status===404&&(d=[],c=null,v=200,p="OK")}catch{s.status===404&&N===""?(v=204,p="No Content"):c={message:N}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,v=200,p="OK"),c&&this.shouldThrowOnError)throw new n6.default(c)}return{error:c,data:d,count:f,status:v,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Fd.default=i6;var s6=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Td,"__esModule",{value:!0});const o6=s6(Fd);let a6=class extends o6.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Td.default=a6;var l6=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ku,"__esModule",{value:!0});const u6=l6(Td);let c6=class extends u6.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ku.default=c6;var h6=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ed,"__esModule",{value:!0});const Kl=h6(Ku);let d6=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Kl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Kl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Kl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Kl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Kl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ed.default=d6;var Od={},Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.version=void 0;Rd.version="0.0.0-automated";Object.defineProperty(Od,"__esModule",{value:!0});Od.DEFAULT_HEADERS=void 0;const f6=Rd;Od.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${f6.version}`};var jv=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gg,"__esModule",{value:!0});const p6=jv(Ed),g6=jv(Ku),m6=Od;let y6=class Ev{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},m6.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new p6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ev(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new g6.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Gg.default=y6;var ll=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});en.PostgrestError=en.PostgrestBuilder=en.PostgrestTransformBuilder=en.PostgrestFilterBuilder=en.PostgrestQueryBuilder=en.PostgrestClient=void 0;const Tv=ll(Gg);en.PostgrestClient=Tv.default;const Fv=ll(Ed);en.PostgrestQueryBuilder=Fv.default;const Iv=ll(Ku);en.PostgrestFilterBuilder=Iv.default;const Ov=ll(Td);en.PostgrestTransformBuilder=Ov.default;const Rv=ll(Fd);en.PostgrestBuilder=Rv.default;const Mv=ll(Id);en.PostgrestError=Mv.default;var v6=en.default={PostgrestClient:Tv.default,PostgrestQueryBuilder:Fv.default,PostgrestFilterBuilder:Iv.default,PostgrestTransformBuilder:Ov.default,PostgrestBuilder:Rv.default,PostgrestError:Mv.default};const{PostgrestClient:w6,PostgrestQueryBuilder:_k,PostgrestFilterBuilder:Nk,PostgrestTransformBuilder:kk,PostgrestBuilder:Ak,PostgrestError:Pk}=v6;function b6(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const x6=b6(),S6="2.11.15",_6=`realtime-js/${S6}`,N6="1.0.0",$v=1e4,k6=1e3;var gu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gu||(gu={}));var Ir;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ir||(Ir={}));var Qn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qn||(Qn={}));var S0;(function(t){t.websocket="websocket"})(S0||(S0={}));var yo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yo||(yo={}));class A6{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Dv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Et||(Et={}));const Km=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=P6(o,t,e,i),s),{})},P6=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?Bv(s,o):_0(o)},Bv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return E6(e,r)}switch(t){case Et.bool:return C6(e);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return L6(e);case Et.json:case Et.jsonb:return j6(e);case Et.timestamp:return T6(e);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return _0(e);default:return _0(e)}},_0=t=>t,C6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},L6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},j6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},E6=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Bv(e,a))}return t},T6=t=>typeof t=="string"?t.replace(" ","T"):t,Uv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class sp{constructor(e,r,n={},i=$v){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jm||(Jm={}));class mu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mu.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=mu.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mu.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=s[c];if(f){const v=d.map(A=>A.presence_ref),p=f.map(A=>A.presence_ref),_=d.filter(A=>p.indexOf(A.presence_ref)<0),N=f.filter(A=>v.indexOf(A.presence_ref)<0);_.length>0&&(a[c]=_),N.length>0&&(l[c]=N)}else a[c]=d}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(p=>p.presence_ref),v=d.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...v)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ym;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ym||(Ym={}));var Qm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qm||(Qm={}));var Ui;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ui||(Ui={}));class Kg{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sp(this,Qn.join,this.params,this.timeout),this.rejoinTimer=new Dv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new mu(this),this.broadcastEndpointURL=Uv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Ui.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ui.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Ui.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,p=(f=v==null?void 0:v.length)!==null&&f!==void 0?f:0,_=[];for(let N=0;N<p;N++){const A=v[N],{filter:{event:y,schema:w,table:S,filter:T}}=A,B=d&&d[N];if(B&&B.event===y&&B.schema===w&&B.table===S&&B.filter===T)_.push(Object.assign(Object.assign({},A),{id:B.id}));else{this.unsubscribe(),this.state=Ir.errored,e==null||e(Ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Ui.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ir.errored,e==null||e(Ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new sp(this,Qn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new sp(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Qn;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var _,N,A;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(N=p.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(p=>p.callback(v,n)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var _,N,A,y,w,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,B=(_=p.filter)===null||_===void 0?void 0:_.event;return T&&((N=r.ids)===null||N===void 0?void 0:N.includes(T))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const T=(w=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return T==="*"||T===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:N,table:A,commit_timestamp:y,type:w,errors:S}=_;v=Object.assign(Object.assign({},{schema:N,table:A,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(_))}p.callback(v,n)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Kg.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qn.close,{},e)}_onError(e){this._on(Qn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Km(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Km(e.columns,e.old_record)),r}}const Xm=()=>{},F6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I6{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$v,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xm,this.ref=0,this.logger=Xm,this.conn=null,this.sendBuffer=[],this.serializer=new A6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Hs(async()=>{const{default:l}=await Promise.resolve().then(()=>al);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${S0.websocket}`,this.httpEndpoint=Uv(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=x6),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:N6}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gu.connecting:return yo.Connecting;case gu.open:return yo.Open;case gu.closing:return yo.Closing;default:return yo.Closed}}isConnected(){return this.connectionState()===yo.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Kg(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:_6};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Qn.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(k6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([F6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Jg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class O6 extends Jg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N0 extends Jg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var R6=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const zv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>al);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},M6=()=>R6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hs(()=>Promise.resolve().then(()=>al),void 0)).Response:Response}),k0=t=>{if(Array.isArray(t))return t.map(r=>k0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=k0(n)}),e},$6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Fo=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const op=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),D6=(t,e,r)=>Fo(void 0,void 0,void 0,function*(){const n=yield M6();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new O6(op(i),s,o))}).catch(i=>{e(new N0(op(i),i))}):e(new N0(op(t),t))}),B6=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:($6(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Ju(t,e,r,n,i,s){return Fo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,B6(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>D6(l,a,n))})})}function od(t,e,r,n){return Fo(this,void 0,void 0,function*(){return Ju(t,"GET",e,r,n)})}function zi(t,e,r,n,i){return Fo(this,void 0,void 0,function*(){return Ju(t,"POST",e,n,i,r)})}function A0(t,e,r,n,i){return Fo(this,void 0,void 0,function*(){return Ju(t,"PUT",e,n,i,r)})}function U6(t,e,r,n){return Fo(this,void 0,void 0,function*(){return Ju(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qv(t,e,r,n,i){return Fo(this,void 0,void 0,function*(){return Ju(t,"DELETE",e,n,i,r)})}var Xr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const z6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q6{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=zv(i)}uploadOrUpdate(e,r,n,i){return Xr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Zm),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(e=="PUT"?A0:zi)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(mr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Xr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Zm.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield A0(this.fetch,a.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(mr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Xr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield zi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Jg("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xr(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Xr(this,void 0,void 0,function*(){try{return{data:{path:(yield zi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Xr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield zi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Xr(this,void 0,void 0,function*(){try{const i=yield zi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}download(e,r){return Xr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield od(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(mr(a))return{data:null,error:a};throw a}})}info(e){return Xr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield od(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:k0(n),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}exists(e){return Xr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield U6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(mr(n)&&n instanceof N0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Xr(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},z6),r),{prefix:e||""});return{data:yield zi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const H6="2.10.4",W6={"X-Client-Info":`storage-js/${H6}`};var ha=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class V6{constructor(e,r={},n,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},W6),r),this.fetch=zv(n)}listBuckets(){return ha(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mr(e))return{data:null,error:e};throw e}})}getBucket(e){return ha(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ha(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ha(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ha(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ha(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}}class G6 extends V6{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new q6(this.url,this.headers,e,this.fetch)}}const K6="2.53.0";let su="";typeof Deno<"u"?su="deno":typeof document<"u"?su="web":typeof navigator<"u"&&navigator.product==="ReactNative"?su="react-native":su="node";const J6={"X-Client-Info":`supabase-js-${su}/${K6}`},Y6={headers:J6},Q6={schema:"public"},X6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z6={};var e_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const t_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Pv:e=fetch,(...r)=>e(...r)},r_=()=>typeof Headers>"u"?Cv:Headers,n_=(t,e,r)=>{const n=t_(r),i=r_();return(s,o)=>e_(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:c}))})};var i_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function s_(t){return t.endsWith("/")?t:t+"/"}function o_(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,v={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>i_(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const Hv="2.71.1",va=30*1e3,P0=3,ap=P0*va,a_="http://localhost:9999",l_="supabase.auth.token",u_={"X-Client-Info":`gotrue-js/${Hv}`},C0="X-Supabase-Api-Version",Wv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},c_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h_=10*60*1e3;class Yg extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function at(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class d_ extends Yg{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function f_(t){return at(t)&&t.name==="AuthApiError"}class Vv extends Yg{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ys extends Yg{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class xs extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p_(t){return at(t)&&t.name==="AuthSessionMissingError"}class oh extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ah extends Ys{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lh extends Ys{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g_(t){return at(t)&&t.name==="AuthImplicitGrantRedirectError"}class e2 extends Ys{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class L0 extends Ys{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function lp(t){return at(t)&&t.name==="AuthRetryableFetchError"}class t2 extends Ys{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class j0 extends Ys{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r2=` 	
\r=`.split(""),m_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<r2.length;e+=1)t[r2[e].charCodeAt(0)]=-2;for(let e=0;e<ad.length;e+=1)t[ad[e].charCodeAt(0)]=e;return t})();function n2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ad[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ad[n]),e.queuedBits-=6}}function Gv(t,e,r){const n=m_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function i2(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{w_(o,n,r)};for(let o=0;o<t.length;o+=1)Gv(t.charCodeAt(o),i,s);return e.join("")}function y_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function v_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}y_(n,e)}}function w_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function b_(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Gv(t.charCodeAt(i),r,n);return new Uint8Array(e)}function x_(t){const e=[];return v_(t,r=>e.push(r)),new Uint8Array(e)}function S_(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>n2(i,r,n)),n2(null,r,n),e.join("")}function __(t){return Math.round(Date.now()/1e3)+t}function N_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Gn=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},Kv=()=>{if(!Gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function k_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Jv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>al);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},A_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wa=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ho=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vs=async(t,e)=>{await t.removeItem(e)};class Md{constructor(){this.promise=new Md.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Md.promiseConstructor=Promise;function up(t){const e=t.split(".");if(e.length!==3)throw new j0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!c_.test(e[n]))throw new j0("JWT not in base64url format");return{header:JSON.parse(i2(e[0])),payload:JSON.parse(i2(e[1])),signature:b_(e[2]),raw:{header:e[0],payload:e[1]}}}async function P_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function C_(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function L_(t){return("0"+t.toString(16)).substr(-2)}function j_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,L_).join("")}async function E_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function T_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await E_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function da(t,e,r=!1){const n=j_();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await wa(t,`${e}-code-verifier`,i);const s=await T_(n);return[s,n===s?"plain":"s256"]}const F_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I_(t){const e=t.headers.get(C0);if(!e||!e.match(F_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function O_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function R_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fa(t){if(!M_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s2(t){return JSON.parse(JSON.stringify(t))}var $_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),D_=[502,503,504];async function o2(t){var e;if(!A_(t))throw new L0(go(t),0);if(D_.includes(t.status))throw new L0(go(t),t.status);let r;try{r=await t.json()}catch(s){throw new Vv(go(s),s)}let n;const i=I_(t);if(i&&i.getTime()>=Wv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new t2(go(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new xs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new t2(go(r),t.status,r.weak_password.reasons);throw new d_(go(r),t.status||500,n)}const B_=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ht(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[C0]||(s[C0]=Wv["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await U_(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function U_(t,e,r,n,i,s){const o=B_(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new L0(go(l),0)}if(a.ok||await o2(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await o2(l)}}function Di(t){var e;let r=null;W_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=__(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function a2(t){const e=Di(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ps(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function z_(t){return{data:t,error:null}}function q_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=$_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function H_(t){return t}function W_(t){return t.access_token&&t.refresh_token&&t.expires_in}const hp=["global","local","others"];var V_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class G_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Jv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=hp[0]){if(hp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hp.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ps})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=V_(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:q_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(at(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ps})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:H_});if(d.error)throw d.error;const f=await d.json(),v=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);c[`${A}Page`]=N}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(at(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fa(e);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ps})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fa(e);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ps})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fa(e);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ps})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fa(e.userId);try{const{data:r,error:n}=await ht(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(at(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fa(e.userId),fa(e.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}}function l2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function K_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pa={debug:!!(globalThis&&Kv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class J_ extends Yv{}async function Y_(t,e,r){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new J_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}K_();const Q_={url:a_,storageKey:l_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function u2(t,e,r){return await r()}const ga={};class Mu{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mu.nextInstanceID,Mu.nextInstanceID+=1,this.instanceID>0&&Gn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Q_),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new G_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Jv(i.fetch),this.lock=i.lock||u2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Gn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Y_:this.lock=u2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Kv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=l2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=l2(this.memoryStorage)),Gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=ga[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ga[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=k_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Gn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),g_(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return at(r)?{error:r}:{error:new Vv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Di}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:f,options:v}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await da(this.storage,this.storageKey)),s=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:d,password:f,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:_},xform:Di})}else if("phone"in e){const{phone:d,password:f,options:v}=e;s=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Di})}else throw new ah("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:a2})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:a2})}else throw new ah("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new oh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,o,a,l,c,d,f,v,p;let _,N;if("message"in e)_=e.message,N=e.signature;else{const{chain:A,wallet:y,statement:w,options:S}=e;let T;if(Gn())if(typeof y=="object")T=y;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))T=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const B=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const Y=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),w?{statement:w}:null));let R;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")R=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)R=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)_=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),N=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${B.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const Y=await T.signMessage(new TextEncoder().encode(_),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Y}}try{const{data:A,error:y}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:S_(N)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Di});if(y)throw y;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new oh}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:y})}catch(A){if(at(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const r=await ho(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Di});if(await vs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new oh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(at(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Di}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new oh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await da(this.storage,this.storageKey));const{error:f}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ah("You must provide either an email or phone number.")}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Di});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(at(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await da(this.storage,this.storageKey)),await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:z_})}catch(s){if(at(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new xs;const{error:i}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(at(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ah("You must provide either an email or phone number and a type")}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ap:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ho(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=cp()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ps}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xs}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ps})})}catch(r){if(at(r))return p_(r)&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new xs;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await da(this.storage,this.storageKey));const{data:c,error:d}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ps});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xs;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=up(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(at(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new xs;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Gn())throw new lh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new e2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new e2("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new lh("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let v=d+f;l&&(v=parseInt(l));const p=v-d;p*1e3<=va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const _=v-f;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,d);const{data:N,error:A}=await this._getUser(s);if(A)throw A;const y={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:v,refresh_token:o,token_type:c,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(at(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ho(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(f_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=N_(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await da(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(at(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,c,d;const{data:f,error:v}=s;if(v)throw v;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Gn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(at(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await C_(async i=>(i>0&&await P_(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Di})),(i,s)=>{const o=200*Math.pow(2,i);return s&&lp(s)&&Date.now()+o-n<va})}catch(n){if(this._debug(r,"error",n),at(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Gn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ho(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ho(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await wa(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:cp()}else if(i&&!i.user&&!i.user){const o=await ho(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await vs(this.storage,this.storageKey+"-user"),await wa(this.storage,this.storageKey,i)):i.user=cp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ap;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ap}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),lp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Md;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new xs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),at(s)){const o={session:null,error:s};return lp(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wa(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=s2(i);await wa(this.storage,this.storageKey,s)}else{const i=s2(r);await wa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await vs(this.storage,this.storageKey),await vs(this.storage,this.storageKey+"-code-verifier"),await vs(this.storage,this.storageKey+"-user"),this.userStorage&&await vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),va);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${va}ms, refresh threshold is ${P0} ticks`),i<=P0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await da(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ht(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=up(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+h_>i)return n;const{data:s,error:o}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};n=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=up(n);r!=null&&r.allowExpired||O_(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const d=R_(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,x_(`${a}.${l}`)))throw new j0("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}}Mu.nextInstanceID=0;const X_=Mu;class Z_ extends X_{constructor(e){super(e)}}var eN=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class tN{constructor(e,r,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=s_(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Q6,realtime:Z6,auth:Object.assign(Object.assign({},X6),{storageKey:c}),global:Y6},f=o_(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=n_(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new w6(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new G6(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new JS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return eN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z_({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new I6(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rN=(t,e,r)=>new tN(t,e,r);function nN(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}nN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qv="https://srbfsweiwiqbkjajkbng.supabase.co",Xv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNyYmZzd2Vpd2lxYmtqYWprYm5nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NjgzMTIsImV4cCI6MjA3MDI0NDMxMn0.W5Bo4ci22563qkqzx8ycZI83B_1BOEkUY8JuQs9EINE";console.log("Supabase config check:",{url:`${Qv.substring(0,20)}...`,key:`${Xv.substring(0,20)}...`});const or=rN(Qv,Xv,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});console.log("Supabase client created successfully");async function iN(t,e){try{console.log(" Updating user subscription pages for user:",t,"consumed:",e);const{data:r,error:n}=await or.from("user_subscriptions").select("id, pages_remaining, pages_used").eq("user_id",t).eq("status","active").maybeSingle();if(n)throw new Error(`Failed to fetch user subscription: ${n.message}`);if(!r){console.warn("No active subscription found for user:",t);return}const i=Math.max(0,r.pages_remaining-e),s=r.pages_used+e;console.log(" Page calculation:",{current:{remaining:r.pages_remaining,used:r.pages_used},consumed:e,new:{remaining:i,used:s}});const{error:o}=await or.from("user_subscriptions").update({pages_remaining:i,pages_used:s}).eq("id",r.id);if(o)throw new Error(`Failed to update subscription: ${o.message}`);console.log(" Successfully updated user subscription pages")}catch(r){throw console.error(" Error updating user subscription pages:",r),r}}function sN(){const[t,e]=ae.useState(!1),[r,n]=ae.useState(null),[i,s]=ae.useState(null),[o,a]=ae.useState(0),l=ae.useCallback((N,A)=>{const y=[];return N.name===A.name&&N.size===A.size&&y.push("Please select two different files for comparison"),{isValid:y.length===0,errors:y}},[]),c=ae.useCallback(async(N,A,y)=>{n(null),s(null),a(0);const w=l(N,A);if(!w.isValid){n(w.errors.join("; "));return}console.log(" Starting comparison process"),e(!0);try{a(10),console.log(" Checking available credits...");const S=await wi.checkCreditsBeforeProcessing(2);if(!S.hasEnoughCredits&&S.accountType!=="free_tier")throw new Error(`Insufficient credits: ${S.availableCredits} available, ${S.requiredCredits} required. Please add more credits or try again tomorrow.`);if(S.accountType==="free_tier"&&console.log(" Free tier account detected - daily page limits may apply"),S.accountType==="paid"&&S.paidCredits>0&&(a(15),console.log(" Paid account detected with",S.paidCredits,"credits")),console.log(" Credits check passed"),y){a(20),console.log(" Checking user subscription pages...");try{const{data:U,error:E}=await or.from("user_subscriptions").select("pages_remaining, tier_id").eq("user_id",y).eq("status","active").maybeSingle();if(E)console.warn("Failed to check user subscription pages:",E);else if(U){if(U.pages_remaining<2)throw new Error(`Insufficient pages remaining: ${U.pages_remaining} available, need at least 2 for comparison. Please upgrade your subscription or wait for next month's allocation.`);console.log(" User subscription check passed:",{pagesRemaining:U.pages_remaining,tierId:U.tier_id})}else console.log(" No active subscription found, proceeding with external credit check")}catch(U){if(U instanceof Error)throw U;console.warn("Subscription check failed, proceeding with external credit check")}}a(25),console.log(" Processing statements through API...");const T=await wi.processTwoStatements(N,A);console.log(" API processing completed"),a(50),console.log(" Converting to internal format...");const B=sh.convertToInternalFormat(T.file1Result,T.file1Name),Y=sh.convertToInternalFormat(T.file2Result,T.file2Name);console.log(" Format conversion completed"),a(75),console.log(" Generating comparison...");const R=qS.compareStatements(B,Y);if(console.log(" Comparison completed"),!R||!R.comparison)throw new Error("Failed to generate comparison data");const k=sh.validateParsedStatement(R.statement1),O=sh.validateParsedStatement(R.statement2);if(!k.isValid)throw new Error(`Statement 1: ${k.errors.join("; ")}`);if(!O.isValid)throw new Error(`Statement 2: ${O.errors.join("; ")}`);if(a(100),s(R),y)try{const U=T.totalPages||2;console.log(" Using actual page counts:",{file1Pages:T.file1Pages,file2Pages:T.file2Pages,totalPages:T.totalPages,pagesConsumed:U});const E={statement1:{name:T.file1Name,pages:T.file1Pages,transactions:R.statement1.transactions.length,fullData:R.statement1},statement2:{name:T.file2Name,pages:T.file2Pages,transactions:R.statement2.transactions.length,fullData:R.statement2},comparison:{totalCategories:R.comparison.length,totalTransactions:R.statement1.transactions.length+R.statement2.transactions.length,fullComparison:R.comparison}},{error:j}=await or.from("usage_logs").insert({user_id:y,pages_consumed:U,created_at:new Date().toISOString(),statement1_name:T.file1Name,statement2_name:T.file2Name,file1_pages:T.file1Pages,file2_pages:T.file2Pages,comparison_summary:E,status:"completed"});if(j)console.error("Failed to save usage log to Supabase:",j);else{console.log(" Saved complete comparison data to Supabase usage_logs");try{await iN(y,U),console.log(" Updated user subscription: deducted",U,"pages")}catch(W){console.error("Failed to update user subscription pages:",W)}}}catch(U){console.error("Failed to save comparison data to Supabase:",U)}else console.log(" No userId provided, skipping Supabase save");try{console.log(" Deducting credits after successful comparison...");const U=T.totalPages||2;await wi.deductCreditsAfterProcessing(U),console.log(` Credits deducted successfully: ${U} credits for ${U} pages`)}catch(U){console.error("Failed to deduct credits:",U)}}catch(S){console.error("Comparison error:",S),S instanceof Error?n(S.message):n("Unknown error occurred")}finally{e(!1),a(0)}},[l]),d=ae.useCallback(N=>{n(N)},[]),f=ae.useCallback(()=>{n(null)},[]),v=ae.useCallback(()=>{s(null)},[]),p=ae.useCallback(N=>{s(N)},[]),_=ae.useCallback(()=>{e(!1),n(null),s(null),a(0)},[]);return{isLoading:t,error:r,result:i,progress:o,compareStatements:c,setError:d,clearError:f,clearResult:v,setResult:p,reset:_,validateFiles:l}}function Yu(){const[t,e]=ae.useState(null),[r,n]=ae.useState(null),[i,s]=ae.useState(null),[o,a]=ae.useState(null),[l,c]=ae.useState(!0),[d,f]=ae.useState(!1);ae.useEffect(()=>{console.log(" useAuth: useEffect triggered, starting auth initialization..."),console.log(" useAuth: Getting initial session..."),or.auth.getSession().then(({data:{session:w},error:S})=>{var T;console.log(" useAuth: Initial session result:",{hasSession:!!w,userId:(T=w==null?void 0:w.user)==null?void 0:T.id,error:S==null?void 0:S.message}),e((w==null?void 0:w.user)??null),w!=null&&w.user?(console.log(" useAuth: User found, fetching profile and subscription..."),Promise.allSettled([v(w.user.id),p(w.user.id)]).then(()=>{console.log(" useAuth: All fetches completed, setting loading to false"),c(!1)})):(console.log(" useAuth: No user session, setting loading to false"),c(!1))}).catch(w=>{console.error(" useAuth: Error getting initial session:",w),c(!1)}),console.log(" useAuth: Setting up auth state change listener...");const{data:{subscription:y}}=or.auth.onAuthStateChange(async(w,S)=>{var T;console.log(" useAuth: Auth state change event:",w,{hasSession:!!S,userId:(T=S==null?void 0:S.user)==null?void 0:T.id}),e((S==null?void 0:S.user)??null),S!=null&&S.user?(console.log(" useAuth: User authenticated, fetching profile and subscription..."),Promise.allSettled([v(S.user.id),p(S.user.id)]).then(()=>{console.log(" useAuth: All fetches completed after auth state change, setting loading to false"),c(!1)})):(console.log(" useAuth: User signed out, clearing data..."),n(null),s(null),a(null),c(!1))});return()=>{console.log(" useAuth: Cleaning up auth subscription"),y.unsubscribe()}},[]);const v=async y=>{if(d){console.log(" useAuth: Profile fetch already in progress, skipping...");return}try{f(!0),console.log(" useAuth: Starting profile fetch for user:",y);const w=Date.now(),S=new Promise((k,O)=>{setTimeout(()=>O(new Error("Profile fetch timeout after 10 seconds")),1e4)}),T=or.from("profiles").select("*").eq("id",y).maybeSingle(),{data:B,error:Y}=await Promise.race([T,S]),R=Date.now()-w;if(console.log(" useAuth: Profile fetch completed in",R,"ms:",{hasData:!!B,error:Y==null?void 0:Y.message,profileData:B}),Y){console.error(" useAuth: Profile fetch error:",Y);return}B?(console.log(" useAuth: Profile fetched successfully:",B),n(B)):(console.log(" useAuth: No profile found for user:",y),n(null))}catch(w){console.error(" useAuth: Error fetching profile:",w),n(null)}finally{f(!1)}},p=async y=>{if(d){console.log(" useAuth: Subscription fetch already in progress, skipping...");return}try{f(!0),console.log(" useAuth: Starting subscription fetch for user:",y);const w=Date.now(),S=new Promise((k,O)=>{setTimeout(()=>O(new Error("Subscription fetch timeout after 10 seconds")),1e4)}),T=or.from("user_subscriptions").select(`
          *,
          subscription_tiers (*)
        `).eq("user_id",y).eq("status","active").maybeSingle(),{data:B,error:Y}=await Promise.race([T,S]),R=Date.now()-w;if(console.log(" useAuth: Subscription fetch completed in",R,"ms:",{hasData:!!B,error:Y==null?void 0:Y.message,subscriptionData:B}),Y){console.error(" useAuth: Subscription fetch error:",Y);return}B?(console.log(" useAuth: Subscription fetched successfully:",B),s(B),a(B.subscription_tiers)):(console.log(" useAuth: No active subscription found for user:",y),s(null),a(null))}catch(w){console.error(" useAuth: Error fetching subscription:",w),s(null),a(null)}finally{f(!1)}};return{user:t,profile:r,subscription:i,tier:o,loading:l,signUp:async(y,w,S)=>{try{console.log("Attempting signup with:",{email:y,password:"***",fullName:S});const{data:T,error:B}=await or.auth.signUp({email:y,password:w,options:{data:{full_name:S}}});if(B)throw console.error("Signup error details:",B),B;if(T.user){const{data:{session:Y}}=await or.auth.getSession();if(!Y)throw new Error("Session not established after signup");const{error:R}=await or.from("profiles").insert({id:T.user.id,email:T.user.email,full_name:S});if(R)throw R;const{error:k}=await or.from("user_subscriptions").insert({user_id:T.user.id,tier_id:1,pages_remaining:40});if(k)throw k}return{data:T,error:null}}catch(T){return{data:null,error:T}}},signIn:async(y,w)=>{try{const{data:S,error:T}=await or.auth.signInWithPassword({email:y,password:w});if(T)throw T;return{data:S,error:null}}catch(S){return{data:null,error:S}}},signOut:async()=>{try{console.log("useAuth signOut called, attempting to sign out from Supabase..."),console.log("Current user state before signOut:",t),console.log("Testing Supabase connection...");try{const{data:T,error:B}=await or.auth.getSession();console.log("Supabase connection test result:",{testData:T,testError:B})}catch(T){console.error("Supabase connection test failed:",T)}console.log("Attempting Supabase signOut...");const y=Date.now(),w=new AbortController,S=setTimeout(()=>w.abort(),5e3);try{const{error:T}=await or.auth.signOut(),B=Date.now();if(console.log(`Supabase signOut completed in ${B-y}ms`),T)throw console.error("Supabase signOut error:",T),T;console.log("Supabase signOut successful")}catch(T){if(T.name==="AbortError"){console.warn("Supabase signOut timed out, attempting manual session clear...");try{await or.auth.refreshSession(),console.log("Manually refreshed session")}catch(B){console.warn("Failed to manually refresh session:",B)}try{await or.auth.signOut({scope:"local"}),console.log("Local signOut successful")}catch(B){console.warn("Local signOut failed:",B)}}else throw T}finally{clearTimeout(S)}console.log("User state after signOut should be null"),e(null),n(null),s(null),a(null)}catch(y){throw console.error("Error signing out:",y),y}},isSignedIn:!!t}}function oN({size:t="md",text:e,progress:r,isDark:n=!1}){const i={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},s={sm:"text-sm",md:"text-base",lg:"text-lg"};return b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx(kS,{className:`${i[t]} animate-spin ${n?"text-blue-400":"text-blue-600"}`}),e&&b.jsx("p",{className:`${s[t]} font-medium ${n?"text-gray-200":"text-gray-700"}`,children:e}),typeof r=="number"&&r>0&&b.jsxs("div",{className:"w-full max-w-xs",children:[b.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2 ${n?"bg-gray-700":"bg-gray-200"}`,children:b.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${Math.min(100,Math.max(0,r))}%`}})}),b.jsxs("p",{className:`text-xs text-center mt-1 ${n?"text-gray-400":"text-gray-500"}`,children:[Math.round(r),"% complete"]})]})]})}function aN({error:t,onDismiss:e,onRetry:r,isDark:n=!1,className:i=""}){return b.jsx("div",{className:`rounded-lg border-2 p-4 ${n?"bg-red-900/20 border-red-600 text-red-400":"bg-red-50 border-red-300 text-red-700"} ${i}`,children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"flex-shrink-0 mt-0.5",children:b.jsx(So,{className:"h-5 w-5"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Error"}),b.jsx("p",{className:"text-xs opacity-80 mb-2",children:t})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[r&&b.jsx("button",{onClick:r,className:`p-1 rounded transition-colors ${n?"hover:bg-white/10 text-current":"hover:bg-black/10 text-current"}`,title:"Retry",children:b.jsx(Sv,{className:"h-4 w-4"})}),e&&b.jsx("button",{onClick:e,className:`p-1 rounded transition-colors ${n?"hover:bg-white/10 text-current":"hover:bg-black/10 text-current"}`,title:"Dismiss",children:b.jsx(qs,{className:"h-4 w-4"})})]})]})})}function lN({isDark:t}){const[e,r]=ae.useState([]);ae.useState(!1);const n=()=>{const c=wi.getUploadedFiles();r(c)},i=()=>{wi.clearAllUploadedFiles(),n()},s=()=>{wi.getOldFiles(24).forEach(d=>{wi.clearUploadedFile(d.uuid)}),n()},o=c=>{switch(c){case"READY":return b.jsx(Za,{className:"h-4 w-4 text-green-500"});case"PROCESSING":return b.jsx(Sv,{className:"h-4 w-4 text-blue-500 animate-spin"});case"ERROR":return b.jsx(So,{className:"h-4 w-4 text-red-500"});default:return b.jsx(Wg,{className:"h-4 w-4 text-gray-500"})}},a=c=>{switch(c){case"READY":return"Ready";case"PROCESSING":return"Processing";case"ERROR":return"Error";default:return"Unknown"}},l=c=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c);return ae.useEffect(()=>{n();const c=setInterval(n,3e4);return()=>clearInterval(c)},[]),e.length===0?null:b.jsxs("div",{className:`rounded-lg border p-4 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:["Uploaded Files (",e.length,")"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:s,className:`px-3 py-1.5 text-sm rounded-md transition-colors ${t?"bg-orange-600 hover:bg-orange-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:"Clear Old"}),b.jsx("button",{onClick:i,className:`px-3 py-1.5 text-sm rounded-md transition-colors ${t?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:b.jsx(el,{className:"h-4 w-4"})})]})]}),b.jsx("div",{className:"space-y-2",children:e.map(c=>b.jsxs("div",{className:`flex items-center justify-between p-3 rounded-md ${t?"bg-gray-700":"bg-gray-50"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[o(c.status),b.jsxs("div",{children:[b.jsx("p",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-800"}`,children:c.filename}),b.jsxs("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:[a(c.status),"  ",l(c.uploadTime)]})]})]}),b.jsx("button",{onClick:()=>{wi.clearUploadedFile(c.uuid),n()},className:`p-1 rounded-md transition-colors ${t?"text-gray-400 hover:text-red-400 hover:bg-gray-600":"text-gray-500 hover:text-red-500 hover:bg-gray-100"}`,children:b.jsx(el,{className:"h-4 w-4"})})]},c.uuid))}),b.jsx("div",{className:`mt-4 text-xs ${t?"text-gray-400":"text-gray-600"}`,children:" Files are automatically cleaned up after 24 hours. You can manually clear them to free up API storage."})]})}function uN({isDark:t}){return b.jsxs("div",{className:"text-center mb-12",children:[b.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[b.jsx("div",{className:"p-4 rounded-2xl bg-blue-600",children:b.jsx(Gu,{className:"h-8 w-8 text-white"})}),b.jsx("h1",{className:`text-4xl md:text-5xl font-bold ${t?"text-gray-100":"text-gray-800"}`,children:"Bank Statement Comparison"})]}),b.jsxs("div",{className:"space-y-2 text-lg",children:[b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Upload two bank statements and get instant spending comparisons by category."}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Perfect for co-parents, roommates, and couples splitting expenses."}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Or for keeping tabs of your month to month spending."})]})]})}function c2({title:t,onFileSelect:e,uploadedFile:r,isDark:n,isSignedIn:i}){const s=a=>{if(a.preventDefault(),!i){e(new File([],""));return}const l=Array.from(a.dataTransfer.files);l.length>0&&l[0].type==="application/pdf"&&e(l[0])},o=a=>{if(!i){e(new File([],""));return}const l=Array.from(a.target.files||[]);l.length>0&&e(l[0])};return r?b.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${n?"border-green-600 bg-green-900/20":"border-green-500 bg-green-50"}`,children:[b.jsx(Za,{className:`h-12 w-12 mx-auto mb-4 ${n?"text-green-400":"text-green-600"}`}),b.jsx("h3",{className:`text-lg font-semibold mb-2 ${n?"text-gray-200":"text-gray-800"}`,children:r.name}),b.jsx("p",{className:`text-sm mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Ready for comparison"}),b.jsx("input",{type:"file",accept:".pdf",onChange:o,className:"hidden",id:`file-${t.replace(/\s+/g,"-").toLowerCase()}-uploaded`,disabled:!i}),b.jsxs("label",{htmlFor:i?`file-${t.replace(/\s+/g,"-").toLowerCase()}-uploaded`:void 0,onClick:i?void 0:()=>e(new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${i?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${n?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[b.jsx(zs,{className:"h-4 w-4"}),"Change File"]})]}):b.jsxs("div",{onDrop:s,onDragOver:a=>a.preventDefault(),onClick:i?void 0:()=>e(new File([],"")),className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors cursor-pointer ${i?n?"border-gray-600 hover:border-blue-500 bg-gray-800/50 hover:bg-gray-800":"border-gray-300 hover:border-blue-500 bg-gray-50 hover:bg-gray-100":n?"border-gray-700 hover:border-gray-600 bg-gray-800/30 opacity-60":"border-gray-200 hover:border-gray-300 bg-gray-25 opacity-60"}`,children:[b.jsx(DS,{className:`h-12 w-12 mx-auto mb-4 ${n?"text-gray-400":"text-gray-500"}`}),b.jsx("h3",{className:`text-lg font-semibold mb-2 ${n?"text-gray-200":"text-gray-800"}`,children:t}),b.jsx("p",{className:`text-sm mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Drag and drop your PDF bank statement here"}),b.jsx("input",{type:"file",accept:".pdf",onChange:o,className:"hidden",id:`file-${t.replace(/\s+/g,"-").toLowerCase()}`,disabled:!i}),b.jsxs("label",{htmlFor:i?`file-${t.replace(/\s+/g,"-").toLowerCase()}`:void 0,onClick:i?void 0:()=>e(new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${i?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${n?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[b.jsx(zs,{className:"h-4 w-4"}),"Choose File"]})]})}function cN({isDark:t,isSignedIn:e,uploadedFiles:r,statementLabels:n,editingLabel:i,bothFilesUploaded:s,previewButtonGlowing:o,apiLoading:a,onFileUpload:l,onLabelEdit:c,onLabelSave:d,onGenerateComparison:f,onUseSampleData:v,setEditingLabel:p}){var _,N;return s?b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement1"?b.jsx("input",{type:"text",value:n.statement1,onChange:A=>c("statement1",A.target.value),onBlur:d,onKeyDown:A=>A.key==="Enter"&&d(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):b.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement1}),b.jsx(iu,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement1")})]}),b.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center ${t?"border-green-600 bg-green-900/20":"border-green-500 bg-green-50"}`,children:[b.jsx(Za,{className:`h-12 w-12 mx-auto mb-4 ${t?"text-green-400":"text-green-600"}`}),b.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:(_=r.statement1)==null?void 0:_.name}),b.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Ready for comparison"}),b.jsx("input",{type:"file",accept:".pdf",onChange:A=>{const y=Array.from(A.target.files||[]);y.length>0&&l("statement1",y[0])},className:"hidden",id:"file-statement1-uploaded-post",disabled:!e}),b.jsxs("label",{htmlFor:e?"file-statement1-uploaded-post":void 0,onClick:e?void 0:()=>l("statement1",new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${t?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[b.jsx(zs,{className:"h-4 w-4"}),"Change File"]})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement2"?b.jsx("input",{type:"text",value:n.statement2,onChange:A=>c("statement2",A.target.value),onBlur:d,onKeyDown:A=>A.key==="Enter"&&d(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):b.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement2}),b.jsx(iu,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement2")})]}),b.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center ${t?"border-green-600 bg-green-900/20":"border-green-500 bg-green-50"}`,children:[b.jsx(Za,{className:`h-12 w-12 mx-auto mb-4 ${t?"text-green-400":"text-green-600"}`}),b.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:(N=r.statement2)==null?void 0:N.name}),b.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Ready for comparison"}),b.jsx("input",{type:"file",accept:".pdf",onChange:A=>{const y=Array.from(A.target.files||[]);y.length>0&&l("statement2",y[0])},className:"hidden",id:"file-statement2-uploaded-post",disabled:!e}),b.jsxs("label",{htmlFor:e?"file-statement2-uploaded-post":void 0,onClick:e?void 0:()=>l("statement2",new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${t?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[b.jsx(zs,{className:"h-4 w-4"}),"Change File"]})]})]})]}),b.jsxs("div",{className:"text-center mb-12",children:[b.jsxs("button",{onClick:f,disabled:a||e&&!s,className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${a||e&&!s?t?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} ${o&&!e?"animate-pulse ring-4 ring-blue-300":""}`,children:[b.jsx(sd,{className:"h-5 w-5"}),a?"Processing...":e&&!s?"Waiting for files...":e?"Generate Results":"Preview Results"]}),e&&b.jsx("p",{className:`mt-3 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:s?"This will process all categories and charge based on pages processed":"Upload both bank statement files above to begin your comparison"})]}),b.jsx("div",{className:"mb-16"})]}):b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement1"?b.jsx("input",{type:"text",value:n.statement1,onChange:A=>c("statement1",A.target.value),onBlur:d,onKeyDown:A=>A.key==="Enter"&&d(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):b.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement1}),b.jsx(iu,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement1")})]}),b.jsx(c2,{title:n.statement1,onFileSelect:A=>l("statement1",A),uploadedFile:r.statement1,isDark:t,isSignedIn:e})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement2"?b.jsx("input",{type:"text",value:n.statement2,onChange:A=>c("statement2",A.target.value),onBlur:d,onKeyDown:A=>A.key==="Enter"&&d(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):b.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement2}),b.jsx(iu,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement2")})]}),b.jsx(c2,{title:n.statement2,onFileSelect:A=>l("statement2",A),uploadedFile:r.statement2,isDark:t,isSignedIn:e})]})]}),!e&&b.jsx("div",{className:"text-center mb-12",children:b.jsxs("button",{onClick:v,className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors bg-blue-600 hover:bg-blue-700 text-white ${o?"animate-pulse ring-4 ring-blue-300":""}`,children:[b.jsx(sd,{className:"h-5 w-5"}),a?"Processing...":"Preview Results"]})}),b.jsx("div",{className:"mb-16"})]})}function h2({isDark:t,transactions:e,onTransactionsChange:r,category:n}){const[i,s]=ae.useState(null),[o,a]=ae.useState({}),[l,c]=ae.useState(!1),[d,f]=ae.useState({}),v=Av.getAvailableCategories(),p=S=>{s(S.id),a({...S})},_=()=>{if(i){const S=e.map(T=>T.id===i?{...T,...o}:T);r(S),s(null),a({})}},N=()=>{s(null),a({}),c(!1),f({})},A=S=>{const T=e.filter(B=>B.id!==S);r(T)},y=()=>{if(d.date&&d.description&&d.amount){const S={id:Date.now().toString(),date:d.date,description:d.description,amount:d.amount,category:d.category||n,type:d.type||"debit"};r([...e,S]),c(!1),f({})}},w=(S,T)=>{const B=e.map(Y=>Y.id===S?{...Y,category:T}:Y);r(B)};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("h4",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:["Transactions (",e.length,")"]}),b.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-blue-600 hover:bg-blue-700 text-white",children:[b.jsx(ES,{className:"h-4 w-4"}),"Add Transaction"]})]}),l&&b.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[b.jsx("input",{type:"date",value:d.date||"",onChange:S=>f({...d,date:S.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Date"}),b.jsx("input",{type:"text",value:d.description||"",onChange:S=>f({...d,description:S.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Description"}),b.jsx("input",{type:"number",step:"0.01",value:d.amount||"",onChange:S=>f({...d,amount:parseFloat(S.target.value)}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Amount"}),b.jsxs("select",{value:d.type||"debit",onChange:S=>f({...d,type:S.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[b.jsx("option",{value:"debit",children:"Debit"}),b.jsx("option",{value:"credit",children:"Credit"})]})]}),b.jsxs("div",{className:"flex gap-2 mt-3",children:[b.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-green-600 hover:bg-green-700 text-white",children:[b.jsx(Hg,{className:"h-4 w-4"}),"Add"]}),b.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-gray-600 hover:bg-gray-700 text-white",children:[b.jsx(qs,{className:"h-4 w-4"}),"Cancel"]})]})]}),b.jsx("div",{className:"space-y-2",children:e.map(S=>b.jsx("div",{className:`p-3 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i===S.id?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[b.jsx("input",{type:"date",value:o.date||"",onChange:T=>a({...o,date:T.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),b.jsx("input",{type:"text",value:o.description||"",onChange:T=>a({...o,description:T.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),b.jsx("input",{type:"number",step:"0.01",value:o.amount||"",onChange:T=>a({...o,amount:parseFloat(T.target.value)}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),b.jsxs("select",{value:o.type||"debit",onChange:T=>a({...o,type:T.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[b.jsx("option",{value:"debit",children:"Debit"}),b.jsx("option",{value:"credit",children:"Credit"})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:_,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-green-600 hover:bg-green-700 text-white",children:[b.jsx(TS,{className:"h-4 w-4"}),"Save"]}),b.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-gray-600 hover:bg-gray-700 text-white",children:[b.jsx(qs,{className:"h-4 w-4"}),"Cancel"]})]})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("div",{className:"flex-1",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:S.date}),b.jsx("span",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:S.description}),b.jsxs("span",{className:`text-sm font-bold ${S.type==="credit"?t?"text-green-400":"text-green-600":t?"text-red-400":"text-red-600"}`,children:["$",S.amount.toFixed(2)]})]})}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("select",{value:S.category,onChange:T=>w(S.id,T.target.value),className:`px-2 py-1 rounded text-xs border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:v.map(T=>b.jsx("option",{value:T,children:T},T))}),b.jsx("button",{onClick:()=>p(S),className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-900"}`,children:b.jsx(iu,{className:"h-4 w-4"})}),b.jsx("button",{onClick:()=>A(S.id),className:`p-1 rounded transition-colors ${t?"hover:bg-red-900 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-600 hover:text-red-700"}`,children:b.jsx(el,{className:"h-4 w-4"})})]})]})},S.id))})]})}function St(t){"@babel/helpers - typeof";return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(t)}var Rr=Uint8Array,pn=Uint16Array,Qg=Int32Array,$d=new Rr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dd=new Rr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E0=new Rr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zv=function(t,e){for(var r=new pn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Qg(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},ew=Zv($d,2),tw=ew.b,T0=ew.r;tw[28]=258,T0[258]=28;var rw=Zv(Dd,0),hN=rw.b,d2=rw.r,F0=new pn(32768);for(var It=0;It<32768;++It){var ws=(It&43690)>>1|(It&21845)<<1;ws=(ws&52428)>>2|(ws&13107)<<2,ws=(ws&61680)>>4|(ws&3855)<<4,F0[It]=((ws&65280)>>8|(ws&255)<<8)>>1}var _i=function(t,e,r){for(var n=t.length,i=0,s=new pn(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new pn(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new pn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],d=e-t[i],f=o[t[i]-1]++<<d,v=f|(1<<d)-1;f<=v;++f)a[F0[f]>>l]=c}else for(a=new pn(n),i=0;i<n;++i)t[i]&&(a[i]=F0[o[t[i]-1]++]>>15-t[i]);return a},Ws=new Rr(288);for(var It=0;It<144;++It)Ws[It]=8;for(var It=144;It<256;++It)Ws[It]=9;for(var It=256;It<280;++It)Ws[It]=7;for(var It=280;It<288;++It)Ws[It]=8;var $u=new Rr(32);for(var It=0;It<32;++It)$u[It]=5;var dN=_i(Ws,9,0),fN=_i(Ws,9,1),pN=_i($u,5,0),gN=_i($u,5,1),dp=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Wn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},fp=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Xg=function(t){return(t+7)/8|0},nw=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Rr(t.subarray(e,r))},mN=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jn=function(t,e,r){var n=new Error(e||mN[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Jn),!r)throw n;return n},yN=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Rr(0);var o=!r,a=o||e.i!=2,l=e.i;o&&(r=new Rr(i*3));var c=function(ye){var Ce=r.length;if(ye>Ce){var Le=new Rr(Math.max(Ce*2,ye));Le.set(r),r=Le}},d=e.f||0,f=e.p||0,v=e.b||0,p=e.l,_=e.d,N=e.m,A=e.n,y=i*8;do{if(!p){d=Wn(t,f,1);var w=Wn(t,f+1,3);if(f+=3,w)if(w==1)p=fN,_=gN,N=9,A=5;else if(w==2){var Y=Wn(t,f,31)+257,R=Wn(t,f+10,15)+4,k=Y+Wn(t,f+5,31)+1;f+=14;for(var O=new Rr(k),U=new Rr(19),E=0;E<R;++E)U[E0[E]]=Wn(t,f+E*3,7);f+=R*3;for(var j=dp(U),W=(1<<j)-1,K=_i(U,j,1),E=0;E<k;){var pe=K[Wn(t,f,W)];f+=pe&15;var S=pe>>4;if(S<16)O[E++]=S;else{var he=0,re=0;for(S==16?(re=3+Wn(t,f,3),f+=2,he=O[E-1]):S==17?(re=3+Wn(t,f,7),f+=3):S==18&&(re=11+Wn(t,f,127),f+=7);re--;)O[E++]=he}}var H=O.subarray(0,Y),Q=O.subarray(Y);N=dp(H),A=dp(Q),p=_i(H,N,1),_=_i(Q,A,1)}else Jn(1);else{var S=Xg(f)+4,T=t[S-4]|t[S-3]<<8,B=S+T;if(B>i){l&&Jn(0);break}a&&c(v+T),r.set(t.subarray(S,B),v),e.b=v+=T,e.p=f=B*8,e.f=d;continue}if(f>y){l&&Jn(0);break}}a&&c(v+131072);for(var ie=(1<<N)-1,me=(1<<A)-1,P=f;;P=f){var he=p[fp(t,f)&ie],$=he>>4;if(f+=he&15,f>y){l&&Jn(0);break}if(he||Jn(2),$<256)r[v++]=$;else if($==256){P=f,p=null;break}else{var V=$-254;if($>264){var E=$-257,J=$d[E];V=Wn(t,f,(1<<J)-1)+tw[E],f+=J}var Z=_[fp(t,f)&me],ue=Z>>4;Z||Jn(3),f+=Z&15;var Q=hN[ue];if(ue>3){var J=Dd[ue];Q+=fp(t,f)&(1<<J)-1,f+=J}if(f>y){l&&Jn(0);break}a&&c(v+131072);var oe=v+V;if(v<Q){var le=s-Q,Ne=Math.min(Q,oe);for(le+v<0&&Jn(3);v<Ne;++v)r[v]=n[le+v]}for(;v<oe;++v)r[v]=r[v-Q]}}e.l=p,e.p=P,e.b=v,e.f=d,p&&(d=1,e.m=N,e.d=_,e.n=A)}while(!d);return v!=r.length&&o?nw(r,0,v):r.subarray(0,v)},$i=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Jl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},pp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:sw,l:0};if(i==1){var o=new Rr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(B,Y){return B.f-Y.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,d=1,f=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=r[r[c].f<r[f].f?c++:f++],l=r[c!=d&&r[c].f<r[f].f?c++:f++],r[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var p=new pn(v+1),_=I0(r[d-1],p,0);if(_>e){var n=0,N=0,A=_-e,y=1<<A;for(s.sort(function(Y,R){return p[R.s]-p[Y.s]||Y.f-R.f});n<i;++n){var w=s[n].s;if(p[w]>e)N+=y-(1<<_-p[w]),p[w]=e;else break}for(N>>=A;N>0;){var S=s[n].s;p[S]<e?N-=1<<e-p[S]++-1:++n}for(;n>=0&&N;--n){var T=s[n].s;p[T]==e&&(--p[T],++N)}_=e}return{t:new Rr(p),l:_}},I0=function(t,e,r){return t.s==-1?Math.max(I0(t.l,e,r+1),I0(t.r,e,r+1)):e[t.s]=r},f2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new pn(++e),n=0,i=t[0],s=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},Yl=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},iw=function(t,e,r){var n=r.length,i=Xg(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},p2=function(t,e,r,n,i,s,o,a,l,c,d){$i(e,d++,r),++i[256];for(var f=pp(i,15),v=f.t,p=f.l,_=pp(s,15),N=_.t,A=_.l,y=f2(v),w=y.c,S=y.n,T=f2(N),B=T.c,Y=T.n,R=new pn(19),k=0;k<w.length;++k)++R[w[k]&31];for(var k=0;k<B.length;++k)++R[B[k]&31];for(var O=pp(R,7),U=O.t,E=O.l,j=19;j>4&&!U[E0[j-1]];--j);var W=c+5<<3,K=Yl(i,Ws)+Yl(s,$u)+o,pe=Yl(i,v)+Yl(s,N)+o+14+3*j+Yl(R,U)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&W<=K&&W<=pe)return iw(e,d,t.subarray(l,l+c));var he,re,H,Q;if($i(e,d,1+(pe<K)),d+=2,pe<K){he=_i(v,p,0),re=v,H=_i(N,A,0),Q=N;var ie=_i(U,E,0);$i(e,d,S-257),$i(e,d+5,Y-1),$i(e,d+10,j-4),d+=14;for(var k=0;k<j;++k)$i(e,d+3*k,U[E0[k]]);d+=3*j;for(var me=[w,B],P=0;P<2;++P)for(var $=me[P],k=0;k<$.length;++k){var V=$[k]&31;$i(e,d,ie[V]),d+=U[V],V>15&&($i(e,d,$[k]>>5&127),d+=$[k]>>12)}}else he=dN,re=Ws,H=pN,Q=$u;for(var k=0;k<a;++k){var J=n[k];if(J>255){var V=J>>18&31;Jl(e,d,he[V+257]),d+=re[V+257],V>7&&($i(e,d,J>>23&31),d+=$d[V]);var Z=J&31;Jl(e,d,H[Z]),d+=Q[Z],Z>3&&(Jl(e,d,J>>5&8191),d+=Dd[Z])}else Jl(e,d,he[J]),d+=re[J]}return Jl(e,d,he[256]),d+re[256]},vN=new Qg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sw=new Rr(0),wN=function(t,e,r,n,i,s){var o=s.z||t.length,a=new Rr(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),c=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var f=vN[e-1],v=f>>13,p=f&8191,_=(1<<r)-1,N=s.p||new pn(32768),A=s.h||new pn(_+1),y=Math.ceil(r/3),w=2*y,S=function(Re){return(t[Re]^t[Re+1]<<y^t[Re+2]<<w)&_},T=new Qg(25e3),B=new pn(288),Y=new pn(32),R=0,k=0,O=s.i||0,U=0,E=s.w||0,j=0;O+2<o;++O){var W=S(O),K=O&32767,pe=A[W];if(N[K]=pe,A[W]=K,E<=O){var he=o-O;if((R>7e3||U>24576)&&(he>423||!c)){d=p2(t,l,0,T,B,Y,k,U,j,O-j,d),U=R=k=0,j=O;for(var re=0;re<286;++re)B[re]=0;for(var re=0;re<30;++re)Y[re]=0}var H=2,Q=0,ie=p,me=K-pe&32767;if(he>2&&W==S(O-me))for(var P=Math.min(v,he)-1,$=Math.min(32767,O),V=Math.min(258,he);me<=$&&--ie&&K!=pe;){if(t[O+H]==t[O+H-me]){for(var J=0;J<V&&t[O+J]==t[O+J-me];++J);if(J>H){if(H=J,Q=me,J>P)break;for(var Z=Math.min(me,J-2),ue=0,re=0;re<Z;++re){var oe=O-me+re&32767,le=N[oe],Ne=oe-le&32767;Ne>ue&&(ue=Ne,pe=oe)}}}K=pe,pe=N[K],me+=K-pe&32767}if(Q){T[U++]=268435456|T0[H]<<18|d2[Q];var ye=T0[H]&31,Ce=d2[Q]&31;k+=$d[ye]+Dd[Ce],++B[257+ye],++Y[Ce],E=O+H,++R}else T[U++]=t[O],++B[t[O]]}}for(O=Math.max(O,E);O<o;++O)T[U++]=t[O],++B[t[O]];d=p2(t,l,c,T,B,Y,k,U,j,O-j,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=A,s.p=N,s.i=O,s.w=E)}else{for(var O=s.w||0;O<o+c;O+=65535){var Le=O+65535;Le>=o&&(l[d/8|0]=c,Le=o),d=iw(l,d+1,t.subarray(O,Le))}s.i=o}return nw(a,0,n+Xg(d)+i)},ow=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},bN=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Rr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return wN(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},aw=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},xN=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=ow();i.p(e.dictionary),aw(t,2,i.d())}},SN=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Jn(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Jn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function O0(t,e){e||(e={});var r=ow();r.p(t);var n=bN(t,e,e.dictionary?6:2,4);return xN(n,e),aw(n,n.length-4,r.d()),n}function _N(t,e){return yN(t.subarray(SN(t,e),-4),{i:2},e,e)}var NN=typeof TextDecoder<"u"&&new TextDecoder,kN=0;try{NN.decode(sw,{stream:!0}),kN=1}catch{}var Xe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function gp(){Xe.console&&typeof Xe.console.log=="function"&&Xe.console.log.apply(Xe.console,arguments)}var Ct={log:gp,warn:function(t){Xe.console&&(typeof Xe.console.warn=="function"?Xe.console.warn.apply(Xe.console,arguments):gp.call(null,arguments))},error:function(t){Xe.console&&(typeof Xe.console.error=="function"?Xe.console.error.apply(Xe.console,arguments):gp(t))}};function mp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){mo(n.response,e,r)},n.onerror=function(){Ct.error("could not download file")},n.send()}function g2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function uh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var yu,R0,mo=Xe.saveAs||((typeof window>"u"?"undefined":St(window))!=="object"||window!==Xe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Xe.URL||Xe.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?g2(i.href)?mp(t,e,r):uh(i,i.target="_blank"):uh(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){uh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(g2(t))mp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){uh(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:St(s)!=="object"&&(Ct.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return mp(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Xe.HTMLElement)||Xe.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":St(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},a.readAsDataURL(t)}else{var l=Xe.URL||Xe.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function yp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=jr(r,n,i,s,e[0],7,-680876936),s=jr(s,r,n,i,e[1],12,-389564586),i=jr(i,s,r,n,e[2],17,606105819),n=jr(n,i,s,r,e[3],22,-1044525330),r=jr(r,n,i,s,e[4],7,-176418897),s=jr(s,r,n,i,e[5],12,1200080426),i=jr(i,s,r,n,e[6],17,-1473231341),n=jr(n,i,s,r,e[7],22,-45705983),r=jr(r,n,i,s,e[8],7,1770035416),s=jr(s,r,n,i,e[9],12,-1958414417),i=jr(i,s,r,n,e[10],17,-42063),n=jr(n,i,s,r,e[11],22,-1990404162),r=jr(r,n,i,s,e[12],7,1804603682),s=jr(s,r,n,i,e[13],12,-40341101),i=jr(i,s,r,n,e[14],17,-1502002290),r=Er(r,n=jr(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Er(s,r,n,i,e[6],9,-1069501632),i=Er(i,s,r,n,e[11],14,643717713),n=Er(n,i,s,r,e[0],20,-373897302),r=Er(r,n,i,s,e[5],5,-701558691),s=Er(s,r,n,i,e[10],9,38016083),i=Er(i,s,r,n,e[15],14,-660478335),n=Er(n,i,s,r,e[4],20,-405537848),r=Er(r,n,i,s,e[9],5,568446438),s=Er(s,r,n,i,e[14],9,-1019803690),i=Er(i,s,r,n,e[3],14,-187363961),n=Er(n,i,s,r,e[8],20,1163531501),r=Er(r,n,i,s,e[13],5,-1444681467),s=Er(s,r,n,i,e[2],9,-51403784),i=Er(i,s,r,n,e[7],14,1735328473),r=Tr(r,n=Er(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Tr(s,r,n,i,e[8],11,-2022574463),i=Tr(i,s,r,n,e[11],16,1839030562),n=Tr(n,i,s,r,e[14],23,-35309556),r=Tr(r,n,i,s,e[1],4,-1530992060),s=Tr(s,r,n,i,e[4],11,1272893353),i=Tr(i,s,r,n,e[7],16,-155497632),n=Tr(n,i,s,r,e[10],23,-1094730640),r=Tr(r,n,i,s,e[13],4,681279174),s=Tr(s,r,n,i,e[0],11,-358537222),i=Tr(i,s,r,n,e[3],16,-722521979),n=Tr(n,i,s,r,e[6],23,76029189),r=Tr(r,n,i,s,e[9],4,-640364487),s=Tr(s,r,n,i,e[12],11,-421815835),i=Tr(i,s,r,n,e[15],16,530742520),r=Fr(r,n=Tr(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Fr(s,r,n,i,e[7],10,1126891415),i=Fr(i,s,r,n,e[14],15,-1416354905),n=Fr(n,i,s,r,e[5],21,-57434055),r=Fr(r,n,i,s,e[12],6,1700485571),s=Fr(s,r,n,i,e[3],10,-1894986606),i=Fr(i,s,r,n,e[10],15,-1051523),n=Fr(n,i,s,r,e[1],21,-2054922799),r=Fr(r,n,i,s,e[8],6,1873313359),s=Fr(s,r,n,i,e[15],10,-30611744),i=Fr(i,s,r,n,e[6],15,-1560198380),n=Fr(n,i,s,r,e[13],21,1309151649),r=Fr(r,n,i,s,e[4],6,-145523070),s=Fr(s,r,n,i,e[11],10,-1120210379),i=Fr(i,s,r,n,e[2],15,718787259),n=Fr(n,i,s,r,e[9],21,-343485551),t[0]=js(r,t[0]),t[1]=js(n,t[1]),t[2]=js(i,t[2]),t[3]=js(s,t[3])}function Bd(t,e,r,n,i,s){return e=js(js(e,t),js(n,s)),js(e<<i|e>>>32-i,r)}function jr(t,e,r,n,i,s,o){return Bd(e&r|~e&n,t,e,i,s,o)}function Er(t,e,r,n,i,s,o){return Bd(e&n|r&~n,t,e,i,s,o)}function Tr(t,e,r,n,i,s,o){return Bd(e^r^n,t,e,i,s,o)}function Fr(t,e,r,n,i,s,o){return Bd(r^(e|~n),t,e,i,s,o)}function uw(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)yp(n,AN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(yp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,yp(n,i),n}function AN(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}yu=Xe.atob.bind(Xe),R0=Xe.btoa.bind(Xe);var m2="0123456789abcdef".split("");function PN(t){for(var e="",r=0;r<4;r++)e+=m2[t>>8*r+4&15]+m2[t>>8*r&15];return e}function CN(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function M0(t){return uw(t).map(CN).join("")}var LN=function(t){for(var e=0;e<t.length;e++)t[e]=PN(t[e]);return t.join("")}(uw("hello"))!="5d41402abc4b2a76b9719d911017c592";function js(t,e){if(LN){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $0(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+o.charCodeAt(l))%256,a[l]=a[c],a[c]=d}r=t,n=a}else a=n;var f=e.length,v=0,p=0,_="";for(l=0;l<f;l++)p=(p+(d=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=d,o=a[(a[v]+a[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var y2={print:4,modify:8,copy:16,"annot-forms":32};function ba(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(y2.perm!==void 0)throw new Error("Invalid permission: "+a);i+=y2[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=M0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=$0(this.encryptionKey,this.padding)}function xa(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function v2(t){if(St(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(a){Xe.console&&Ct.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ld(t){if(!(this instanceof ld))return new ld(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function cw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function vo(t,e,r,n,i){if(!(this instanceof vo))return new vo(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,cw.call(this,n,i)}function Ia(t,e,r,n,i){if(!(this instanceof Ia))return new Ia(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,cw.call(this,n,i)}function Qe(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",d=null;St(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=v2;var _="1.3",N=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(g){_=g};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return A};var y=p.__private__.getPageFormat=function(g){return A[g]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},S=w.COMPAT;function T(){this.saveGraphicsState(),q(new Ye(Ie,0,0,-Ie,0,ss()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),c="n",S=w.ADVANCED}function B(){this.restoreGraphicsState(),c="S",S=w.COMPAT}var Y=p.__private__.combineFontStyleAndFontWeight=function(g,L){if(g=="bold"&&L=="normal"||g=="bold"&&L==400||g=="normal"&&L=="italic"||g=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(g=L==400||L==="normal"?g==="italic"?"italic":"normal":L!=700&&L!=="bold"||g!=="normal"?(L==700?"bold":L)+""+g:"bold"),g};p.advancedAPI=function(g){var L=S===w.COMPAT;return L&&T.call(this),typeof g!="function"||(g(this),L&&B.call(this)),this},p.compatAPI=function(g){var L=S===w.ADVANCED;return L&&B.call(this),typeof g!="function"||(g(this),L&&T.call(this)),this},p.isAdvancedAPI=function(){return S===w.ADVANCED};var R,k=function(g){if(S!==w.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(g,L){var G=e||L;if(isNaN(g)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(G).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,16)};var U=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return O(g,2)},E=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return O(g,3)},j=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return S===w.COMPAT?g*Ie:S===w.ADVANCED?g:void 0},W=function(g){return S===w.COMPAT?ss()-g:S===w.ADVANCED?g:void 0},K=function(g){return j(W(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,he="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return he},H=p.__private__.setFileId=function(g){return he=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ar=new ba(d.userPermissions,d.userPassword,d.ownerPassword,he)),he};p.setFileId=function(g){return H(g),this},p.getFileId=function(){return re()};var Q=p.__private__.convertDateToPDFDate=function(g){var L=g.getTimezoneOffset(),G=L<0?"+":"-",X=Math.floor(Math.abs(L/60)),ce=Math.abs(L%60),we=[G,V(X),"'",V(ce),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),we].join("")},ie=p.__private__.convertPDFDateToDate=function(g){var L=parseInt(g.substr(2,4),10),G=parseInt(g.substr(6,2),10)-1,X=parseInt(g.substr(8,2),10),ce=parseInt(g.substr(10,2),10),we=parseInt(g.substr(12,2),10),Pe=parseInt(g.substr(14,2),10);return new Date(L,G,X,ce,we,Pe,0)},me=p.__private__.setCreationDate=function(g){var L;if(g===void 0&&(g=new Date),g instanceof Date)L=Q(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=g}return pe=L},P=p.__private__.getCreationDate=function(g){var L=pe;return g==="jsDate"&&(L=ie(pe)),L};p.setCreationDate=function(g){return me(g),this},p.getCreationDate=function(g){return P(g)};var $,V=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},J=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},Z=0,ue=[],oe=[],le=0,Ne=[],ye=[],Ce=!1,Le=oe,Re=function(){Z=0,le=0,oe=[],ue=[],Ne=[],Ci=rr(),Rn=rr()};p.__private__.setCustomOutputDestination=function(g){Ce=!0,Le=g};var ge=function(g){Ce||(Le=g)};p.__private__.resetCustomOutputDestination=function(){Ce=!1,Le=oe};var q=p.__private__.out=function(g){return g=g.toString(),le+=g.length+1,Le.push(g),Le},We=p.__private__.write=function(g){return q(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Ae=p.__private__.getArrayBuffer=function(g){for(var L=g.length,G=new ArrayBuffer(L),X=new Uint8Array(G);L--;)X[L]=g.charCodeAt(L);return G},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return be};var Ee=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Ee=S===w.ADVANCED?g/Ie:g,this};var Fe,Te=p.__private__.getFontSize=p.getFontSize=function(){return S===w.COMPAT?Ee:Ee*Ie},ze=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return ze=g,this},p.__private__.getR2L=p.getR2L=function(){return ze};var qe,Ge=p.__private__.setZoomMode=function(g){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Fe=g;else if(isNaN(g)){if(L.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Fe=g}else Fe=parseInt(g,10)};p.__private__.getZoomMode=function(){return Fe};var He,Ze=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');qe=g};p.__private__.getPageMode=function(){return qe};var ut=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');He=g};p.__private__.getLayoutMode=function(){return He},p.__private__.setDisplayMode=p.setDisplayMode=function(g,L,G){return Ge(g),ut(L),Ze(G),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(Je).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[g]},p.__private__.getDocumentProperties=function(){return Je},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var L in Je)Je.hasOwnProperty(L)&&g[L]&&(Je[L]=g[L]);return this},p.__private__.setDocumentProperty=function(g,L){if(Object.keys(Je).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[g]=L};var lt,Ie,kt,ct,Wr,At={},Rt={},si=[],vt={},Qs={},qt={},In={},Pi=null,Ht=0,rt=[],wt=new v2(p),Xs=t.hotfixes||[],br={},oi={},ai=[],Ye=function g(L,G,X,ce,we,Pe){if(!(this instanceof g))return new g(L,G,X,ce,we,Pe);isNaN(L)&&(L=1),isNaN(G)&&(G=0),isNaN(X)&&(X=0),isNaN(ce)&&(ce=1),isNaN(we)&&(we=0),isNaN(Pe)&&(Pe=0),this._matrix=[L,G,X,ce,we,Pe]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(g)},Ye.prototype.multiply=function(g){var L=g.sx*this.sx+g.shy*this.shx,G=g.sx*this.shy+g.shy*this.sy,X=g.shx*this.sx+g.sy*this.shx,ce=g.shx*this.shy+g.sy*this.sy,we=g.tx*this.sx+g.ty*this.shx+this.tx,Pe=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ye(L,G,X,ce,we,Pe)},Ye.prototype.decompose=function(){var g=this.sx,L=this.shy,G=this.shx,X=this.sy,ce=this.tx,we=this.ty,Pe=Math.sqrt(g*g+L*L),$e=(g/=Pe)*G+(L/=Pe)*X;G-=g*$e,X-=L*$e;var Ve=Math.sqrt(G*G+X*X);return $e/=Ve,g*(X/=Ve)<L*(G/=Ve)&&(g=-g,L=-L,$e=-$e,Pe=-Pe),{scale:new Ye(Pe,0,0,Ve,0,0),translate:new Ye(1,0,0,1,ce,we),rotate:new Ye(g,L,-L,g,0,0),skew:new Ye(1,0,$e,1,0,0)}},Ye.prototype.toString=function(g){return this.join(" ")},Ye.prototype.inversed=function(){var g=this.sx,L=this.shy,G=this.shx,X=this.sy,ce=this.tx,we=this.ty,Pe=1/(g*X-L*G),$e=X*Pe,Ve=-L*Pe,st=-G*Pe,nt=g*Pe;return new Ye($e,Ve,st,nt,-$e*ce-st*we,-Ve*ce-nt*we)},Ye.prototype.applyToPoint=function(g){var L=g.x*this.sx+g.y*this.shx+this.tx,G=g.x*this.shy+g.y*this.sy+this.ty;return new Ko(L,G)},Ye.prototype.applyToRectangle=function(g){var L=this.applyToPoint(g),G=this.applyToPoint(new Ko(g.x+g.w,g.y+g.h));return new wl(L.x,L.y,G.x-L.x,G.y-L.y)},Ye.prototype.clone=function(){var g=this.sx,L=this.shy,G=this.shx,X=this.sy,ce=this.tx,we=this.ty;return new Ye(g,L,G,X,ce,we)},p.Matrix=Ye;var On=p.matrixMult=function(g,L){return L.multiply(g)},li=new Ye(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=li;var Vr=function(g,L){if(!Qs[g]){var G=(L instanceof vo?"Sh":"P")+(Object.keys(vt).length+1).toString(10);L.id=G,Qs[g]=G,vt[G]=L,wt.publish("addPattern",L)}};p.ShadingPattern=vo,p.TilingPattern=Ia,p.addShadingPattern=function(g,L){return k("addShadingPattern()"),Vr(g,L),this},p.beginTilingPattern=function(g){k("beginTilingPattern()"),gc(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,L){k("endTilingPattern()"),L.stream=ye[$].join(`
`),Vr(g,L),wt.publish("endTilingPattern",L),ai.pop().restore()};var lr=p.__private__.newObject=function(){var g=rr();return an(g,!0),g},rr=p.__private__.newObjectDeferred=function(){return Z++,ue[Z]=function(){return le},Z},an=function(g,L){return L=typeof L=="boolean"&&L,ue[g]=le,L&&q(g+" 0 obj"),g},Oo=p.__private__.newAdditionalObject=function(){var g={objId:rr(),content:""};return Ne.push(g),g},Ci=rr(),Rn=rr(),Mn=p.__private__.decodeColorString=function(g){var L=g.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var G=parseFloat(L[0]);L=[G,G,G,"r"]}for(var X="#",ce=0;ce<3;ce++)X+=("0"+Math.floor(255*parseFloat(L[ce])).toString(16)).slice(-2);return X},$n=p.__private__.encodeColorString=function(g){var L;typeof g=="string"&&(g={ch1:g});var G=g.ch1,X=g.ch2,ce=g.ch3,we=g.ch4,Pe=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var $e=new lw(G);if($e.ok)G=$e.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var Ve=parseInt(G.substr(1),16);G=Ve>>16&255,X=Ve>>8&255,ce=255&Ve}if(X===void 0||we===void 0&&G===X&&X===ce)if(typeof G=="string")L=G+" "+Pe[0];else switch(g.precision){case 2:L=U(G/255)+" "+Pe[0];break;case 3:default:L=E(G/255)+" "+Pe[0]}else if(we===void 0||St(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return L=["1.","1.","1.",Pe[1]].join(" ");if(typeof G=="string")L=[G,X,ce,Pe[1]].join(" ");else switch(g.precision){case 2:L=[U(G/255),U(X/255),U(ce/255),Pe[1]].join(" ");break;default:case 3:L=[E(G/255),E(X/255),E(ce/255),Pe[1]].join(" ")}}else if(typeof G=="string")L=[G,X,ce,we,Pe[2]].join(" ");else switch(g.precision){case 2:L=[U(G),U(X),U(ce),U(we),Pe[2]].join(" ");break;case 3:default:L=[E(G),E(X),E(ce),E(we),Pe[2]].join(" ")}return L},ui=p.__private__.getFilters=function(){return o},bn=p.__private__.putStream=function(g){var L=(g=g||{}).data||"",G=g.filters||ui(),X=g.alreadyAppliedFilters||[],ce=g.addLength1||!1,we=L.length,Pe=g.objectId,$e=function(Pr){return Pr};if(d!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&($e=Ar.encryptor(Pe,0));var Ve={};G===!0&&(G=["FlateEncode"]);var st=g.additionalKeyValues||[],nt=(Ve=Qe.API.processDataByFilters!==void 0?Qe.API.processDataByFilters(L,G):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if(Ve.data.length!==0&&(st.push({key:"Length",value:Ve.data.length}),ce===!0&&st.push({key:"Length1",value:we})),nt.length!=0)if(nt.split("/").length-1==1)st.push({key:"Filter",value:nt});else{st.push({key:"Filter",value:"["+nt+"]"});for(var pt=0;pt<st.length;pt+=1)if(st[pt].key==="DecodeParms"){for(var $t=[],Wt=0;Wt<Ve.reverseChain.split("/").length-1;Wt+=1)$t.push("null");$t.push(st[pt].value),st[pt].value="["+$t.join(" ")+"]"}}q("<<");for(var nr=0;nr<st.length;nr++)q("/"+st[nr].key+" "+st[nr].value);q(">>"),Ve.data.length!==0&&(q("stream"),q($e(Ve.data)),q("endstream"))},ci=p.__private__.putPage=function(g){var L=g.number,G=g.data,X=g.objId,ce=g.contentsObjId;an(X,!0),q("<</Type /Page"),q("/Parent "+g.rootDictionaryObjId+" 0 R"),q("/Resources "+g.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(R(g.mediaBox.bottomLeftX))+" "+parseFloat(R(g.mediaBox.bottomLeftY))+" "+R(g.mediaBox.topRightX)+" "+R(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&q("/CropBox ["+R(g.cropBox.bottomLeftX)+" "+R(g.cropBox.bottomLeftY)+" "+R(g.cropBox.topRightX)+" "+R(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&q("/BleedBox ["+R(g.bleedBox.bottomLeftX)+" "+R(g.bleedBox.bottomLeftY)+" "+R(g.bleedBox.topRightX)+" "+R(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&q("/TrimBox ["+R(g.trimBox.bottomLeftX)+" "+R(g.trimBox.bottomLeftY)+" "+R(g.trimBox.topRightX)+" "+R(g.trimBox.topRightY)+"]"),g.artBox!==null&&q("/ArtBox ["+R(g.artBox.bottomLeftX)+" "+R(g.artBox.bottomLeftY)+" "+R(g.artBox.topRightX)+" "+R(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&q("/UserUnit "+g.userUnit),wt.publish("putPage",{objId:X,pageContext:rt[L],pageNumber:L,page:G}),q("/Contents "+ce+" 0 R"),q(">>"),q("endobj");var we=G.join(`
`);return S===w.ADVANCED&&(we+=`
Q`),an(ce,!0),bn({data:we,filters:ui(),objectId:ce}),q("endobj"),X},Zs=p.__private__.putPages=function(){var g,L,G=[];for(g=1;g<=Ht;g++)rt[g].objId=rr(),rt[g].contentsObjId=rr();for(g=1;g<=Ht;g++)G.push(ci({number:g,data:ye[g],objId:rt[g].objId,contentsObjId:rt[g].contentsObjId,mediaBox:rt[g].mediaBox,cropBox:rt[g].cropBox,bleedBox:rt[g].bleedBox,trimBox:rt[g].trimBox,artBox:rt[g].artBox,userUnit:rt[g].userUnit,rootDictionaryObjId:Ci,resourceDictionaryObjId:Rn}));an(Ci,!0),q("<</Type /Pages");var X="/Kids [";for(L=0;L<Ht;L++)X+=G[L]+" 0 R ";q(X+"]"),q("/Count "+Ht),q(">>"),q("endobj"),wt.publish("postPutPages")},Ro=function(g){wt.publish("putFont",{font:g,out:q,newObject:lr,putStream:bn}),g.isAlreadyPutted!==!0&&(g.objectNumber=lr(),q("<<"),q("/Type /Font"),q("/BaseFont /"+xa(g.postScriptName)),q("/Subtype /Type1"),typeof g.encoding=="string"&&q("/Encoding /"+g.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},Mo=function(){for(var g in At)At.hasOwnProperty(g)&&(f===!1||f===!0&&v.hasOwnProperty(g))&&Ro(At[g])},$o=function(g){g.objectNumber=lr();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[R(g.x),R(g.y),R(g.x+g.width),R(g.y+g.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var G=g.pages[1].join(`
`);bn({data:G,additionalKeyValues:L,objectId:g.objectNumber}),q("endobj")},Do=function(){for(var g in br)br.hasOwnProperty(g)&&$o(br[g])},Qu=function(g,L){var G,X=[],ce=1/(L-1);for(G=0;G<1;G+=ce)X.push(G);if(X.push(1),g[0].offset!=0){var we={offset:0,color:g[0].color};g.unshift(we)}if(g[g.length-1].offset!=1){var Pe={offset:1,color:g[g.length-1].color};g.push(Pe)}for(var $e="",Ve=0,st=0;st<X.length;st++){for(G=X[st];G>g[Ve+1].offset;)Ve++;var nt=g[Ve].offset,pt=(G-nt)/(g[Ve+1].offset-nt),$t=g[Ve].color,Wt=g[Ve+1].color;$e+=J(Math.round((1-pt)*$t[0]+pt*Wt[0]).toString(16))+J(Math.round((1-pt)*$t[1]+pt*Wt[1]).toString(16))+J(Math.round((1-pt)*$t[2]+pt*Wt[2]).toString(16))}return $e.trim()},zd=function(g,L){L||(L=21);var G=lr(),X=Qu(g.colors,L),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+L+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bn({data:X,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),q("endobj"),g.objectNumber=lr(),q("<< /ShadingType "+g.type),q("/ColorSpace /DeviceRGB");var we="/Coords ["+R(parseFloat(g.coords[0]))+" "+R(parseFloat(g.coords[1]))+" ";g.type===2?we+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3])):we+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3]))+" "+R(parseFloat(g.coords[4]))+" "+R(parseFloat(g.coords[5])),q(we+="]"),g.matrix&&q("/Matrix ["+g.matrix.toString()+"]"),q("/Function "+G+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},qd=function(g,L){var G=rr(),X=lr();L.push({resourcesOid:G,objectOid:X}),g.objectNumber=X;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+g.boundingBox.map(R).join(" ")+"]"}),ce.push({key:"XStep",value:R(g.xStep)}),ce.push({key:"YStep",value:R(g.yStep)}),ce.push({key:"Resources",value:G+" 0 R"}),g.matrix&&ce.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),bn({data:g.stream,additionalKeyValues:ce,objectId:g.objectNumber}),q("endobj")},Bo=function(g){var L;for(L in vt)vt.hasOwnProperty(L)&&(vt[L]instanceof vo?zd(vt[L]):vt[L]instanceof Ia&&qd(vt[L],g))},Xu=function(g){for(var L in g.objectNumber=lr(),q("<<"),g)switch(L){case"opacity":q("/ca "+U(g[L]));break;case"stroke-opacity":q("/CA "+U(g[L]))}q(">>"),q("endobj")},Hd=function(){var g;for(g in qt)qt.hasOwnProperty(g)&&Xu(qt[g])},ul=function(){for(var g in q("/XObject <<"),br)br.hasOwnProperty(g)&&br[g].objectNumber>=0&&q("/"+g+" "+br[g].objectNumber+" 0 R");wt.publish("putXobjectDict"),q(">>")},Wd=function(){Ar.oid=lr(),q("<<"),q("/Filter /Standard"),q("/V "+Ar.v),q("/R "+Ar.r),q("/U <"+Ar.toHexString(Ar.U)+">"),q("/O <"+Ar.toHexString(Ar.O)+">"),q("/P "+Ar.P),q(">>"),q("endobj")},Zu=function(){for(var g in q("/Font <<"),At)At.hasOwnProperty(g)&&(f===!1||f===!0&&v.hasOwnProperty(g))&&q("/"+g+" "+At[g].objectNumber+" 0 R");q(">>")},Vd=function(){if(Object.keys(vt).length>0){for(var g in q("/Shading <<"),vt)vt.hasOwnProperty(g)&&vt[g]instanceof vo&&vt[g].objectNumber>=0&&q("/"+g+" "+vt[g].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),q(">>")}},Uo=function(g){if(Object.keys(vt).length>0){for(var L in q("/Pattern <<"),vt)vt.hasOwnProperty(L)&&vt[L]instanceof p.TilingPattern&&vt[L].objectNumber>=0&&vt[L].objectNumber<g&&q("/"+L+" "+vt[L].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),q(">>")}},Gd=function(){if(Object.keys(qt).length>0){var g;for(g in q("/ExtGState <<"),qt)qt.hasOwnProperty(g)&&qt[g].objectNumber>=0&&q("/"+g+" "+qt[g].objectNumber+" 0 R");wt.publish("putGStateDict"),q(">>")}},Jt=function(g){an(g.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zu(),Vd(),Uo(g.objectOid),Gd(),ul(),q(">>"),q("endobj")},ec=function(){var g=[];Mo(),Hd(),Do(),Bo(g),wt.publish("putResources"),g.forEach(Jt),Jt({resourcesOid:Rn,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources")},tc=function(){wt.publish("putAdditionalObjects");for(var g=0;g<Ne.length;g++){var L=Ne[g];an(L.objId,!0),q(L.content),q("endobj")}wt.publish("postPutAdditionalObjects")},rc=function(g){Rt[g.fontName]=Rt[g.fontName]||{},Rt[g.fontName][g.fontStyle]=g.id},cl=function(g,L,G,X,ce){var we={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:g,fontName:L,fontStyle:G,encoding:X,isStandardFont:ce||!1,metadata:{}};return wt.publish("addFont",{font:we,instance:this}),At[we.id]=we,rc(we),we.id},Kd=function(g){for(var L=0,G=be.length;L<G;L++){var X=cl.call(this,g[L][0],g[L][1],g[L][2],be[L][3],!0);f===!1&&(v[X]=!0);var ce=g[L][0].split("-");rc({id:X,fontName:ce[0],fontStyle:ce[1]||""})}wt.publish("addFonts",{fonts:At,dictionary:Rt})},Dn=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(X){var L=X.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var G="Error in function "+L.split(`
`)[0].split("<")[0]+": "+X.message;if(!Xe.console)throw new Error(G);Xe.console.error(G,X),Xe.alert&&alert(G)}},g.foo.bar=g,g.foo},zo=function(g,L){var G,X,ce,we,Pe,$e,Ve,st,nt;if(ce=(L=L||{}).sourceEncoding||"Unicode",Pe=L.outputEncoding,(L.autoencode||Pe)&&At[lt].metadata&&At[lt].metadata[ce]&&At[lt].metadata[ce].encoding&&(we=At[lt].metadata[ce].encoding,!Pe&&At[lt].encoding&&(Pe=At[lt].encoding),!Pe&&we.codePages&&(Pe=we.codePages[0]),typeof Pe=="string"&&(Pe=we[Pe]),Pe)){for(Ve=!1,$e=[],G=0,X=g.length;G<X;G++)(st=Pe[g.charCodeAt(G)])?$e.push(String.fromCharCode(st)):$e.push(g[G]),$e[G].charCodeAt(0)>>8&&(Ve=!0);g=$e.join("")}for(G=g.length;Ve===void 0&&G!==0;)g.charCodeAt(G-1)>>8&&(Ve=!0),G--;if(!Ve)return g;for($e=L.noBOM?[]:[254,255],G=0,X=g.length;G<X;G++){if((nt=(st=g.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(nt),$e.push(st-(nt<<8))}return String.fromCharCode.apply(void 0,$e)},Gr=p.__private__.pdfEscape=p.pdfEscape=function(g,L){return zo(g,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=p.__private__.beginPage=function(g){ye[++Ht]=[],rt[Ht]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},ic(Ht),ge(ye[$])},nc=function(g,L){var G,X,ce;switch(r=L||r,typeof g=="string"&&(G=y(g.toLowerCase()),Array.isArray(G)&&(X=G[0],ce=G[1])),Array.isArray(g)&&(X=g[0]*Ie,ce=g[1]*Ie),isNaN(X)&&(X=i[0],ce=i[1]),(X>14400||ce>14400)&&(Ct.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),ce=Math.min(14400,ce)),i=[X,ce],r.substr(0,1)){case"l":ce>X&&(i=[ce,X]);break;case"p":X>ce&&(i=[ce,X])}hl(i),cc(gl),q(Bn),yl!==0&&q(yl+" J"),vl!==0&&q(vl+" j"),wt.publish("addPage",{pageNumber:Ht})},Jd=function(g){g>0&&g<=Ht&&(ye.splice(g,1),rt.splice(g,1),Ht--,$>Ht&&($=Ht),this.setPage($))},ic=function(g){g>0&&g<=Ht&&($=g)},Yd=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},sc=function(g,L,G){var X,ce=void 0;return G=G||{},g=g!==void 0?g:At[lt].fontName,L=L!==void 0?L:At[lt].fontStyle,X=g.toLowerCase(),Rt[X]!==void 0&&Rt[X][L]!==void 0?ce=Rt[X][L]:Rt[g]!==void 0&&Rt[g][L]!==void 0?ce=Rt[g][L]:G.disableWarning===!1&&Ct.warn("Unable to look up font label for font '"+g+"', '"+L+"'. Refer to getFontList() for available fonts."),ce||G.noFallback||(ce=Rt.times[L])==null&&(ce=Rt.times.normal),ce},Qd=p.__private__.putInfo=function(){var g=lr(),L=function(X){return X};for(var G in d!==null&&(L=Ar.encryptor(g,0)),q("<<"),q("/Producer ("+Gr(L("jsPDF "+Qe.version))+")"),Je)Je.hasOwnProperty(G)&&Je[G]&&q("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+Gr(L(Je[G]))+")");q("/CreationDate ("+Gr(L(pe))+")"),q(">>"),q("endobj")},dl=p.__private__.putCatalog=function(g){var L=(g=g||{}).rootDictionaryObjId||Ci;switch(lr(),q("<<"),q("/Type /Catalog"),q("/Pages "+L+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Fe;G.substr(G.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&q("/OpenAction [3 0 R /XYZ null null "+U(Fe)+"]")}switch(He||(He="continuous"),He){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}qe&&q("/PageMode /"+qe),wt.publish("putCatalog"),q(">>"),q("endobj")},Xd=p.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(Z+1)),q("/Root "+Z+" 0 R"),q("/Info "+(Z-1)+" 0 R"),d!==null&&q("/Encrypt "+Ar.oid+" 0 R"),q("/ID [ <"+he+"> <"+he+"> ]"),q(">>")},Zd=p.__private__.putHeader=function(){q("%PDF-"+_),q("%")},ef=p.__private__.putXRef=function(){var g="0000000000";q("xref"),q("0 "+(Z+1)),q("0000000000 65535 f ");for(var L=1;L<=Z;L++)typeof ue[L]=="function"?q((g+ue[L]()).slice(-10)+" 00000 n "):ue[L]!==void 0?q((g+ue[L]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},Li=p.__private__.buildDocument=function(){Re(),ge(oe),wt.publish("buildDocument"),Zd(),Zs(),tc(),ec(),d!==null&&Wd(),Qd(),dl();var g=le;return ef(),Xd(),q("startxref"),q(""+g),q("%%EOF"),ge(ye[$]),oe.join(`
`)},qo=p.__private__.getBlob=function(g){return new Blob([Ae(g)],{type:"application/pdf"})},Ho=p.output=p.__private__.output=Dn(function(g,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",g){case void 0:return Li();case"save":p.save(L.filename);break;case"arraybuffer":return Ae(Li());case"blob":return qo(Li());case"bloburi":case"bloburl":if(Xe.URL!==void 0&&typeof Xe.URL.createObjectURL=="function")return Xe.URL&&Xe.URL.createObjectURL(qo(Li()))||void 0;Ct.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",X=Li();try{G=R0(X)}catch{G=R0(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+L.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(ce=L.pdfObjectUrl,we="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",$e=Xe.open();return $e!==null&&$e.document.write(Pe),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',st=Xe.open();if(st!==null){st.document.write(Ve);var nt=this;st.document.documentElement.querySelector("#pdfViewer").onload=function(){st.document.title=L.filename,st.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return st}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',$t=Xe.open();if($t!==null&&($t.document.write(pt),$t.document.title=L.filename),$t||typeof safari>"u")return $t;break;case"datauri":case"dataurl":return Xe.document.location.href=this.output("datauristring",L);default:return null}}),oc=function(g){return Array.isArray(Xs)===!0&&Xs.indexOf(g)>-1};switch(n){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=oc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ie=n}var Ar=null;me(),H();var tf=function(g){return d!==null?Ar.encryptor(g,0):function(L){return L}},ac=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[g].objId,pageNumber:g,pageContext:rt[g]}},et=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in rt)if(rt[L].objId===g)break;return ac(L)},rf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:rt[$].objId,pageNumber:$,pageContext:rt[$]}};p.addPage=function(){return nc.apply(this,arguments),this},p.setPage=function(){return ic.apply(this,arguments),ge.call(this,ye[$]),this},p.insertPage=function(g){return this.addPage(),this.movePage($,g),this},p.movePage=function(g,L){var G,X;if(g>L){G=ye[g],X=rt[g];for(var ce=g;ce>L;ce--)ye[ce]=ye[ce-1],rt[ce]=rt[ce-1];ye[L]=G,rt[L]=X,this.setPage(L)}else if(g<L){G=ye[g],X=rt[g];for(var we=g;we<L;we++)ye[we]=ye[we+1],rt[we]=rt[we+1];ye[L]=G,rt[L]=X,this.setPage(L)}return this},p.deletePage=function(){return Jd.apply(this,arguments),this},p.__private__.text=p.text=function(g,L,G,X,ce){var we,Pe,$e,Ve,st,nt,pt,$t,Wt,nr=(X=X||{}).scope||this;if(typeof g=="number"&&typeof L=="number"&&(typeof G=="string"||Array.isArray(G))){var Pr=G;G=L,L=g,g=Pr}if(arguments[3]instanceof Ye?(k("The transform parameter of text() with a Matrix value"),Wt=ce):($e=arguments[4],Ve=arguments[5],St(pt=arguments[3])==="object"&&pt!==null||(typeof $e=="string"&&(Ve=$e,$e=null),typeof pt=="string"&&(Ve=pt,pt=null),typeof pt=="number"&&($e=pt,pt=null),X={flags:pt,angle:$e,align:Ve})),isNaN(L)||isNaN(G)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return nr;var fr="",Un=!1,ln=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:to,fi=nr.internal.scaleFactor;function mc(Lt){return Lt=Lt.split("	").join(Array(X.TabLen||9).join(" ")),Gr(Lt,pt)}function _l(Lt){for(var jt,Qt=Lt.concat(),ur=[],Ii=Qt.length;Ii--;)typeof(jt=Qt.shift())=="string"?ur.push(jt):Array.isArray(Lt)&&(jt.length===1||jt[1]===void 0&&jt[2]===void 0)?ur.push(jt[0]):ur.push([jt[0],jt[1],jt[2]]);return ur}function Nl(Lt,jt){var Qt;if(typeof Lt=="string")Qt=jt(Lt)[0];else if(Array.isArray(Lt)){for(var ur,Ii,Tl=Lt.concat(),sa=[],xc=Tl.length;xc--;)typeof(ur=Tl.shift())=="string"?sa.push(jt(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Ii=jt(ur[0],ur[1],ur[2]),sa.push([Ii[0],Ii[1],Ii[2]]));Qt=sa}return Qt}var Yo=!1,kl=!0;if(typeof g=="string")Yo=!0;else if(Array.isArray(g)){var Al=g.concat();Pe=[];for(var Qo,xr=Al.length;xr--;)(typeof(Qo=Al.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(kl=!1);Yo=kl}if(Yo===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Xo=Ee/nr.internal.scaleFactor,Zo=Xo*(ln-1);switch(X.baseline){case"bottom":G-=Zo;break;case"top":G+=Xo-Zo;break;case"hanging":G+=Xo-2*Zo;break;case"middle":G+=Xo/2-Zo}if((nt=X.maxWidth||0)>0&&(typeof g=="string"?g=nr.splitTextToSize(g,nt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Lt,jt){return Lt.concat(nr.splitTextToSize(jt,nt))},[]))),we={text:g,x:L,y:G,options:X,mutex:{pdfEscape:Gr,activeFontKey:lt,fonts:At,activeFontSize:Ee}},wt.publish("preProcessText",we),g=we.text,$e=(X=we.options).angle,!(Wt instanceof Ye)&&$e&&typeof $e=="number"){$e*=Math.PI/180,X.rotationDirection===0&&($e=-$e),S===w.ADVANCED&&($e=-$e);var ea=Math.cos($e),Pl=Math.sin($e);Wt=new Ye(ea,Pl,-Pl,ea,0,0)}else $e&&$e instanceof Ye&&(Wt=$e);S!==w.ADVANCED||Wt||(Wt=li),(st=X.charSpace||Go)!==void 0&&(fr+=R(j(st))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($t=X.horizontalScale)!==void 0&&(fr+=R(100*$t)+` Tz
`),X.lang;var Kr=-1,ff=X.renderingMode!==void 0?X.renderingMode:X.stroke,Cl=nr.internal.getCurrentPageInfo().pageContext;switch(ff){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var yc=Cl.usedRenderingMode!==void 0?Cl.usedRenderingMode:-1;Kr!==-1?fr+=Kr+` Tr
`:yc!==-1&&(fr+=`0 Tr
`),Kr!==-1&&(Cl.usedRenderingMode=Kr),Ve=X.align||"left";var xn,ta=Ee*ln,vc=nr.internal.pageSize.getWidth(),wc=At[lt];st=X.charSpace||Go,nt=X.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},X.flags);var os=[],io=function(Lt){return nr.getStringUnitWidth(Lt,{font:wc,charSpace:st,fontSize:Ee,doKerning:!1})*Ee/fi};if(Object.prototype.toString.call(g)==="[object Array]"){var Jr;Pe=_l(g),Ve!=="left"&&(xn=Pe.map(io));var $r,as=0;if(Ve==="right"){L-=xn[0],g=[],xr=Pe.length;for(var Ei=0;Ei<xr;Ei++)Ei===0?($r=di(L),Jr=ji(G)):($r=j(as-xn[Ei]),Jr=-ta),g.push([Pe[Ei],$r,Jr]),as=xn[Ei]}else if(Ve==="center"){L-=xn[0]/2,g=[],xr=Pe.length;for(var Ti=0;Ti<xr;Ti++)Ti===0?($r=di(L),Jr=ji(G)):($r=j((as-xn[Ti])/2),Jr=-ta),g.push([Pe[Ti],$r,Jr]),as=xn[Ti]}else if(Ve==="left"){g=[],xr=Pe.length;for(var ra=0;ra<xr;ra++)g.push(Pe[ra])}else if(Ve==="justify"&&wc.encoding==="Identity-H"){g=[],xr=Pe.length,nt=nt!==0?nt:vc;for(var Fi=0,Yt=0;Yt<xr;Yt++)if(Jr=Yt===0?ji(G):-ta,$r=Yt===0?di(L):Fi,Yt<xr-1){var Ll=j((nt-xn[Yt])/(Pe[Yt].split(" ").length-1)),Dr=Pe[Yt].split(" ");g.push([Dr[0]+" ",$r,Jr]),Fi=0;for(var Sn=1;Sn<Dr.length;Sn++){var na=(io(Dr[Sn-1]+" "+Dr[Sn])-io(Dr[Sn]))*fi+Ll;Sn==Dr.length-1?g.push([Dr[Sn],na,0]):g.push([Dr[Sn]+" ",na,0]),Fi-=na}}else g.push([Pe[Yt],$r,Jr]);g.push(["",Fi,0])}else{if(Ve!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],xr=Pe.length,nt=nt!==0?nt:vc,Yt=0;Yt<xr;Yt++)Jr=Yt===0?ji(G):-ta,$r=Yt===0?di(L):0,Yt<xr-1?os.push(R(j((nt-xn[Yt])/(Pe[Yt].split(" ").length-1)))):os.push(0),g.push([Pe[Yt],$r,Jr])}}var bc=typeof X.R2L=="boolean"?X.R2L:ze;bc===!0&&(g=Nl(g,function(Lt,jt,Qt){return[Lt.split("").reverse().join(""),jt,Qt]})),we={text:g,x:L,y:G,options:X,mutex:{pdfEscape:Gr,activeFontKey:lt,fonts:At,activeFontSize:Ee}},wt.publish("postProcessText",we),g=we.text,Un=we.mutex.isHex||!1;var jl=At[lt].encoding;jl!=="WinAnsiEncoding"&&jl!=="StandardEncoding"||(g=Nl(g,function(Lt,jt,Qt){return[mc(Lt),jt,Qt]})),Pe=_l(g),g=[];for(var so,oo,ls,ao=0,ia=1,lo=Array.isArray(Pe[0])?ia:ao,us="",El=function(Lt,jt,Qt){var ur="";return Qt instanceof Ye?(Qt=typeof X.angle=="number"?On(Qt,new Ye(1,0,0,1,Lt,jt)):On(new Ye(1,0,0,1,Lt,jt),Qt),S===w.ADVANCED&&(Qt=On(new Ye(1,0,0,-1,0,0),Qt)),ur=Qt.join(" ")+` Tm
`):ur=R(Lt)+" "+R(jt)+` Td
`,ur},_n=0;_n<Pe.length;_n++){switch(us="",lo){case ia:ls=(Un?"<":"(")+Pe[_n][0]+(Un?">":")"),so=parseFloat(Pe[_n][1]),oo=parseFloat(Pe[_n][2]);break;case ao:ls=(Un?"<":"(")+Pe[_n]+(Un?">":")"),so=di(L),oo=ji(G)}os!==void 0&&os[_n]!==void 0&&(us=os[_n]+` Tw
`),_n===0?g.push(us+El(so,oo,Wt)+ls):lo===ao?g.push(us+ls):lo===ia&&g.push(us+El(so,oo,Wt)+ls)}g=lo===ao?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Nn=`BT
/`;return Nn+=lt+" "+Ee+` Tf
`,Nn+=R(Ee*ln)+` TL
`,Nn+=ro+`
`,Nn+=fr,Nn+=g,q(Nn+="ET"),v[lt]=!0,nr};var nf=p.__private__.clip=p.clip=function(g){return q(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return nf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return q("n"),this};var hi=p.__private__.isValidStyle=function(g){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(L=!0),L};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return hi(g)&&(c=g),this};var lc=p.__private__.getStyle=p.getStyle=function(g){var L=c;switch(g){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=g}return L},uc=p.close=function(){return q("h"),this};p.stroke=function(){return q("S"),this},p.fill=function(g){return Wo("f",g),this},p.fillEvenOdd=function(g){return Wo("f*",g),this},p.fillStroke=function(g){return Wo("B",g),this},p.fillStrokeEvenOdd=function(g){return Wo("B*",g),this};var Wo=function(g,L){St(L)==="object"?of(L,g):q(g)},fl=function(g){g===null||S===w.ADVANCED&&g===void 0||(g=lc(g),q(g))};function sf(g,L,G,X,ce){var we=new Ia(L||this.boundingBox,G||this.xStep,X||this.yStep,this.gState,ce||this.matrix);we.stream=this.stream;var Pe=g+"$$"+this.cloneIndex+++"$$";return Vr(Pe,we),we}var of=function(g,L){var G=Qs[g.key],X=vt[G];if(X instanceof vo)q("q"),q(af(L)),X.gState&&p.setGState(X.gState),q(g.matrix.toString()+" cm"),q("/"+G+" sh"),q("Q");else if(X instanceof Ia){var ce=new Ye(1,0,0,-1,0,ss());g.matrix&&(ce=ce.multiply(g.matrix||li),G=sf.call(X,g.key,g.boundingBox,g.xStep,g.yStep,ce).id),q("q"),q("/Pattern cs"),q("/"+G+" scn"),X.gState&&p.setGState(X.gState),q(L),q("Q")}},af=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},pl=p.moveTo=function(g,L){return q(R(j(g))+" "+R(K(L))+" m"),this},eo=p.lineTo=function(g,L){return q(R(j(g))+" "+R(K(L))+" l"),this},ns=p.curveTo=function(g,L,G,X,ce,we){return q([R(j(g)),R(K(L)),R(j(G)),R(K(X)),R(j(ce)),R(K(we)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,L,G,X,ce){if(isNaN(g)||isNaN(L)||isNaN(G)||isNaN(X)||!hi(ce))throw new Error("Invalid arguments passed to jsPDF.line");return S===w.COMPAT?this.lines([[G-g,X-L]],g,L,[1,1],ce||"S"):this.lines([[G-g,X-L]],g,L,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,L,G,X,ce,we){var Pe,$e,Ve,st,nt,pt,$t,Wt,nr,Pr,fr,Un;if(typeof g=="number"&&(Un=G,G=L,L=g,g=Un),X=X||[1,1],we=we||!1,isNaN(L)||isNaN(G)||!Array.isArray(g)||!Array.isArray(X)||!hi(ce)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pl(L,G),Pe=X[0],$e=X[1],st=g.length,Pr=L,fr=G,Ve=0;Ve<st;Ve++)(nt=g[Ve]).length===2?(Pr=nt[0]*Pe+Pr,fr=nt[1]*$e+fr,eo(Pr,fr)):(pt=nt[0]*Pe+Pr,$t=nt[1]*$e+fr,Wt=nt[2]*Pe+Pr,nr=nt[3]*$e+fr,Pr=nt[4]*Pe+Pr,fr=nt[5]*$e+fr,ns(pt,$t,Wt,nr,Pr,fr));return we&&uc(),fl(ce),this},p.path=function(g){for(var L=0;L<g.length;L++){var G=g[L],X=G.c;switch(G.op){case"m":pl(X[0],X[1]);break;case"l":eo(X[0],X[1]);break;case"c":ns.apply(this,X);break;case"h":uc()}}return this},p.__private__.rect=p.rect=function(g,L,G,X,ce){if(isNaN(g)||isNaN(L)||isNaN(G)||isNaN(X)||!hi(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w.COMPAT&&(X=-X),q([R(j(g)),R(K(L)),R(j(G)),R(j(X)),"re"].join(" ")),fl(ce),this},p.__private__.triangle=p.triangle=function(g,L,G,X,ce,we,Pe){if(isNaN(g)||isNaN(L)||isNaN(G)||isNaN(X)||isNaN(ce)||isNaN(we)||!hi(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-g,X-L],[ce-G,we-X],[g-ce,L-we]],g,L,[1,1],Pe,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,L,G,X,ce,we,Pe){if(isNaN(g)||isNaN(L)||isNaN(G)||isNaN(X)||isNaN(ce)||isNaN(we)||!hi(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*G),we=Math.min(we,.5*X),this.lines([[G-2*ce,0],[ce*$e,0,ce,we-we*$e,ce,we],[0,X-2*we],[0,we*$e,-ce*$e,we,-ce,we],[2*ce-G,0],[-ce*$e,0,-ce,-we*$e,-ce,-we],[0,2*we-X],[0,-we*$e,ce*$e,-we,ce,-we]],g+ce,L,[1,1],Pe,!0),this},p.__private__.ellipse=p.ellipse=function(g,L,G,X,ce){if(isNaN(g)||isNaN(L)||isNaN(G)||isNaN(X)||!hi(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*G,Pe=4/3*(Math.SQRT2-1)*X;return pl(g+G,L),ns(g+G,L-Pe,g+we,L-X,g,L-X),ns(g-we,L-X,g-G,L-Pe,g-G,L),ns(g-G,L+Pe,g-we,L+X,g,L+X),ns(g+we,L+X,g+G,L+Pe,g+G,L),fl(ce),this},p.__private__.circle=p.circle=function(g,L,G,X){if(isNaN(g)||isNaN(L)||isNaN(G)||!hi(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,L,G,G,X)},p.setFont=function(g,L,G){return G&&(L=Y(L,G)),lt=sc(g,L,{disableWarning:!1}),this};var lf=p.__private__.getFont=p.getFont=function(){return At[sc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,L,G={};for(g in Rt)if(Rt.hasOwnProperty(g))for(L in G[g]=[],Rt[g])Rt[g].hasOwnProperty(L)&&G[g].push(L);return G},p.addFont=function(g,L,G,X,ce){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(G=Y(G,X)),ce=ce||"Identity-H",cl.call(this,g,L,G,ce)};var to,gl=t.lineWidth||.200025,Vo=p.__private__.getLineWidth=p.getLineWidth=function(){return gl},cc=p.__private__.setLineWidth=p.setLineWidth=function(g){return gl=g,q(R(j(g))+" w"),this};p.__private__.setLineDash=Qe.API.setLineDash=Qe.API.setLineDashPattern=function(g,L){if(g=g||[],L=L||0,isNaN(L)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(G){return R(j(G))}).join(" "),L=R(j(L)),q("["+g+"] "+L+" d"),this};var hc=p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*to};p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*to};var dc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(to=g),this},fc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return to};dc(t.lineHeight);var di=p.__private__.getHorizontalCoordinate=function(g){return j(g)},ji=p.__private__.getVerticalCoordinate=function(g){return S===w.ADVANCED?g:rt[$].mediaBox.topRightY-rt[$].mediaBox.bottomLeftY-j(g)},uf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return R(di(g))},is=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return R(ji(g))},Bn=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Mn(Bn)},p.__private__.setStrokeColor=p.setDrawColor=function(g,L,G,X){return Bn=$n({ch1:g,ch2:L,ch3:G,ch4:X,pdfColorType:"draw",precision:2}),q(Bn),this};var ml=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Mn(ml)},p.__private__.setFillColor=p.setFillColor=function(g,L,G,X){return ml=$n({ch1:g,ch2:L,ch3:G,ch4:X,pdfColorType:"fill",precision:2}),q(ml),this};var ro=t.textColor||"0 g",cf=p.__private__.getTextColor=p.getTextColor=function(){return Mn(ro)};p.__private__.setTextColor=p.setTextColor=function(g,L,G,X){return ro=$n({ch1:g,ch2:L,ch3:G,ch4:X,pdfColorType:"text",precision:3}),this};var Go=t.charSpace,hf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Go||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Go=g,this};var yl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var L=p.CapJoinStyles[g];if(L===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=L,q(L+" J"),this};var vl=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var L=p.CapJoinStyles[g];if(L===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vl=L,q(L+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(R(j(g))+" M"),this},p.GState=ld,p.setGState=function(g){(g=typeof g=="string"?qt[In[g]]:pc(null,g)).equals(Pi)||(q("/"+g.id+" gs"),Pi=g)};var pc=function(g,L){if(!g||!In[g]){var G=!1;for(var X in qt)if(qt.hasOwnProperty(X)&&qt[X].equals(L)){G=!0;break}if(G)L=qt[X];else{var ce="GS"+(Object.keys(qt).length+1).toString(10);qt[ce]=L,L.id=ce}return g&&(In[g]=L.id),wt.publish("addGState",L),L}};p.addGState=function(g,L){return pc(g,L),this},p.saveGraphicsState=function(){return q("q"),si.push({key:lt,size:Ee,color:ro}),this},p.restoreGraphicsState=function(){q("Q");var g=si.pop();return lt=g.key,Ee=g.size,ro=g.color,Pi=null,this},p.setCurrentTransformationMatrix=function(g){return q(g.toString()+" cm"),this},p.comment=function(g){return q("#"+g),this};var Ko=function(g,L){var G=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(we){isNaN(we)||(G=parseFloat(we))}});var X=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(we){isNaN(we)||(X=parseFloat(we))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(we){ce=we.toString()}}),this},wl=function(g,L,G,X){Ko.call(this,g,L),this.type="rect";var ce=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=parseFloat(Pe))}});var we=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Pe){isNaN(Pe)||(we=parseFloat(Pe))}}),this},bl=function(){this.page=Ht,this.currentPage=$,this.pages=ye.slice(0),this.pagesContext=rt.slice(0),this.x=kt,this.y=ct,this.matrix=Wr,this.width=no($),this.height=ss($),this.outputDestination=Le,this.id="",this.objectNumber=-1};bl.prototype.restore=function(){Ht=this.page,$=this.currentPage,rt=this.pagesContext,ye=this.pages,kt=this.x,ct=this.y,Wr=this.matrix,xl($,this.width),Sl($,this.height),Le=this.outputDestination};var gc=function(g,L,G,X,ce){ai.push(new bl),Ht=$=0,ye=[],kt=g,ct=L,Wr=ce,hl([G,X])},df=function(g){if(oi[g])ai.pop().restore();else{var L=new bl,G="Xo"+(Object.keys(br).length+1).toString(10);L.id=G,oi[g]=G,br[G]=L,wt.publish("addFormObject",L),ai.pop().restore()}};for(var Jo in p.beginFormObject=function(g,L,G,X,ce){return gc(g,L,G,X,ce),this},p.endFormObject=function(g){return df(g),this},p.doFormObject=function(g,L){var G=br[oi[g]];return q("q"),q(L.toString()+" cm"),q("/"+G.id+" Do"),q("Q"),this},p.getFormObject=function(g){var L=br[oi[g]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},p.save=function(g,L){return g=g||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(mo(qo(Li()),g),typeof mo.unload=="function"&&Xe.setTimeout&&setTimeout(mo.unload,911),this):new Promise(function(G,X){try{var ce=mo(qo(Li()),g);typeof mo.unload=="function"&&Xe.setTimeout&&setTimeout(mo.unload,911),G(ce)}catch(we){X(we.message)}})},Qe.API)Qe.API.hasOwnProperty(Jo)&&(Jo==="events"&&Qe.API.events.length?function(g,L){var G,X,ce;for(ce=L.length-1;ce!==-1;ce--)G=L[ce][0],X=L[ce][1],g.subscribe.apply(g,[G].concat(typeof X=="function"?[X]:X))}(wt,Qe.API.events):p[Jo]=Qe.API[Jo]);var no=p.getPageWidth=function(g){return(rt[g=g||$].mediaBox.topRightX-rt[g].mediaBox.bottomLeftX)/Ie},xl=p.setPageWidth=function(g,L){rt[g].mediaBox.topRightX=L*Ie+rt[g].mediaBox.bottomLeftX},ss=p.getPageHeight=function(g){return(rt[g=g||$].mediaBox.topRightY-rt[g].mediaBox.bottomLeftY)/Ie},Sl=p.setPageHeight=function(g,L){rt[g].mediaBox.topRightY=L*Ie+rt[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:Gr,getStyle:lc,getFont:lf,getFontSize:Te,getCharSpace:hf,getTextColor:cf,getLineHeight:hc,getLineHeightFactor:fc,getLineWidth:Vo,write:We,getHorizontalCoordinate:di,getVerticalCoordinate:ji,getCoordinateString:uf,getVerticalCoordinateString:is,collections:{},newObject:lr,newAdditionalObject:Oo,newObjectDeferred:rr,newObjectDeferredBegin:an,getFilters:ui,putStream:bn,events:wt,scaleFactor:Ie,pageSize:{getWidth:function(){return no($)},setWidth:function(g){xl($,g)},getHeight:function(){return ss($)},setHeight:function(g){Sl($,g)}},encryptionOptions:d,encryption:Ar,getEncryptor:tf,output:Ho,getNumberOfPages:Yd,pages:ye,out:q,f2:U,f3:E,getPageInfo:ac,getPageInfoByObjId:et,getCurrentPageInfo:rf,getPDFVersion:N,Point:Ko,Rectangle:wl,Matrix:Ye,hasHotfix:oc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return no($)},set:function(g){xl($,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ss($)},set:function(g){Sl($,g)},enumerable:!0,configurable:!0}),Kd.call(p,be),lt="F1",nc(i,r),wt.publish("initialized"),p}ba.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ba.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ba.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ba.prototype.processOwnerPassword=function(t,e){return $0(M0(e).substr(0,5),t)},ba.prototype.encryptor=function(t,e){var r=M0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return $0(r,n)}},ld.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||St(t)!==St(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Qe.API={events:[]},Qe.version="3.0.1";var Gt=Qe.API,Zg=1,Io=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ma=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},it=function(t){return t.toFixed(2)},bs=function(t){return t.toFixed(5)};Gt.__acroform__={};var on=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},w2=function(t){return t*Zg},mi=function(t){var e=new dw,r=Ue.internal.getHeight(t)||0,n=Ue.internal.getWidth(t)||0;return e.BBox=[0,0,Number(it(n)),Number(it(r))],e},jN=Gt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},EN=Gt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},TN=Gt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zt=Gt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TN(t,e-1)},er=Gt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jN(t,e-1)},tr=Gt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EN(t,e-1)},FN=Gt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(s)||0,[Number(it(l.lowerLeft_X)),Number(it(l.lowerLeft_Y)),Number(it(l.upperRight_X)),Number(it(l.upperRight_Y))]},IN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=D0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+it(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=mi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},D0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=r,o=Ue.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ue.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,j,W){if(E+1<i.length){var K=j+" "+i[E+1][0];return ch(K,t,W).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,d,f=ch("3",t,s).height,v=t.multiline?o-s:(o-f)/2,p=v+=2,_=0,N=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ch(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",w=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&A!==i[S].length-1){if((f+2)*(w+2)+2>o)continue e;y+=i[S][A],T=!0,N=S,S--}else{y=(y+=i[S][A]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var B=parseInt(S),Y=l(B,y,s),R=S>=i.length-1;if(Y&&!R){y+=" ",A=0;continue}if(Y||R){if(R)N=B;else if(t.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>o)continue e;N=B}}for(var k="",O=_;O<=N;O++){var U=i[O];if(t.multiline){if(O===N){k+=U[A]+" ",A=(A+1)%U.length;continue}if(O===_){k+=U[U.length-1]+" ";continue}}k+=U[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=ch(k,t,s).width,t.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=it(c)+" "+it(p)+` Td
`,e+="("+Io(k)+`) Tj
`,e+=-it(c)+` 0 Td
`,p=-(s+2),d=0,_=T?N:N+1,w++,y=""}break}return n.text=e,n.fontSize=s,n},ch=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ON={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},RN=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},MN=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),St(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},$N=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ni.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ON)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Zg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new fw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&RN(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=FN(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ue.createDefaultAppearanceStream(a),St(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=IN(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var f="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(f+="/"+v+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var _=p[o];typeof _=="function"&&(_=_.call(i,a)),f+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,a)),f+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&MN(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},hw=Gt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),St(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Io(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vp=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Io(n(t))+")"},bi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bi.prototype.toString=function(){return this.objId+" 0 R"},bi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},bi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:hw(i,this.objId,this.scope)}):i instanceof bi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var dw=function(){bi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};on(dw,bi);var fw=function(){bi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Io(r(t))+")"}},set:function(r){t=r}})};on(fw,bi);var ni=function t(){bi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zt(e,3)},set:function(y){y?this.F=er(e,3):this.F=tr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ud)return;s="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Io(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Zg:c},set:function(y){c=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ud||this instanceof ko))return vp(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof vr?v:vp(v,this.objId,this.scope)},set:function(y){y=y.toString(),v=this instanceof vr?y:y.substr(0,1)==="("?ma(y.substr(1,y.length-2)):ma(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr?ma(v.substr(1,v.length-1)):v},set:function(y){y=y.toString(),v=this instanceof vr?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof vr?p:vp(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof vr?y:y.substr(0,1)==="("?ma(y.substr(1,y.length-2)):ma(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr?ma(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof vr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(y){y=!!y,N=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(y){_=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,1)},set:function(y){y?this.Ff=er(this.Ff,1):this.Ff=tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,2)},set:function(y){y?this.Ff=er(this.Ff,2):this.Ff=tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,3)},set:function(y){y?this.Ff=er(this.Ff,3):this.Ff=tr(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');A=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(A){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};on(ni,bi);var Ua=function(){ni.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hw(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,18)},set:function(r){r?this.Ff=er(this.Ff,18):this.Ff=tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=er(this.Ff,19):this.Ff=tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,20)},set:function(r){r?(this.Ff=er(this.Ff,20),e.sort()):this.Ff=tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,22)},set:function(r){r?this.Ff=er(this.Ff,22):this.Ff=tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,23)},set:function(r){r?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,27)},set:function(r){r?this.Ff=er(this.Ff,27):this.Ff=tr(this.Ff,27)}}),this.hasAppearanceStream=!1};on(Ua,ni);var za=function(){Ua.call(this),this.fontName="helvetica",this.combo=!1};on(za,Ua);var qa=function(){za.call(this),this.combo=!0};on(qa,za);var Lh=function(){qa.call(this),this.edit=!0};on(Lh,qa);var vr=function(){ni.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,15)},set:function(r){r?this.Ff=er(this.Ff,15):this.Ff=tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,16)},set:function(r){r?this.Ff=er(this.Ff,16):this.Ff=tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,17)},set:function(r){r?this.Ff=er(this.Ff,17):this.Ff=tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,26)},set:function(r){r?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Io(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){St(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};on(vr,ni);var jh=function(){vr.call(this),this.pushButton=!0};on(jh,vr);var Ha=function(){vr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};on(Ha,vr);var ud=function(){var t,e;ni.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Io(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){St(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};on(ud,ni),Ha.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ha.prototype.createOption=function(t){var e=new ud;return e.Parent=this,e.optionName=t,this.Kids.push(e),DN.call(this.scope,e),e};var Eh=function(){vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};on(Eh,vr);var ko=function(){ni.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,13)},set:function(e){e?this.Ff=er(this.Ff,13):this.Ff=tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,21)},set:function(e){e?this.Ff=er(this.Ff,21):this.Ff=tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,23)},set:function(e){e?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,24)},set:function(e){e?this.Ff=er(this.Ff,24):this.Ff=tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,25)},set:function(e){e?this.Ff=er(this.Ff,25):this.Ff=tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,26)},set:function(e){e?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};on(ko,ni);var Th=function(){ko.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,14)},set:function(t){t?this.Ff=er(this.Ff,14):this.Ff=tr(this.Ff,14)}}),this.password=!0};on(Th,ko);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=D0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+it(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Ue.internal.getHeight(t),o=Ue.internal.getWidth(t),a=D0(t,t.caption);return i.push("1 g"),i.push("0 0 "+it(o)+" "+it(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+it(o-1)+" "+it(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+it(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Circle.YesNormal,e.D[t]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ue.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+bs(Ue.internal.getWidth(t)/2)+" "+bs(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5)),o=Number((n*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bs(Ue.internal.getWidth(t)/2)+" "+bs(Ue.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+bs(Ue.internal.getWidth(t)/2)+" "+bs(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bs(Ue.internal.getWidth(t)/2)+" "+bs(Ue.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Cross.YesNormal,e.D[t]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=Ue.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+it(Ue.internal.getWidth(t)-2)+" "+it(Ue.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(it(n.x1.x)+" "+it(n.x1.y)+" m"),r.push(it(n.x2.x)+" "+it(n.x2.y)+" l"),r.push(it(n.x4.x)+" "+it(n.x4.y)+" m"),r.push(it(n.x3.x)+" "+it(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=Ue.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+it(Ue.internal.getWidth(t)-2)+" "+it(Ue.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(it(r.x1.x)+" "+it(r.x1.y)+" m"),n.push(it(r.x2.x)+" "+it(r.x2.y)+" l"),n.push(it(r.x4.x)+" "+it(r.x4.y)+" m"),n.push(it(r.x3.x)+" "+it(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ue.internal.getWidth(t),r=Ue.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ue.internal.getWidth=function(t){var e=0;return St(t)==="object"&&(e=w2(t.Rect[2])),e},Ue.internal.getHeight=function(t){var e=0;return St(t)==="object"&&(e=w2(t.Rect[3])),e};var DN=Gt.addField=function(t){if($N(this,t),!(t instanceof ni))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gt.AcroFormChoiceField=Ua,Gt.AcroFormListBox=za,Gt.AcroFormComboBox=qa,Gt.AcroFormEditBox=Lh,Gt.AcroFormButton=vr,Gt.AcroFormPushButton=jh,Gt.AcroFormRadioButton=Ha,Gt.AcroFormCheckBox=Eh,Gt.AcroFormTextField=ko,Gt.AcroFormPasswordField=Th,Gt.AcroFormAppearance=Ue,Gt.AcroForm={ChoiceField:Ua,ListBox:za,ComboBox:qa,EditBox:Lh,Button:vr,PushButton:jh,RadioButton:Ha,CheckBox:Eh,TextField:ko,PasswordField:Th,Appearance:Ue},Qe.AcroForm={ChoiceField:Ua,ListBox:za,ComboBox:qa,EditBox:Lh,Button:vr,PushButton:jh,RadioButton:Ha,CheckBox:Eh,TextField:ko,PasswordField:Th,Appearance:Ue};function pw(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(E,j){var W,K,pe,he,re,H=e;if((j=j||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(Y(E))for(re in r)for(pe=r[re],W=0;W<pe.length;W+=1){for(he=!0,K=0;K<pe[W].length;K+=1)if(pe[W][K]!==void 0&&pe[W][K]!==E[K]){he=!1;break}if(he===!0){H=re;break}}else for(re in r)for(pe=r[re],W=0;W<pe.length;W+=1){for(he=!0,K=0;K<pe[W].length;K+=1)if(pe[W][K]!==void 0&&pe[W][K]!==E.charCodeAt(K)){he=!1;break}if(he===!0){H=re;break}}return H===e&&j!==e&&(H=j),H},i=function E(j){for(var W=this.internal.write,K=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:j.width}),he.push({key:"Height",value:j.height}),j.colorSpace===A.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===A.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var re="",H=0,Q=j.transparency.length;H<Q;H++)re+=j.transparency[H]+" "+j.transparency[H]+" ";he.push({key:"Mask",value:"["+re+"]"})}j.sMask!==void 0&&he.push({key:"SMask",value:j.objectId+1+" 0 R"});var ie=j.filter!==void 0?["/"+j.filter]:void 0;if(K({data:j.data,additionalKeyValues:he,alreadyAppliedFilters:ie,objectId:j.objectId}),W("endobj"),"sMask"in j&&j.sMask!==void 0){var me="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,P={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:me,data:j.sMask};"filter"in j&&(P.filter=j.filter),E.call(this,P)}if(j.colorSpace===A.INDEXED){var $=this.internal.newObject();K({data:k(new Uint8Array(j.palette)),objectId:$}),W("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var j in E)i.call(this,E[j])},o=function(){var E,j=this.internal.collections.addImage_images,W=this.internal.write;for(var K in j)W("/I"+(E=j[K]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(E){return typeof t["process"+E.toUpperCase()]=="function"},f=function(E){return St(E)==="object"&&E.nodeType===1},v=function(E,j){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var W=""+E.getAttribute("src");if(W.indexOf("data:image/")===0)return yu(unescape(W).split("base64,").pop());var K=t.loadFile(W,!0);if(K!==void 0)return K}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var pe;switch(j){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return yu(E.toDataURL(pe,1).split("base64,").pop())}},p=function(E){var j=this.internal.collections.addImage_images;if(j){for(var W in j)if(E===j[W].alias)return j[W]}},_=function(E,j,W){return E||j||(E=-96,j=-96),E<0&&(E=-1*W.width*72/E/this.internal.scaleFactor),j<0&&(j=-1*W.height*72/j/this.internal.scaleFactor),E===0&&(E=j*W.width/W.height),j===0&&(j=E*W.height/W.width),[E,j]},N=function(E,j,W,K,pe,he){var re=_.call(this,W,K,pe),H=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,ie=l.call(this);if(W=re[0],K=re[1],ie[pe.index]=pe,he){he*=Math.PI/180;var me=Math.cos(he),P=Math.sin(he),$=function(J){return J.toFixed(4)},V=[$(me),$(P),$(-1*P),$(me),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,H(E),Q(j+K),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([H(W),"0","0",H(K),"0","0","cm"].join(" "))):this.internal.write([H(W),"0","0",H(K),H(E),Q(j+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(E){var j,W,K=0;if(typeof E=="string")for(W=E.length,j=0;j<W;j++)K=(K<<5)-K+E.charCodeAt(j),K|=0;else if(Y(E))for(W=E.byteLength/2,j=0;j<W;j++)K=(K<<5)-K+E[j],K|=0;return K},S=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var j=!0;return E.length===0&&(j=!1),E.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(j=!1),j},T=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var j=E.indexOf(",");return j<0?null:E.substring(0,j).trim().endsWith("base64")?E.substring(j+1):null},B=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return B()&&E instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(E){return B()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(E){for(var j=E.length,W=new Uint8Array(j),K=0;K<j;K++)W[K]=E.charCodeAt(K);return W},k=t.__addimage__.arrayBufferToBinaryString=function(E){for(var j="",W=Y(E)?E:new Uint8Array(E),K=0;K<W.length;K+=8192)j+=String.fromCharCode.apply(null,W.subarray(K,K+8192));return j};t.addImage=function(){var E,j,W,K,pe,he,re,H,Q;if(typeof arguments[1]=="number"?(j=e,W=arguments[1],K=arguments[2],pe=arguments[3],he=arguments[4],re=arguments[5],H=arguments[6],Q=arguments[7]):(j=arguments[1],W=arguments[2],K=arguments[3],pe=arguments[4],he=arguments[5],re=arguments[6],H=arguments[7],Q=arguments[8]),St(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ie=E;E=ie.imageData,j=ie.format||j||e,W=ie.x||W||0,K=ie.y||K||0,pe=ie.w||ie.width||pe,he=ie.h||ie.height||he,re=ie.alias||re,H=ie.compression||H,Q=ie.rotation||ie.angle||Q}var me=this.internal.getFilters();if(H===void 0&&me.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(W)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var P=O.call(this,E,j,re,H);return N.call(this,W,K,pe,he,P,Q),this};var O=function(E,j,W,K){var pe,he,re;if(typeof E=="string"&&n(E)===e){E=unescape(E);var H=U(E,!1);(H!==""||(H=t.loadFile(E,!0))!==void 0)&&(E=H)}if(f(E)&&(E=v(E,j)),j=n(E,j),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((re=W)==null||re.length===0)&&(W=function(Q){return typeof Q=="string"||Y(Q)?w(Q):Y(Q.data)?w(Q.data):null}(E)),(pe=p.call(this,W))||(B()&&(E instanceof Uint8Array||j==="RGBA"||(he=E,E=R(E))),pe=this["process"+j.toUpperCase()](E,c.call(this),W,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in t.image_compression?Q:y.NONE}(K),he)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},U=t.__addimage__.convertBase64ToBinaryString=function(E,j){j=typeof j!="boolean"||j;var W,K="";if(typeof E=="string"){var pe;W=(pe=T(E))!==null&&pe!==void 0?pe:E;try{K=yu(W)}catch(he){if(j)throw S(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(E){var j,W,K="";if(f(E)&&(E=v(E)),typeof E=="string"&&n(E)===e&&((K=U(E,!1))===""&&(K=t.loadFile(E)||""),E=K),W=n(E),!d(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!B()||E instanceof Uint8Array||(E=R(E)),!(j=this["process"+W.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=W,j}})(Qe.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Qe.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var v=0;v<c.length;v++){n=c[v];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(N.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(y(w))+") >>",N.content=s;var S=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(N.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Y=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(r,a).length;o=Math.ceil(c*d)}else a=l,o=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,a,o,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Qe.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},a=t.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(N){var A=0,y=r,w="",S=0;for(A=0;A<N.length;A+=1)y[N.charCodeAt(A)]!==void 0?(S++,typeof(y=y[N.charCodeAt(A)])=="number"&&(w+=String.fromCharCode(y),y=r,S=0),A===N.length-1&&(y=r,w+=N.charAt(A-(S-1)),A-=S-1,S=0)):(y=r,w+=N.charAt(A-S),A-=S,S=0);return w};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(N,A,y){return o(N)?s(N)===!1?-1:!c(N)||!o(A)&&!o(y)||!o(y)&&a(A)||a(N)&&!o(A)||a(N)&&l(A)||a(N)&&a(A)?0:d(N)&&o(A)&&!a(A)&&o(y)&&c(y)?3:a(N)||!o(y)?1:2:-1},p=function(N){var A=0,y=0,w=0,S="",T="",B="",Y=(N=N||"").split("\\s+"),R=[];for(A=0;A<Y.length;A+=1){for(R.push(""),y=0;y<Y[A].length;y+=1)S=Y[A][y],T=Y[A][y-1],B=Y[A][y+1],o(S)?(w=v(S,T,B),R[A]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):R[A]+=S;R[A]=f(R[A])}return R.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var N,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(A)){var w=0;for(y=[],w=0;w<A.length;w+=1)Array.isArray(A[w])?y.push([p(A[w][0]),A[w][1],A[w][2]]):y.push([p(A[w])]);N=y}else N=p(A);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",_])}(Qe.API),Qe.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Qe.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(N){l=N}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(N){_=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),v=c.scaleFactor||this.internal.scaleFactor,p=0,_=0,N=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(A.splitTextToSize(T,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(N=this.getStringUnitWidth(l[w],{font:f})*d)&&(p=N);return p!==0&&(_=l.length),{w:p/=v,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,f,v){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,_,N,A,y=[],w=[],S=[],T={},B={},Y=[],R=[],k=(v=v||{}).autoSize||!1,O=v.printHeaders!==!1,U=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,E=v.margins||Object.assign({width:this.getPageWidth()},e),j=typeof v.padding=="number"?v.padding:3,W=v.headerBackgroundColor||"#c8c8c8",K=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=K,this.setFontSize(U),f==null)w=y=Object.keys(d[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&St(f[0])==="object")for(y=f.map(function(ie){return ie.name}),w=f.map(function(ie){return ie.prompt||ie.name||""}),S=f.map(function(ie){return ie.align||"left"}),p=0;p<f.length;p+=1)B[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,S=y.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(T[A=y[p]]=d.map(function(ie){return ie[A]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=T[A],this.setFont(void 0,"normal"),N=0;N<_.length;N+=1)Y.push(this.getTextDimensions(_[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[A]=Math.max.apply(null,Y)+j+j,Y=[]}if(O){var pe={};for(p=0;p<y.length;p+=1)pe[y[p]]={},pe[y[p]].text=w[p],pe[y[p]].align=S[p];var he=a.call(this,pe,B);R=y.map(function(ie){return new s(l,c,B[ie],he,pe[ie].text,void 0,pe[ie].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var re=f.reduce(function(ie,me){return ie[me.name]=me.align,ie},{});for(p=0;p<d.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:d[p]},this);var H=a.call(this,d[p],B);for(N=0;N<y.length;N+=1){var Q=d[p][y[N]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:N,data:Q},this),o.call(this,new s(l,c,B[y[N]],H,Q,p+2,re[y[N]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/v+d+d},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,v.push(d)),d.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Qe.API);var gw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],B0=pw(mw),yw=[100,200,300,400,500,600,700,800,900],BN=pw(yw);function U0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return gw[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof B0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function b2(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var UN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},x2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function S2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function zN(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},UN,r.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=U0(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+S2(s)+"' and default family '"+n+"'.");if(o=function(l,c){if(c[l])return c[l];var d=B0[l],f=d<=B0.normal?-1:1,v=b2(c,mw,d,f);if(!v)throw new Error("Could not find a matching font-stretch value for "+l);return v}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var d=gw[l],f=0;f<d.length;++f)if(c[d[f]])return c[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=BN[l],f=b2(c,yw,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+S2(s)+"'.");return o}function _2(t){return t.trimLeft()}function qN(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function HN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var hh,N2,k2,wp=["times"];(function(t){var e,r,n,i,s,o,a,l,c,d=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=P;Object.defineProperty(this,"pdf",{get:function(){return $}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ge){V=!!ge}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ge){J=!!ge}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ge){isNaN(ge)||(Z=ge)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ge){isNaN(ge)||(ue=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var q;typeof ge=="number"?q=[ge,ge,ge,ge]:((q=new Array(4))[0]=ge[0],q[1]=ge.length>=2?ge[1]:q[0],q[2]=ge.length>=3?ge[2]:q[0],q[3]=ge.length>=4?ge[3]:q[1]),c.margin=q}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(ge){oe=ge}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ge){le=ge}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ge){Ne=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof d&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(ge){ye=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var q;q=v(ge),this.ctx.fillStyle=q.style,this.ctx.isFillTransparent=q.a===0,this.ctx.fillOpacity=q.a,this.pdf.setFillColor(q.r,q.g,q.b,{a:q.a}),this.pdf.setTextColor(q.r,q.g,q.b,{a:q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var q=v(ge);this.ctx.strokeStyle=q.style,this.ctx.isStrokeTransparent=q.a===0,this.ctx.strokeOpacity=q.a,q.a===0?this.pdf.setDrawColor(255,255,255):(q.a,this.pdf.setDrawColor(q.r,q.g,q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Ce=null;function Le(ge,q){if(Ce===null){var We=function(Ae){var be=[];return Object.keys(Ae).forEach(function(Ee){Ae[Ee].forEach(function(Fe){var Te=null;switch(Fe){case"bold":Te={family:Ee,weight:"bold"};break;case"italic":Te={family:Ee,style:"italic"};break;case"bolditalic":Te={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Te={family:Ee}}Te!==null&&(Te.ref={name:Ee,style:Fe},be.push(Te))})}),be}(ge.getFontList());Ce=function(Ae){for(var be={},Ee=0;Ee<Ae.length;++Ee){var Fe=U0(Ae[Ee]),Te=Fe.family,ze=Fe.stretch,qe=Fe.style,Ge=Fe.weight;be[Te]=be[Te]||{},be[Te][ze]=be[Te][ze]||{},be[Te][ze][qe]=be[Te][ze][qe]||{},be[Te][ze][qe][Ge]=Fe}return be}(We.concat(q))}return Ce}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(ge){Ce=null,Re=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var q;if(this.ctx.font=ge,(q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var We=q[1];q[2];var Ae=q[3],be=q[4];q[5];var Ee=q[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(be)[2];be=Math.floor(Fe==="px"?parseFloat(be)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(be)*this.pdf.getFontSize():parseFloat(be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(be);var Te=function(Je){var lt,Ie,kt=[],ct=Je.trim();if(ct==="")return wp;if(ct in x2)return[x2[ct]];for(;ct!=="";){switch(Ie=null,lt=(ct=_2(ct)).charAt(0)){case'"':case"'":Ie=qN(ct.substring(1),lt);break;default:Ie=HN(ct)}if(Ie===null||(kt.push(Ie[0]),(ct=_2(Ie[1]))!==""&&ct.charAt(0)!==","))return wp;ct=ct.replace(/^,/,"")}return kt}(Ee);if(this.fontFaces){var ze=zN(Le(this.pdf,this.fontFaces),Te.map(function(Je){return{family:Je,stretch:"normal",weight:Ae,style:We}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var qe="";(Ae==="bold"||parseInt(Ae,10)>=700||We==="bold")&&(qe="bold"),We==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Ge="",He={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<Te.length;Ze++){if(this.pdf.internal.getFont(Te[Ze],qe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Te[Ze];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(Te[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Te[Ze],qe="bold";else if(this.pdf.internal.getFont(Te[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Te[Ze],qe="normal";break}}if(Ge===""){for(var ut=0;ut<Te.length;ut++)if(He[Te[ut]]){Ge=He[Te[ut]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,$){if(isNaN(P)||isNaN($))throw Ct.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(P,$));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(P,$)},f.prototype.closePath=function(){var P=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&St(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){P=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},f.prototype.lineTo=function(P,$){if(isNaN(P)||isNaN($))throw Ct.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(P,$));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,$,V,J){if(isNaN(V)||isNaN(J)||isNaN(P)||isNaN($))throw Ct.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(V,J)),ue=this.ctx.transform.applyToPoint(new o(P,$));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},f.prototype.bezierCurveTo=function(P,$,V,J,Z,ue){if(isNaN(Z)||isNaN(ue)||isNaN(P)||isNaN($)||isNaN(V)||isNaN(J))throw Ct.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new o(Z,ue)),le=this.ctx.transform.applyToPoint(new o(P,$)),Ne=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:Ne.x,y2:Ne.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},f.prototype.arc=function(P,$,V,J,Z,ue){if(isNaN(P)||isNaN($)||isNaN(V)||isNaN(J)||isNaN(Z))throw Ct.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new o(P,$));P=oe.x,$=oe.y;var le=this.ctx.transform.applyToPoint(new o(0,V)),Ne=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(le.x-Ne.x,2)+Math.pow(le.y-Ne.y,2))}Math.abs(Z-J)>=2*Math.PI&&(J=0,Z=2*Math.PI),this.path.push({type:"arc",x:P,y:$,radius:V,startAngle:J,endAngle:Z,counterclockwise:ue})},f.prototype.arcTo=function(P,$,V,J,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,$,V,J){if(isNaN(P)||isNaN($)||isNaN(V)||isNaN(J))throw Ct.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,$),this.lineTo(P+V,$),this.lineTo(P+V,$+J),this.lineTo(P,$+J),this.lineTo(P,$),this.lineTo(P+V,$),this.lineTo(P,$)},f.prototype.fillRect=function(P,$,V,J){if(isNaN(P)||isNaN($)||isNaN(V)||isNaN(J))throw Ct.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,$,V,J),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(P,$,V,J){if(isNaN(P)||isNaN($)||isNaN(V)||isNaN(J))throw Ct.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(P,$,V,J),this.stroke())},f.prototype.clearRect=function(P,$,V,J){if(isNaN(P)||isNaN($)||isNaN(V)||isNaN(J))throw Ct.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,$,V,J))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage($),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage($),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(P){var $,V,J,Z;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))$=0,V=0,J=0,Z=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ue!==null)$=parseInt(ue[1]),V=parseInt(ue[2]),J=parseInt(ue[3]),Z=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)$=parseInt(ue[1]),V=parseInt(ue[2]),J=parseInt(ue[3]),Z=parseFloat(ue[4]);else{if(Z=1,typeof P=="string"&&P.charAt(0)!=="#"){var oe=new lw(P);P=oe.ok?oe.toHex():"#000000"}P.length===4?($=P.substring(1,2),$+=$,V=P.substring(2,3),V+=V,J=P.substring(3,4),J+=J):($=P.substring(1,3),V=P.substring(3,5),J=P.substring(5,7)),$=parseInt($,16),V=parseInt(V,16),J=parseInt(J,16)}}return{r:$,g:V,b:J,a:Z,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,$,V,J){if(isNaN($)||isNaN(V)||typeof P!="string")throw Ct.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var Z=H(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;j.call(this,{text:P,x:$,y:V,scale:ue,angle:Z,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(P,$,V,J){if(isNaN($)||isNaN(V)||typeof P!="string")throw Ct.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){J=isNaN(J)?void 0:J;var Z=H(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;j.call(this,{text:P,x:$,y:V,scale:ue,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(P){if(typeof P!="string")throw Ct.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,V=this.pdf.internal.scaleFactor,J=$.internal.getFontSize(),Z=$.getStringUnitWidth(P)*J/$.internal.scaleFactor,ue=function(oe){var le=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new ue({width:Z*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(P,$){if(isNaN(P)||isNaN($))throw Ct.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(P,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(P){if(isNaN(P))throw Ct.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.translate=function(P,$){if(isNaN(P)||isNaN($))throw Ct.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,P,$);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(P,$,V,J,Z,ue){if(isNaN(P)||isNaN($)||isNaN(V)||isNaN(J)||isNaN(Z)||isNaN(ue))throw Ct.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(P,$,V,J,Z,ue);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(P,$,V,J,Z,ue){P=isNaN(P)?1:P,$=isNaN($)?0:$,V=isNaN(V)?0:V,J=isNaN(J)?1:J,Z=isNaN(Z)?0:Z,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(P,$,V,J,Z,ue)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,$,V,J,Z,ue,oe,le,Ne){var ye=this.pdf.getImageProperties(P),Ce=1,Le=1,Re=1,ge=1;J!==void 0&&le!==void 0&&(Re=le/J,ge=Ne/Z,Ce=ye.width/J*le/J,Le=ye.height/Z*Ne/Z),ue===void 0&&(ue=$,oe=V,$=0,V=0),J!==void 0&&le===void 0&&(le=J,Ne=Z),J===void 0&&le===void 0&&(le=ye.width,Ne=ye.height);for(var q,We=this.ctx.transform.decompose(),Ae=H(We.rotate.shx),be=new l,Ee=(be=(be=(be=be.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new a(ue-$*Re,oe-V*ge,J*Ce,Z*Le)),Fe=A.call(this,Ee),Te=[],ze=0;ze<Fe.length;ze+=1)Te.indexOf(Fe[ze])===-1&&Te.push(Fe[ze]);if(S(Te),this.autoPaging)for(var qe=Te[0],Ge=Te[Te.length-1],He=qe;He<Ge+1;He++){this.pdf.setPage(He);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=He===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=He===1?0:Je+(He-2)*lt;if(this.ctx.clip_path.length!==0){var kt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(q,this.posX+this.margin[3],-Ie+ut+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=kt}var ct=JSON.parse(JSON.stringify(Ee));ct=w([ct],this.posX+this.margin[3],-Ie+ut+this.ctx.prevPageLastElemOffset)[0];var Wr=(He>qe||He<Ge)&&N.call(this);Wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,lt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,Ae),Wr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,Ae)};var A=function(P,$,V){var J=[];$=$||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":J.push(Math.floor((P.y+Z)/V)+1);break;case"arc":J.push(Math.floor((P.y+Z-P.radius)/V)+1),J.push(Math.floor((P.y+Z+P.radius)/V)+1);break;case"qct":var ue=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);J.push(Math.floor((ue.y+Z)/V)+1),J.push(Math.floor((ue.y+ue.h+Z)/V)+1);break;case"bct":var oe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);J.push(Math.floor((oe.y+Z)/V)+1),J.push(Math.floor((oe.y+oe.h+Z)/V)+1);break;case"rect":J.push(Math.floor((P.y+Z)/V)+1),J.push(Math.floor((P.y+P.h+Z)/V)+1)}for(var le=0;le<J.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<J[le];)y.call(this);return J},y=function(){var P=this.fillStyle,$=this.strokeStyle,V=this.font,J=this.lineCap,Z=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=$,this.font=V,this.lineCap=J,this.lineWidth=Z,this.lineJoin=ue},w=function(P,$,V){for(var J=0;J<P.length;J++)switch(P[J].type){case"bct":P[J].x2+=$,P[J].y2+=V;case"qct":P[J].x1+=$,P[J].y1+=V;case"mt":case"lt":case"arc":default:P[J].x+=$,P[J].y+=V}return P},S=function(P){return P.sort(function($,V){return $-V})},T=function(P,$){for(var V,J,Z=this.fillStyle,ue=this.strokeStyle,oe=this.lineCap,le=this.lineWidth,Ne=Math.abs(le*this.ctx.transform.scaleX),ye=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),Re=[],ge=0;ge<Le.length;ge++)if(Le[ge].x!==void 0)for(var q=A.call(this,Le[ge]),We=0;We<q.length;We+=1)Re.indexOf(q[We])===-1&&Re.push(q[We]);for(var Ae=0;Ae<Re.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<Re[Ae];)y.call(this);if(S(Re),this.autoPaging)for(var be=Re[0],Ee=Re[Re.length-1],Fe=be;Fe<Ee+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=Z,this.strokeStyle=ue,this.lineCap=oe,this.lineWidth=Ne,this.lineJoin=ye;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Fe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Fe===1?0:qe+(Fe-2)*Ge;if(this.ctx.clip_path.length!==0){var Ze=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-He+ze+this.ctx.prevPageLastElemOffset),B.call(this,P,!0),this.path=Ze}if(J=JSON.parse(JSON.stringify(Ce)),this.path=w(J,this.posX+this.margin[3],-He+ze+this.ctx.prevPageLastElemOffset),$===!1||Fe===0){var ut=(Fe>be||Fe<Ee)&&N.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,Ge,null).clip().discardPath()),B.call(this,P,$),ut&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=Ne,B.call(this,P,$),this.lineWidth=le;this.path=Ce},B=function(P,$){if((P!=="stroke"||$||!_.call(this))&&(P==="stroke"||$||!p.call(this))){for(var V,J,Z=[],ue=this.path,oe=0;oe<ue.length;oe++){var le=ue[oe];switch(le.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:le,deltas:[],abs:[]});break;case"lt":var Ne=Z.length;if(ue[oe-1]&&!isNaN(ue[oe-1].x)&&(V=[le.x-ue[oe-1].x,le.y-ue[oe-1].y],Ne>0)){for(;Ne>=0;Ne--)if(Z[Ne-1].close!==!0&&Z[Ne-1].begin!==!0){Z[Ne-1].deltas.push(V),Z[Ne-1].abs.push(le);break}}break;case"bct":V=[le.x1-ue[oe-1].x,le.y1-ue[oe-1].y,le.x2-ue[oe-1].x,le.y2-ue[oe-1].y,le.x-ue[oe-1].x,le.y-ue[oe-1].y],Z[Z.length-1].deltas.push(V);break;case"qct":var ye=ue[oe-1].x+2/3*(le.x1-ue[oe-1].x),Ce=ue[oe-1].y+2/3*(le.y1-ue[oe-1].y),Le=le.x+2/3*(le.x1-le.x),Re=le.y+2/3*(le.y1-le.y),ge=le.x,q=le.y;V=[ye-ue[oe-1].x,Ce-ue[oe-1].y,Le-ue[oe-1].x,Re-ue[oe-1].y,ge-ue[oe-1].x,q-ue[oe-1].y],Z[Z.length-1].deltas.push(V);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(le)}}J=$?null:P==="stroke"?"stroke":"fill";for(var We=!1,Ae=0;Ae<Z.length;Ae++)if(Z[Ae].arc)for(var be=Z[Ae].abs,Ee=0;Ee<be.length;Ee++){var Fe=be[Ee];Fe.type==="arc"?k.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,$,!We):W.call(this,Fe.x,Fe.y),We=!0}else if(Z[Ae].close===!0)this.pdf.internal.out("h"),We=!1;else if(Z[Ae].begin!==!0){var Te=Z[Ae].start.x,ze=Z[Ae].start.y;K.call(this,Z[Ae].deltas,Te,ze),We=!0}J&&O.call(this,J),$&&U.call(this)}},Y=function(P){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-V;case"top":return P+$-V;case"hanging":return P+$-2*V;case"middle":return P+$/2-V;case"ideographic":return P;case"alphabetic":default:return P}},R=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function($,V){this.colorStops.push([$,V])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(P,$,V,J,Z,ue,oe,le,Ne){for(var ye=he.call(this,V,J,Z,ue),Ce=0;Ce<ye.length;Ce++){var Le=ye[Ce];Ce===0&&(Ne?E.call(this,Le.x1+P,Le.y1+$):W.call(this,Le.x1+P,Le.y1+$)),pe.call(this,P,$,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}le?U.call(this):O.call(this,oe)},O=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,$){this.pdf.internal.out(r(P)+" "+n($)+" m")},j=function(P){var $;switch(P.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var V=this.pdf.getTextDimensions(P.text),J=Y.call(this,P.y),Z=R.call(this,J)-V.h,ue=this.ctx.transform.applyToPoint(new o(P.x,J)),oe=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var Ne,ye,Ce,Le=this.ctx.transform.applyToRectangle(new a(P.x,J,V.w,V.h)),Re=le.applyToRectangle(new a(P.x,Z,V.w,V.h)),ge=A.call(this,Re),q=[],We=0;We<ge.length;We+=1)q.indexOf(ge[We])===-1&&q.push(ge[We]);if(S(q),this.autoPaging)for(var Ae=q[0],be=q[q.length-1],Ee=Ae;Ee<be+1;Ee++){this.pdf.setPage(Ee);var Fe=Ee===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],qe=ze-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],He=Ge-this.margin[3],Ze=Ee===1?0:Te+(Ee-2)*qe;if(this.ctx.clip_path.length!==0){var ut=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ne,this.posX+this.margin[3],-1*Ze+Fe),B.call(this,"fill",!0),this.path=ut}var Je=w([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ze+Fe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*P.scale),Ce=this.lineWidth,this.lineWidth=Ce*P.scale);var lt=this.autoPaging!=="text";if(lt||Je.y+Je.h<=ze){if(lt||Je.y>=Fe&&Je.x<=Ge){var Ie=lt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Ge-Je.x)[0],kt=w([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Ze+Fe+this.ctx.prevPageLastElemOffset)[0],ct=lt&&(Ee>Ae||Ee<be)&&N.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,qe,null).clip().discardPath()),this.pdf.text(Ie,kt.x,kt.y,{angle:P.angle,align:$,renderingMode:P.renderingMode}),ct&&this.pdf.restoreGraphicsState()}}else Je.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-Je.y);P.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ce)}else P.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*P.scale),Ce=this.lineWidth,this.lineWidth=Ce*P.scale),this.pdf.text(P.text,ue.x+this.posX,ue.y+this.posY,{angle:P.angle,align:$,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Ce)},W=function(P,$,V,J){V=V||0,J=J||0,this.pdf.internal.out(r(P+V)+" "+n($+J)+" l")},K=function(P,$,V){return this.pdf.lines(P,$,V,null,null)},pe=function(P,$,V,J,Z,ue,oe,le){this.pdf.internal.out([e(i(V+P)),e(s(J+$)),e(i(Z+P)),e(s(ue+$)),e(i(oe+P)),e(s(le+$)),"c"].join(" "))},he=function(P,$,V,J){for(var Z=2*Math.PI,ue=Math.PI/2;$>V;)$-=Z;var oe=Math.abs(V-$);oe<Z&&J&&(oe=Z-oe);for(var le=[],Ne=J?-1:1,ye=$;oe>1e-5;){var Ce=ye+Ne*Math.min(oe,ue);le.push(re.call(this,P,ye,Ce)),oe-=Math.abs(Ce-ye),ye=Ce}return le},re=function(P,$,V){var J=(V-$)/2,Z=P*Math.cos(J),ue=P*Math.sin(J),oe=Z,le=-ue,Ne=oe*oe+le*le,ye=Ne+oe*Z+le*ue,Ce=4/3*(Math.sqrt(2*Ne*ye)-ye)/(oe*ue-le*Z),Le=oe-Ce*le,Re=le+Ce*oe,ge=Le,q=-Re,We=J+$,Ae=Math.cos(We),be=Math.sin(We);return{x1:P*Math.cos($),y1:P*Math.sin($),x2:Le*Ae-Re*be,y2:Le*be+Re*Ae,x3:ge*Ae-q*be,y3:ge*be+q*Ae,x4:P*Math.cos(V),y4:P*Math.sin(V)}},H=function(P){return 180*P/Math.PI},Q=function(P,$,V,J,Z,ue){var oe=P+.5*(V-P),le=$+.5*(J-$),Ne=Z+.5*(V-Z),ye=ue+.5*(J-ue),Ce=Math.min(P,Z,oe,Ne),Le=Math.max(P,Z,oe,Ne),Re=Math.min($,ue,le,ye),ge=Math.max($,ue,le,ye);return new a(Ce,Re,Le-Ce,ge-Re)},ie=function(P,$,V,J,Z,ue,oe,le){var Ne,ye,Ce,Le,Re,ge,q,We,Ae,be,Ee,Fe,Te,ze,qe=V-P,Ge=J-$,He=Z-V,Ze=ue-J,ut=oe-Z,Je=le-ue;for(ye=0;ye<41;ye++)Ae=(q=(Ce=P+(Ne=ye/40)*qe)+Ne*((Re=V+Ne*He)-Ce))+Ne*(Re+Ne*(Z+Ne*ut-Re)-q),be=(We=(Le=$+Ne*Ge)+Ne*((ge=J+Ne*Ze)-Le))+Ne*(ge+Ne*(ue+Ne*Je-ge)-We),ye==0?(Ee=Ae,Fe=be,Te=Ae,ze=be):(Ee=Math.min(Ee,Ae),Fe=Math.min(Fe,be),Te=Math.max(Te,Ae),ze=Math.max(ze,be));return new a(Math.round(Ee),Math.round(Fe),Math.round(Te-Ee),Math.round(ze-Fe))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,$,V=(P=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:$}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Qe.API),function(t){var e=function(s){var o,a,l,c,d,f,v,p,_,N;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(N=d%85))/85)-(_=d%85))/85)-(p=d%85))/85)-(v=d%85))/85)%85,a.push(f+33,v+33,p+33,_+33,N+33)):a.push(122);return function(A,y){for(var w=y;w>0;w--)A.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},r=function(s){var o,a,l,c,d,f=String,v="length",p=255,_="charCodeAt",N="slice",A="replace";for(s[N](-2),s=s[N](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],c=0,d=(s+=o="uuuuu"[N](s[v]%5||5))[v];d>c;c+=5)a=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(y,w){for(var S=w;S>0;S--)y.pop()}(l,o[v]),f.fromCharCode.apply(f,l)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=O0(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Qe.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,d){var f=new XMLHttpRequest,v=0,p=function(_){var N=_.length,A=[],y=String.fromCharCode;for(v=0;v<N;v+=1)A.push(y(255&_.charCodeAt(v)));return A.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,s,o)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(Qe.API),function(t){function e(){return(Xe.html2canvas?Promise.resolve(Xe.html2canvas):Hs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Xe.DOMPurify?Promise.resolve(Xe.DOMPurify):Hs(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=St(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),v=c.firstChild;v;v=v.nextSibling)d!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(l(v,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var v=0;v<c.length;++v){var p=c[v],_=p.src.find(function(N){return N.format==="truetype"});_&&l.addFont(_.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(c,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Qe.getPageSize=function(o,a,l){if(St(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var p,_=0,N=0;if(v.hasOwnProperty(f))_=v[f][1]/d,N=v[f][0]/d;else try{_=l[1],N=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",N>_&&(p=N,N=_,_=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>N&&(p=N,N=_,_=p)}return{width:N,height:_,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(U0):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Qe.API),Qe.API.addJS=function(t){return k2=t,this.internal.events.subscribe("postPutResources",function(){hh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),N2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hh!==void 0&&N2!==void 0&&this.internal.out("/Names <</JavaScript "+hh+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var f=r.internal.newObject();d.push(f);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Qe.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var v,p=256*f.charCodeAt(4)+f.charCodeAt(5),_=f.length,N={width:0,height:0,numcomponents:1},A=4;A<_;A+=2){if(A+=p,e.indexOf(f.charCodeAt(A+1))!==-1){v=256*f.charCodeAt(A+5)+f.charCodeAt(A+6),N={width:256*f.charCodeAt(A+7)+f.charCodeAt(A+8),height:v,numcomponents:f.charCodeAt(A+9)};break}p=256*f.charCodeAt(A+2)+f.charCodeAt(A+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:i}}return d}}(Qe.API);var ya,dh,A2,P2,C2,WN=function(){var t,e,r;function n(s){var o,a,l,c,d,f,v,p,_,N,A,y,w,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),_=(function(){var T,B;for(B=[],T=0;T<4;++T)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*d/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((N=l-this.transparency.indexed.length)>0)for(w=0;0<=N?w<N:w>N;0<=N?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":v=(A=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,A.slice(0,v)),this.text[p]=String.fromCharCode.apply(String,A.slice(v+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,v,p,_){var N,A,y,w,S,T,B,Y,R,k,O,U,E,j,W,K,pe,he,re,H,Q,ie=Math.ceil((c.width-f)/p),me=Math.ceil((c.height-v)/_),P=c.width==ie&&c.height==me;for(j=o*ie,U=P?a:new Uint8Array(j*me),T=s.length,E=0,A=0;E<me&&l<T;){switch(s[l++]){case 0:for(w=pe=0;pe<j;w=pe+=1)U[A++]=s[l++];break;case 1:for(w=he=0;he<j;w=he+=1)N=s[l++],S=w<o?0:U[A-o],U[A++]=(N+S)%256;break;case 2:for(w=re=0;re<j;w=re+=1)N=s[l++],y=(w-w%o)/o,W=E&&U[(E-1)*j+y*o+w%o],U[A++]=(W+N)%256;break;case 3:for(w=H=0;H<j;w=H+=1)N=s[l++],y=(w-w%o)/o,S=w<o?0:U[A-o],W=E&&U[(E-1)*j+y*o+w%o],U[A++]=(N+Math.floor((S+W)/2))%256;break;case 4:for(w=Q=0;Q<j;w=Q+=1)N=s[l++],y=(w-w%o)/o,S=w<o?0:U[A-o],E===0?W=K=0:(W=U[(E-1)*j+y*o+w%o],K=y&&U[(E-1)*j+(y-1)*o+w%o]),B=S+W-K,Y=Math.abs(B-S),k=Math.abs(B-W),O=Math.abs(B-K),R=Y<=k&&Y<=O?S:k<=O?W:K,U[A++]=(N+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!P){var $=((v+E*_)*c.width+f)*o,V=E*j;for(w=0;w<ie;w+=1){for(var J=0;J<o;J+=1)a[$++]=U[V++];$+=(p-1)*o}}E++}}return s=_N(s),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},n.prototype.decodePalette=function(){var s,o,a,l,c,d,f,v,p;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,s=0,o=f=0,v=a.length;f<v;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=d[s++])!=null?p:255;return c},n.prototype.copyToImageData=function(s,o){var a,l,c,d,f,v,p,_,N,A,y;if(l=this.colors,N=null,a=this.hasAlphaChannel,this.palette.length&&(N=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),_=(c=s.data||s).length,f=N||o,d=v=0,l===1)for(;d<_;)p=N?4*o[d/4]:v,A=f[p++],c[d++]=A,c[d++]=A,c[d++]=A,c[d++]=a?f[p++]:255,v=p;else for(;d<_;)p=N?4*o[d/4]:v,c[d++]=f[p++],c[d++]=f[p++],c[d++]=f[p++],c[d++]=a?f[p++]:255,v=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Xe)==="[object Window]"){try{e=Xe.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,a,l,c,d,f,v,p;if(this.animation){for(p=[],a=d=0,f=(v=this.animation.frames).length;d<f;a=++d)o=v[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},n.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(s){var o,a,l,c,d,f,v=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var p,_;if(p=a++%c,_=l[p],v.renderFrame(s,p),c>1&&a/c<d)return v.animation._timeout=setTimeout(o,_.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,d=[],f=0,v=null,p=0,_=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];f=t[e++]|t[e++]<<8,v=t[e++],!(1&N)&&(v=null),p=N>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],B=T>>6&1,Y=1<<(7&T)+1,R=a,k=l,O=!1;T>>7&&(O=!0,R=e,k=Y,e+=3*Y);var U=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}d.push({x:A,y,width:w,height:S,has_local_palette:O,palette_offset:R,palette_size:k,data_offset:U,data_length:e-U,transparent_index:v,interlaced:!!B,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(j){if(j<0||j>=d.length)throw new Error("Frame index out of range.");return d[j]},this.decodeAndBlitFrameBGRA=function(j,W){var K=this.frameInfo(j),pe=K.width*K.height,he=new Uint8Array(pe);L2(t,K.data_offset,he,pe);var re=K.palette_offset,H=K.transparent_index;H===null&&(H=256);var Q=K.width,ie=r-Q,me=Q,P=4*(K.y*r+K.x),$=4*((K.y+K.height)*r+K.x),V=P,J=4*ie;K.interlaced===!0&&(J+=4*r*7);for(var Z=8,ue=0,oe=he.length;ue<oe;++ue){var le=he[ue];if(me===0&&(me=Q,(V+=J)>=$&&(J=4*ie+4*r*(Z-1),V=P+(Q+ie)*(Z<<1),Z>>=1)),le===H)V+=4;else{var Ne=t[re+3*le],ye=t[re+3*le+1],Ce=t[re+3*le+2];W[V++]=Ce,W[V++]=ye,W[V++]=Ne,W[V++]=255}--me}},this.decodeAndBlitFrameRGBA=function(j,W){var K=this.frameInfo(j),pe=K.width*K.height,he=new Uint8Array(pe);L2(t,K.data_offset,he,pe);var re=K.palette_offset,H=K.transparent_index;H===null&&(H=256);var Q=K.width,ie=r-Q,me=Q,P=4*(K.y*r+K.x),$=4*((K.y+K.height)*r+K.x),V=P,J=4*ie;K.interlaced===!0&&(J+=4*r*7);for(var Z=8,ue=0,oe=he.length;ue<oe;++ue){var le=he[ue];if(me===0&&(me=Q,(V+=J)>=$&&(J=4*ie+4*r*(Z-1),V=P+(Q+ie)*(Z<<1),Z>>=1)),le===H)V+=4;else{var Ne=t[re+3*le],ye=t[re+3*le+1],Ce=t[re+3*le+2];W[V++]=Ne,W[V++]=ye,W[V++]=Ce,W[V++]=255}--me}}}function L2(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,d=0,f=0,v=0,p=t[e++],_=new Int32Array(4096),N=null;;){for(;d<16&&p!==0;)f|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var A=f&c;if(f>>=l,d-=l,A!==s){if(A===o)break;for(var y=A<a?A:N,w=0,S=y;S>s;)S=_[S]>>8,++w;var T=S;if(v+w+(y!==A?1:0)>n)return void Ct.log("Warning, gif stream longer than expected.");r[v++]=T;var B=v+=w;for(y!==A&&(r[v++]=T),S=y;w--;)S=_[S],r[--B]=255&S,S>>=8;N!==null&&a<4096&&(_[a++]=N<<8|T,a>=c+1&&l<12&&(++l,c=c<<1|1)),N=A}else a=o+1,c=(1<<(l=i+1))-1,N=null}return v!==n&&Ct.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function bp(t){var e,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),v=new Array(65535),p=new Array(64),_=new Array(64),N=[],A=0,y=7,w=new Array(64),S=new Array(64),T=new Array(64),B=new Array(256),Y=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(P,$){for(var V=0,J=0,Z=new Array,ue=1;ue<=16;ue++){for(var oe=1;oe<=P[ue];oe++)Z[$[J]]=[],Z[$[J]][0]=V,Z[$[J]][1]=ue,J++,V++;V*=2}return Z}function re(P){for(var $=P[0],V=P[1]-1;V>=0;)$&1<<V&&(A|=1<<y),V--,--y<0&&(A==255?(H(255),H(0)):H(A),y=7,A=0)}function H(P){N.push(P)}function Q(P){H(P>>8&255),H(255&P)}function ie(P,$,V,J,Z){for(var ue,oe=Z[0],le=Z[240],Ne=function(be,Ee){var Fe,Te,ze,qe,Ge,He,Ze,ut,Je,lt,Ie=0;for(Je=0;Je<8;++Je){Fe=be[Ie],Te=be[Ie+1],ze=be[Ie+2],qe=be[Ie+3],Ge=be[Ie+4],He=be[Ie+5],Ze=be[Ie+6];var kt=Fe+(ut=be[Ie+7]),ct=Fe-ut,Wr=Te+Ze,At=Te-Ze,Rt=ze+He,si=ze-He,vt=qe+Ge,Qs=qe-Ge,qt=kt+vt,In=kt-vt,Pi=Wr+Rt,Ht=Wr-Rt;be[Ie]=qt+Pi,be[Ie+4]=qt-Pi;var rt=.707106781*(Ht+In);be[Ie+2]=In+rt,be[Ie+6]=In-rt;var wt=.382683433*((qt=Qs+si)-(Ht=At+ct)),Xs=.5411961*qt+wt,br=1.306562965*Ht+wt,oi=.707106781*(Pi=si+At),ai=ct+oi,Ye=ct-oi;be[Ie+5]=Ye+Xs,be[Ie+3]=Ye-Xs,be[Ie+1]=ai+br,be[Ie+7]=ai-br,Ie+=8}for(Ie=0,Je=0;Je<8;++Je){Fe=be[Ie],Te=be[Ie+8],ze=be[Ie+16],qe=be[Ie+24],Ge=be[Ie+32],He=be[Ie+40],Ze=be[Ie+48];var On=Fe+(ut=be[Ie+56]),li=Fe-ut,Vr=Te+Ze,lr=Te-Ze,rr=ze+He,an=ze-He,Oo=qe+Ge,Ci=qe-Ge,Rn=On+Oo,Mn=On-Oo,$n=Vr+rr,ui=Vr-rr;be[Ie]=Rn+$n,be[Ie+32]=Rn-$n;var bn=.707106781*(ui+Mn);be[Ie+16]=Mn+bn,be[Ie+48]=Mn-bn;var ci=.382683433*((Rn=Ci+an)-(ui=lr+li)),Zs=.5411961*Rn+ci,Ro=1.306562965*ui+ci,Mo=.707106781*($n=an+lr),$o=li+Mo,Do=li-Mo;be[Ie+40]=Do+Zs,be[Ie+24]=Do-Zs,be[Ie+8]=$o+Ro,be[Ie+56]=$o-Ro,Ie++}for(Je=0;Je<64;++Je)lt=be[Je]*Ee[Je],p[Je]=lt>0?lt+.5|0:lt-.5|0;return p}(P,$),ye=0;ye<64;++ye)_[R[ye]]=Ne[ye];var Ce=_[0]-V;V=_[0],Ce==0?re(J[0]):(re(J[v[ue=32767+Ce]]),re(f[ue]));for(var Le=63;Le>0&&_[Le]==0;)Le--;if(Le==0)return re(oe),V;for(var Re,ge=1;ge<=Le;){for(var q=ge;_[ge]==0&&ge<=Le;)++ge;var We=ge-q;if(We>=16){Re=We>>4;for(var Ae=1;Ae<=Re;++Ae)re(le);We&=15}ue=32767+_[ge],re(Z[(We<<4)+v[ue]]),re(f[ue]),ge++}return Le!=63&&re(oe),V}function me(P){P=Math.min(Math.max(P,1),100),s!=P&&(function($){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Z=o((V[J]*$+50)/100);Z=Math.min(Math.max(Z,1),255),a[R[J]]=Z}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var le=o((ue[oe]*$+50)/100);le=Math.min(Math.max(le,1),255),l[R[oe]]=le}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Ce=0;Ce<8;Ce++)for(var Le=0;Le<8;Le++)c[ye]=1/(a[R[ye]]*Ne[Ce]*Ne[Le]*8),d[ye]=1/(l[R[ye]]*Ne[Ce]*Ne[Le]*8),ye++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,$){$&&me($),N=new Array,A=0,y=7,Q(65496),Q(65504),Q(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),Q(1),Q(1),H(0),H(0),function(){Q(65499),Q(132),H(0);for(var Te=0;Te<64;Te++)H(a[Te]);H(1);for(var ze=0;ze<64;ze++)H(l[ze])}(),function(Te,ze){Q(65472),Q(17),H(8),Q(ze),Q(Te),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(P.width,P.height),function(){Q(65476),Q(418),H(0);for(var Te=0;Te<16;Te++)H(k[Te+1]);for(var ze=0;ze<=11;ze++)H(O[ze]);H(16);for(var qe=0;qe<16;qe++)H(U[qe+1]);for(var Ge=0;Ge<=161;Ge++)H(E[Ge]);H(1);for(var He=0;He<16;He++)H(j[He+1]);for(var Ze=0;Ze<=11;Ze++)H(W[Ze]);H(17);for(var ut=0;ut<16;ut++)H(K[ut+1]);for(var Je=0;Je<=161;Je++)H(pe[Je])}(),Q(65498),Q(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var V=0,J=0,Z=0;A=0,y=7,this.encode.displayName="_encode_";for(var ue,oe,le,Ne,ye,Ce,Le,Re,ge,q=P.data,We=P.width,Ae=P.height,be=4*We,Ee=0;Ee<Ae;){for(ue=0;ue<be;){for(ye=be*Ee+ue,Le=-1,Re=0,ge=0;ge<64;ge++)Ce=ye+(Re=ge>>3)*be+(Le=4*(7&ge)),Ee+Re>=Ae&&(Ce-=be*(Ee+1+Re-Ae)),ue+Le>=be&&(Ce-=ue+Le-be+4),oe=q[Ce++],le=q[Ce++],Ne=q[Ce++],w[ge]=(Y[oe]+Y[le+256>>0]+Y[Ne+512>>0]>>16)-128,S[ge]=(Y[oe+768>>0]+Y[le+1024>>0]+Y[Ne+1280>>0]>>16)-128,T[ge]=(Y[oe+1280>>0]+Y[le+1536>>0]+Y[Ne+1792>>0]>>16)-128;V=ie(w,c,V,e,n),J=ie(S,d,J,r,i),Z=ie(T,d,Z,r,i),ue+=32}Ee+=8}if(y>=0){var Fe=[];Fe[1]=y+1,Fe[0]=(1<<y+1)-1,re(Fe)}return Q(65497),new Uint8Array(N)},t=t||50,function(){for(var P=String.fromCharCode,$=0;$<256;$++)B[$]=P($)}(),e=he(k,O),r=he(j,W),n=he(U,E),i=he(K,pe),function(){for(var P=1,$=2,V=1;V<=15;V++){for(var J=P;J<$;J++)v[32767+J]=V,f[32767+J]=[],f[32767+J][1]=V,f[32767+J][0]=J;for(var Z=-($-1);Z<=-P;Z++)v[32767+Z]=V,f[32767+Z]=[],f[32767+Z][1]=V,f[32767+Z][0]=$-1+Z;P<<=1,$<<=1}}(),function(){for(var P=0;P<256;P++)Y[P]=19595*P,Y[P+256>>0]=38470*P,Y[P+512>>0]=7471*P+32768,Y[P+768>>0]=-11059*P,Y[P+1024>>0]=-21709*P,Y[P+1280>>0]=32768*P+8421375,Y[P+1536>>0]=-27439*P,Y[P+1792>>0]=-5329*P}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function j2(t){function e(k){if(!k)throw Error("assert :P")}function r(k,O,U){for(var E=0;4>E;E++)if(k[O+E]!=U.charCodeAt(E))return!0;return!1}function n(k,O,U,E,j){for(var W=0;W<j;W++)k[O+W]=U[E+W]}function i(k,O,U,E){for(var j=0;j<E;j++)k[O+j]=U}function s(k){return new Int32Array(k)}function o(k,O){for(var U=[],E=0;E<k;E++)U.push(new O);return U}function a(k,O){var U=[];return function E(j,W,K){for(var pe=K[W],he=0;he<pe&&(j.push(K.length>W+1?[]:new O),!(K.length<W+1));he++)E(j[he],W+1,K)}(U,0,k),U}var l=function(){var k=this;function O(u,h){for(var m=1<<h-1>>>0;u&m;)m>>>=1;return m?(u&m-1)+m:u}function U(u,h,m,x,C){e(!(x%m));do u[h+(x-=m)]=C;while(0<x)}function E(u,h,m,x,C){if(e(2328>=C),512>=C)var F=s(512);else if((F=s(C))==null)return 0;return function(I,M,D,z,ee,de){var fe,se,_e=M,ve=1<<D,te=s(16),ne=s(16);for(e(ee!=0),e(z!=null),e(I!=null),e(0<D),se=0;se<ee;++se){if(15<z[se])return 0;++te[z[se]]}if(te[0]==ee)return 0;for(ne[1]=0,fe=1;15>fe;++fe){if(te[fe]>1<<fe)return 0;ne[fe+1]=ne[fe]+te[fe]}for(se=0;se<ee;++se)fe=z[se],0<z[se]&&(de[ne[fe]++]=se);if(ne[15]==1)return(z=new j).g=0,z.value=de[0],U(I,_e,1,ve,z),ve;var xe,ke=-1,Se=ve-1,De=0,Oe=1,Ke=1,Me=1<<D;for(se=0,fe=1,ee=2;fe<=D;++fe,ee<<=1){if(Oe+=Ke<<=1,0>(Ke-=te[fe]))return 0;for(;0<te[fe];--te[fe])(z=new j).g=fe,z.value=de[se++],U(I,_e+De,ee,Me,z),De=O(De,fe)}for(fe=D+1,ee=2;15>=fe;++fe,ee<<=1){if(Oe+=Ke<<=1,0>(Ke-=te[fe]))return 0;for(;0<te[fe];--te[fe]){if(z=new j,(De&Se)!=ke){for(_e+=Me,xe=1<<(ke=fe)-D;15>ke&&!(0>=(xe-=te[ke]));)++ke,xe<<=1;ve+=Me=1<<(xe=ke-D),I[M+(ke=De&Se)].g=xe+D,I[M+ke].value=_e-M-ke}z.g=fe-D,z.value=de[se++],U(I,_e+(De>>D),ee,Me,z),De=O(De,fe)}}return Oe!=2*ne[15]-1?0:ve}(u,h,m,x,C,F)}function j(){this.value=this.g=0}function W(){this.value=this.g=0}function K(){this.G=o(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(xr,W)}function pe(u,h,m,x){e(u!=null),e(h!=null),e(2147483648>x),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=m,u.Jd=h,u.Yc=m+x,u.Zc=4<=x?m+x-4+1:m,ue(u)}function he(u,h){for(var m=0;0<h--;)m|=le(u,128)<<h;return m}function re(u,h){var m=he(u,h);return oe(u)?-m:m}function H(u,h,m,x){var C,F=0;for(e(u!=null),e(h!=null),e(4294967288>x),u.Sb=x,u.Ra=0,u.u=0,u.h=0,4<x&&(x=4),C=0;C<x;++C)F+=h[m+C]<<8*C;u.Ra=F,u.bb=x,u.oa=h,u.pa=m}function Q(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<ea-8>>>0,++u.bb,u.u-=8;V(u)&&(u.h=1,u.u=0)}function ie(u,h){if(e(0<=h),!u.h&&h<=Zo){var m=$(u)&Xo[h];return u.u+=h,Q(u),m}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&ea-1)>>>0}function V(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>ea}function J(u,h){u.u=h,u.h=V(u)}function Z(u){u.u>=Pl&&(e(u.u>=Pl),Q(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function oe(u){return he(u,1)}function le(u,h){var m=u.Ca;0>u.b&&ue(u);var x=u.b,C=m*h>>>8,F=(u.I>>>x>C)+0;for(F?(m-=C,u.I-=C+1<<x>>>0):m=C+1,x=m,C=0;256<=x;)C+=8,x>>=8;return x=7^C+Kr[x],u.b-=x,u.Ca=(m<<x)-1,F}function Ne(u,h,m){u[h+0]=m>>24&255,u[h+1]=m>>16&255,u[h+2]=m>>8&255,u[h+3]=m>>0&255}function ye(u,h){return u[h+0]<<0|u[h+1]<<8}function Ce(u,h){return ye(u,h)|u[h+2]<<16}function Le(u,h){return ye(u,h)|ye(u,h+2)<<16}function Re(u,h){var m=1<<h;return e(u!=null),e(0<h),u.X=s(m),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ge(u,h){e(u!=null),e(h!=null),e(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function q(){this.X=[],this.Xa=this.Mb=0}function We(u,h,m,x){e(m!=null),e(x!=null);var C=m[0],F=x[0];return C==0&&(C=(u*F+h/2)/h),F==0&&(F=(h*C+u/2)/u),0>=C||0>=F?0:(m[0]=C,x[0]=F,1)}function Ae(u,h){return u+(1<<h)-1>>>h}function be(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Ee(u,h){k[h]=function(m,x,C,F,I,M,D){var z;for(z=0;z<I;++z){var ee=k[u](M[D+z-1],C,F+z);M[D+z]=be(m[x+z],ee)}}}function Fe(){this.ud=this.hd=this.jd=0}function Te(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function ze(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function qe(u,h){return ze(u+(u-h+.5>>1))}function Ge(u,h,m){return Math.abs(h-m)-Math.abs(u-m)}function He(u,h,m,x,C,F,I){for(x=F[I-1],m=0;m<C;++m)F[I+m]=x=be(u[h+m],x)}function Ze(u,h,m,x,C){var F;for(F=0;F<m;++F){var I=u[h+F],M=I>>8&255,D=16711935&(D=(D=16711935&I)+((M<<16)+M));x[C+F]=(4278255360&I)+D>>>0}}function ut(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function Je(u,h,m,x,C,F){var I;for(I=0;I<x;++I){var M=h[m+I],D=M>>>8,z=M,ee=255&(ee=(ee=M>>>16)+((u.jd<<24>>24)*(D<<24>>24)>>>5));z=255&(z=(z=z+((u.hd<<24>>24)*(D<<24>>24)>>>5))+((u.ud<<24>>24)*(ee<<24>>24)>>>5)),C[F+I]=(4278255360&M)+(ee<<16)+z}}function lt(u,h,m,x,C){k[h]=function(F,I,M,D,z,ee,de,fe,se){for(D=de;D<fe;++D)for(de=0;de<se;++de)z[ee++]=C(M[x(F[I++])])},k[u]=function(F,I,M,D,z,ee,de){var fe=8>>F.b,se=F.Ea,_e=F.K[0],ve=F.w;if(8>fe)for(F=(1<<F.b)-1,ve=(1<<fe)-1;I<M;++I){var te,ne=0;for(te=0;te<se;++te)te&F||(ne=x(D[z++])),ee[de++]=C(_e[ne&ve]),ne>>=fe}else k["VP8LMapColor"+m](D,z,_e,ve,ee,de,I,M,se)}}function Ie(u,h,m,x,C){for(m=h+m;h<m;){var F=u[h++];x[C++]=F>>16&255,x[C++]=F>>8&255,x[C++]=F>>0&255}}function kt(u,h,m,x,C){for(m=h+m;h<m;){var F=u[h++];x[C++]=F>>16&255,x[C++]=F>>8&255,x[C++]=F>>0&255,x[C++]=F>>24&255}}function ct(u,h,m,x,C){for(m=h+m;h<m;){var F=(I=u[h++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;x[C++]=F,x[C++]=I}}function Wr(u,h,m,x,C){for(m=h+m;h<m;){var F=(I=u[h++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;x[C++]=F,x[C++]=I}}function At(u,h,m,x,C){for(m=h+m;h<m;){var F=u[h++];x[C++]=F>>0&255,x[C++]=F>>8&255,x[C++]=F>>16&255}}function Rt(u,h,m,x,C,F){if(F==0)for(m=h+m;h<m;)Ne(x,((F=u[h++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),C+=32;else n(x,C,u,h,m)}function si(u,h){k[h][0]=k[u+"0"],k[h][1]=k[u+"1"],k[h][2]=k[u+"2"],k[h][3]=k[u+"3"],k[h][4]=k[u+"4"],k[h][5]=k[u+"5"],k[h][6]=k[u+"6"],k[h][7]=k[u+"7"],k[h][8]=k[u+"8"],k[h][9]=k[u+"9"],k[h][10]=k[u+"10"],k[h][11]=k[u+"11"],k[h][12]=k[u+"12"],k[h][13]=k[u+"13"],k[h][14]=k[u+"0"],k[h][15]=k[u+"0"]}function vt(u){return u==mf||u==yf||u==Pc||u==vf}function Qs(){this.eb=[],this.size=this.A=this.fb=0}function qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function In(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qs,this.f.kb=new qt,this.sd=null}function Pi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function wt(u,h){var m=u.T,x=h.ba.f.RGBA,C=x.eb,F=x.fb+u.ka*x.A,I=An[h.ba.S],M=u.y,D=u.O,z=u.f,ee=u.N,de=u.ea,fe=u.W,se=h.cc,_e=h.dc,ve=h.Mc,te=h.Nc,ne=u.ka,xe=u.ka+u.T,ke=u.U,Se=ke+1>>1;for(ne==0?I(M,D,null,null,z,ee,de,fe,z,ee,de,fe,C,F,null,null,ke):(I(h.ec,h.fc,M,D,se,_e,ve,te,z,ee,de,fe,C,F-x.A,C,F,ke),++m);ne+2<xe;ne+=2)se=z,_e=ee,ve=de,te=fe,ee+=u.Rc,fe+=u.Rc,F+=2*x.A,I(M,(D+=2*u.fa)-u.fa,M,D,se,_e,ve,te,z,ee,de,fe,C,F-x.A,C,F,ke);return D+=u.fa,u.j+xe<u.o?(n(h.ec,h.fc,M,D,ke),n(h.cc,h.dc,z,ee,Se),n(h.Mc,h.Nc,de,fe,Se),m--):1&xe||I(M,D,null,null,z,ee,de,fe,z,ee,de,fe,C,F+x.A,null,null,ke),m}function Xs(u,h,m){var x=u.F,C=[u.J];if(x!=null){var F=u.U,I=h.ba.S,M=I==Ac||I==Pc;h=h.ba.f.RGBA;var D=[0],z=u.ka;D[0]=u.T,u.Kb&&(z==0?--D[0]:(--z,C[0]-=u.width),u.j+u.ka+u.T==u.o&&(D[0]=u.o-u.j-z));var ee=h.eb;z=h.fb+z*h.A,u=jt(x,C[0],u.width,F,D,ee,z+(M?0:3),h.A),e(m==D),u&&vt(I)&&Nn(ee,z,M,F,D,h.A)}return 0}function br(u){var h=u.ma,m=h.ba.S,x=11>m,C=m==Nc||m==kc||m==Ac||m==gf||m==12||vt(m);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!kl(h.Oa,u,C?11:12))return 0;if(C&&vt(m)&&Pe(),u.da)alert("todo:use_scaling");else{if(x){if(h.Ib=rt,u.Kb){if(m=u.U+1>>1,h.memory=s(u.U+2*m),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+m,h.Ib=wt,Pe()}}else alert("todo:EmitYUV");C&&(h.Jb=Xs,x&&ce())}if(x&&!c1){for(u=0;256>u;++u)rb[u]=89858*(u-128)+Lc>>Cc,sb[u]=-22014*(u-128)+Lc,ib[u]=-45773*(u-128),nb[u]=113618*(u-128)+Lc>>Cc;for(u=Il;u<xf;++u)h=76283*(u-16)+Lc>>Cc,ob[u-Il]=ln(h,255),ab[u-Il]=ln(h+8>>4,15);c1=1}return 1}function oi(u){var h=u.ma,m=u.U,x=u.T;return e(!(1&u.ka)),0>=m||0>=x?0:(m=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,m),h.Dc+=m,1)}function ai(u){u.ma.memory=null}function Ye(u,h,m,x){return ie(u,8)!=47?0:(h[0]=ie(u,14)+1,m[0]=ie(u,14)+1,x[0]=ie(u,1),ie(u,3)!=0?0:!u.h)}function On(u,h){if(4>u)return u+1;var m=u-2>>1;return(2+(1&u)<<m)+ie(h,m)+1}function li(u,h){return 120<h?h-120:1<=(m=((m=zw[h-1])>>4)*u+(8-(15&m)))?m:1;var m}function Vr(u,h,m){var x=$(m),C=u[h+=255&x].g-8;return 0<C&&(J(m,m.u+8),x=$(m),h+=u[h].value,h+=x&(1<<C)-1),J(m,m.u+u[h].g),u[h].value}function lr(u,h,m){return m.g+=u.g,m.value+=u.value<<h>>>0,e(8>=m.g),u.g}function rr(u,h,m){var x=u.xc;return e((h=x==0?0:u.vc[u.md*(m>>x)+(h>>x)])<u.Wb),u.Ya[h]}function an(u,h,m,x){var C=u.ab,F=u.c*h,I=u.C;h=I+h;var M=m,D=x;for(x=u.Ta,m=u.Ua;0<C--;){var z=u.gc[C],ee=I,de=h,fe=M,se=D,_e=(D=x,M=m,z.Ea);switch(e(ee<de),e(de<=z.nc),z.hc){case 2:yc(fe,se,(de-ee)*_e,D,M);break;case 0:var ve=ee,te=de,ne=D,xe=M,ke=(Me=z).Ea;ve==0&&(ff(fe,se,null,null,1,ne,xe),He(fe,se+1,0,0,ke-1,ne,xe+1),se+=ke,xe+=ke,++ve);for(var Se=1<<Me.b,De=Se-1,Oe=Ae(ke,Me.b),Ke=Me.K,Me=Me.w+(ve>>Me.b)*Oe;ve<te;){var yt=Ke,bt=Me,gt=1;for(Cl(fe,se,ne,xe-ke,1,ne,xe);gt<ke;){var ft=(gt&~De)+Se;ft>ke&&(ft=ke),(0,os[yt[bt++]>>8&15])(fe,se+ +gt,ne,xe+gt-ke,ft-gt,ne,xe+gt),gt=ft}se+=ke,xe+=ke,++ve&De||(Me+=Oe)}de!=z.nc&&n(D,M-_e,D,M+(de-ee-1)*_e,_e);break;case 1:for(_e=fe,te=se,ke=(fe=z.Ea)-(xe=fe&~(ne=(se=1<<z.b)-1)),ve=Ae(fe,z.b),Se=z.K,z=z.w+(ee>>z.b)*ve;ee<de;){for(De=Se,Oe=z,Ke=new Fe,Me=te+xe,yt=te+fe;te<Me;)ut(De[Oe++],Ke),io(Ke,_e,te,se,D,M),te+=se,M+=se;te<yt&&(ut(De[Oe++],Ke),io(Ke,_e,te,ke,D,M),te+=ke,M+=ke),++ee&ne||(z+=ve)}break;case 3:if(fe==D&&se==M&&0<z.b){for(te=D,fe=_e=M+(de-ee)*_e-(xe=(de-ee)*Ae(z.Ea,z.b)),se=D,ne=M,ve=[],xe=(ke=xe)-1;0<=xe;--xe)ve[xe]=se[ne+xe];for(xe=ke-1;0<=xe;--xe)te[fe+xe]=ve[xe];xn(z,ee,de,D,_e,D,M)}else xn(z,ee,de,fe,se,D,M)}M=x,D=m}D!=m&&n(x,m,M,D,F)}function Oo(u,h){var m=u.V,x=u.Ba+u.c*u.C,C=h-u.C;if(e(h<=u.l.o),e(16>=C),0<C){var F=u.l,I=u.Ta,M=u.Ua,D=F.width;if(an(u,C,m,x),C=M=[M],e((m=u.C)<(x=h)),e(F.v<F.va),x>F.o&&(x=F.o),m<F.j){var z=F.j-m;m=F.j,C[0]+=z*D}if(m>=x?m=0:(C[0]+=4*F.v,F.ka=m-F.j,F.U=F.va-F.v,F.T=x-m,m=1),m){if(M=M[0],11>(m=u.ca).S){var ee=m.f.RGBA,de=(x=m.S,C=F.U,F=F.T,z=ee.eb,ee.A),fe=F;for(ee=ee.fb+u.Ma*ee.A;0<fe--;){var se=I,_e=M,ve=C,te=z,ne=ee;switch(x){case _c:Jr(se,_e,ve,te,ne);break;case Nc:$r(se,_e,ve,te,ne);break;case mf:$r(se,_e,ve,te,ne),Nn(te,ne,0,ve,1,0);break;case e1:Ti(se,_e,ve,te,ne);break;case kc:Rt(se,_e,ve,te,ne,1);break;case yf:Rt(se,_e,ve,te,ne,1),Nn(te,ne,0,ve,1,0);break;case Ac:Rt(se,_e,ve,te,ne,0);break;case Pc:Rt(se,_e,ve,te,ne,0),Nn(te,ne,1,ve,1,0);break;case gf:as(se,_e,ve,te,ne);break;case vf:as(se,_e,ve,te,ne),Lt(te,ne,ve,1,0);break;case t1:Ei(se,_e,ve,te,ne);break;default:e(0)}M+=D,ee+=de}u.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=m.height)}}u.C=h,e(u.C<=u.i)}function Ci(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var m=u.Ya[h].G,x=u.Ya[h].H;if(0<m[1][x[1]+0].g||0<m[2][x[2]+0].g||0<m[3][x[3]+0].g)return 0}return 1}function Rn(u,h,m,x,C,F){if(u.Z!=0){var I=u.qd,M=u.rd;for(e(hs[u.Z]!=null);h<m;++h)hs[u.Z](I,M,x,C,x,C,F),I=x,M=C,C+=F;u.qd=I,u.rd=M}}function Mn(u,h){var m=u.l.ma,x=m.Z==0||m.Z==1?u.l.j:u.C;if(x=u.C<x?x:u.C,e(h<=u.l.o),h>x){var C=u.l.width,F=m.ca,I=m.tb+C*x,M=u.V,D=u.Ba+u.c*x,z=u.gc;e(u.ab==1),e(z[0].hc==3),vc(z[0],x,h,M,D,F,I),Rn(m,x,h,F,I,C)}u.C=u.Ma=h}function $n(u,h,m,x,C,F,I){var M=u.$/x,D=u.$%x,z=u.m,ee=u.s,de=m+u.$,fe=de;C=m+x*C;var se=m+x*F,_e=280+ee.ua,ve=u.Pb?M:16777216,te=0<ee.ua?ee.Wa:null,ne=ee.wc,xe=de<se?rr(ee,D,M):null;e(u.C<F),e(se<=C);var ke=!1;e:for(;;){for(;ke||de<se;){var Se=0;if(M>=ve){var De=de-m;e((ve=u).Pb),ve.wd=ve.m,ve.xd=De,0<ve.s.ua&&ge(ve.s.Wa,ve.s.vb),ve=M+Hw}if(D&ne||(xe=rr(ee,D,M)),e(xe!=null),xe.Qb&&(h[de]=xe.qb,ke=!0),!ke)if(Z(z),xe.jc){Se=z,De=h;var Oe=de,Ke=xe.pd[$(Se)&xr-1];e(xe.jc),256>Ke.g?(J(Se,Se.u+Ke.g),De[Oe]=Ke.value,Se=0):(J(Se,Se.u+Ke.g-256),e(256<=Ke.value),Se=Ke.value),Se==0&&(ke=!0)}else Se=Vr(xe.G[0],xe.H[0],z);if(z.h)break;if(ke||256>Se){if(!ke)if(xe.nd)h[de]=(xe.qb|Se<<8)>>>0;else{if(Z(z),ke=Vr(xe.G[1],xe.H[1],z),Z(z),De=Vr(xe.G[2],xe.H[2],z),Oe=Vr(xe.G[3],xe.H[3],z),z.h)break;h[de]=(Oe<<24|ke<<16|Se<<8|De)>>>0}if(ke=!1,++de,++D>=x&&(D=0,++M,I!=null&&M<=F&&!(M%16)&&I(u,M),te!=null))for(;fe<de;)Se=h[fe++],te.X[(506832829*Se&4294967295)>>>te.Mb]=Se}else if(280>Se){if(Se=On(Se-256,z),De=Vr(xe.G[4],xe.H[4],z),Z(z),De=li(x,De=On(De,z)),z.h)break;if(de-m<De||C-de<Se)break e;for(Oe=0;Oe<Se;++Oe)h[de+Oe]=h[de+Oe-De];for(de+=Se,D+=Se;D>=x;)D-=x,++M,I!=null&&M<=F&&!(M%16)&&I(u,M);if(e(de<=C),D&ne&&(xe=rr(ee,D,M)),te!=null)for(;fe<de;)Se=h[fe++],te.X[(506832829*Se&4294967295)>>>te.Mb]=Se}else{if(!(Se<_e))break e;for(ke=Se-280,e(te!=null);fe<de;)Se=h[fe++],te.X[(506832829*Se&4294967295)>>>te.Mb]=Se;Se=de,e(!(ke>>>(De=te).Xa)),h[Se]=De.X[ke],ke=!0}ke||e(z.h==V(z))}if(u.Pb&&z.h&&de<C)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ge(u.s.vb,u.s.Wa);else{if(z.h)break e;I!=null&&I(u,M>F?F:M),u.a=0,u.$=de-m}return 1}return u.a=3,0}function ui(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,e(u!=null)}function bn(){var u=new df;return u==null?null:(u.a=0,u.xb=i1,si("Predictor","VP8LPredictors"),si("Predictor","VP8LPredictors_C"),si("PredictorAdd","VP8LPredictorsAdd"),si("PredictorAdd","VP8LPredictorsAdd_C"),yc=Ze,io=Je,Jr=Ie,$r=kt,as=ct,Ei=Wr,Ti=At,k.VP8LMapColor32b=ta,k.VP8LMapColor8b=wc,u)}function ci(u,h,m,x,C){var F=1,I=[u],M=[h],D=x.m,z=x.s,ee=null,de=0;e:for(;;){if(m)for(;F&&ie(D,1);){var fe=I,se=M,_e=x,ve=1,te=_e.m,ne=_e.gc[_e.ab],xe=ie(te,2);if(_e.Oc&1<<xe)F=0;else{switch(_e.Oc|=1<<xe,ne.hc=xe,ne.Ea=fe[0],ne.nc=se[0],ne.K=[null],++_e.ab,e(4>=_e.ab),xe){case 0:case 1:ne.b=ie(te,3)+2,ve=ci(Ae(ne.Ea,ne.b),Ae(ne.nc,ne.b),0,_e,ne.K),ne.K=ne.K[0];break;case 3:var ke,Se=ie(te,8)+1,De=16<Se?0:4<Se?1:2<Se?2:3;if(fe[0]=Ae(ne.Ea,De),ne.b=De,ke=ve=ci(Se,1,0,_e,ne.K)){var Oe,Ke=Se,Me=ne,yt=1<<(8>>Me.b),bt=s(yt);if(bt==null)ke=0;else{var gt=Me.K[0],ft=Me.w;for(bt[0]=Me.K[0][0],Oe=1;Oe<1*Ke;++Oe)bt[Oe]=be(gt[ft+Oe],bt[Oe-1]);for(;Oe<4*yt;++Oe)bt[Oe]=0;Me.K[0]=null,Me.K[0]=bt,ke=1}}ve=ke;break;case 2:break;default:e(0)}F=ve}}if(I=I[0],M=M[0],F&&ie(D,1)&&!(F=1<=(de=ie(D,4))&&11>=de)){x.a=3;break e}var Pt;if(Pt=F)t:{var Nt,ot,ir,Yr=x,sr=I,Qr=M,xt=de,cn=m,hn=Yr.m,pr=Yr.s,Sr=[null],Br=1,Pn=0,pi=qw[xt];r:for(;;){if(cn&&ie(hn,1)){var gr=ie(hn,3)+2,Ri=Ae(sr,gr),uo=Ae(Qr,gr),oa=Ri*uo;if(!ci(Ri,uo,0,Yr,Sr))break r;for(Sr=Sr[0],pr.xc=gr,Nt=0;Nt<oa;++Nt){var ds=Sr[Nt]>>8&65535;Sr[Nt]=ds,ds>=Br&&(Br=ds+1)}}if(hn.h)break r;for(ot=0;5>ot;++ot){var Vt=r1[ot];!ot&&0<xt&&(Vt+=1<<xt),Pn<Vt&&(Pn=Vt)}var Sf=o(Br*pi,j),f1=Br,p1=o(f1,K);if(p1==null)var Ec=null;else e(65536>=f1),Ec=p1;var Ol=s(Pn);if(Ec==null||Ol==null||Sf==null){Yr.a=1;break r}var Tc=Sf;for(Nt=ir=0;Nt<Br;++Nt){var qn=Ec[Nt],aa=qn.G,la=qn.H,g1=0,Fc=1,m1=0;for(ot=0;5>ot;++ot){Vt=r1[ot],aa[ot]=Tc,la[ot]=ir,!ot&&0<xt&&(Vt+=1<<xt);i:{var Ic,_f=Vt,Oc=Yr,Rl=Ol,cb=Tc,hb=ir,Nf=0,fs=Oc.m,db=ie(fs,1);if(i(Rl,0,0,_f),db){var fb=ie(fs,1)+1,pb=ie(fs,1),y1=ie(fs,pb==0?1:8);Rl[y1]=1,fb==2&&(Rl[y1=ie(fs,8)]=1);var Rc=1}else{var v1=s(19),w1=ie(fs,4)+4;if(19<w1){Oc.a=3;var Mc=0;break i}for(Ic=0;Ic<w1;++Ic)v1[Uw[Ic]]=ie(fs,3);var kf=void 0,Ml=void 0,b1=Oc,gb=v1,$c=_f,x1=Rl,Af=0,ps=b1.m,S1=8,_1=o(128,j);n:for(;E(_1,0,7,gb,19);){if(ie(ps,1)){var mb=2+2*ie(ps,3);if((kf=2+ie(ps,mb))>$c)break n}else kf=$c;for(Ml=0;Ml<$c&&kf--;){Z(ps);var N1=_1[0+(127&$(ps))];J(ps,ps.u+N1.g);var ua=N1.value;if(16>ua)x1[Ml++]=ua,ua!=0&&(S1=ua);else{var yb=ua==16,k1=ua-16,vb=Dw[k1],A1=ie(ps,$w[k1])+vb;if(Ml+A1>$c)break n;for(var wb=yb?S1:0;0<A1--;)x1[Ml++]=wb}}Af=1;break n}Af||(b1.a=3),Rc=Af}(Rc=Rc&&!fs.h)&&(Nf=E(cb,hb,8,Rl,_f)),Rc&&Nf!=0?Mc=Nf:(Oc.a=3,Mc=0)}if(Mc==0)break r;if(Fc&&Bw[ot]==1&&(Fc=Tc[ir].g==0),g1+=Tc[ir].g,ir+=Mc,3>=ot){var $l,Pf=Ol[0];for($l=1;$l<Vt;++$l)Ol[$l]>Pf&&(Pf=Ol[$l]);m1+=Pf}}if(qn.nd=Fc,qn.Qb=0,Fc&&(qn.qb=(aa[3][la[3]+0].value<<24|aa[1][la[1]+0].value<<16|aa[2][la[2]+0].value)>>>0,g1==0&&256>aa[0][la[0]+0].value&&(qn.Qb=1,qn.qb+=aa[0][la[0]+0].value<<8)),qn.jc=!qn.Qb&&6>m1,qn.jc){var Dc,Mi=qn;for(Dc=0;Dc<xr;++Dc){var gs=Dc,ms=Mi.pd[gs],Bc=Mi.G[0][Mi.H[0]+gs];256<=Bc.value?(ms.g=Bc.g+256,ms.value=Bc.value):(ms.g=0,ms.value=0,gs>>=lr(Bc,8,ms),gs>>=lr(Mi.G[1][Mi.H[1]+gs],16,ms),gs>>=lr(Mi.G[2][Mi.H[2]+gs],0,ms),lr(Mi.G[3][Mi.H[3]+gs],24,ms))}}}pr.vc=Sr,pr.Wb=Br,pr.Ya=Ec,pr.yc=Sf,Pt=1;break t}Pt=0}if(!(F=Pt)){x.a=3;break e}if(0<de){if(z.ua=1<<de,!Re(z.Wa,de)){x.a=1,F=0;break e}}else z.ua=0;var Cf=x,P1=I,bb=M,Lf=Cf.s,jf=Lf.xc;if(Cf.c=P1,Cf.i=bb,Lf.md=Ae(P1,jf),Lf.wc=jf==0?-1:(1<<jf)-1,m){x.xb=Qw;break e}if((ee=s(I*M))==null){x.a=1,F=0;break e}F=(F=$n(x,ee,0,I,M,M,null))&&!D.h;break e}return F?(C!=null?C[0]=ee:(e(ee==null),e(m)),x.$=0,m||ui(z)):ui(z),F}function Zs(u,h){var m=u.c*u.i,x=m+h+16*h;return e(u.c<=h),u.V=s(x),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+m+h,1)}function Ro(u,h){var m=u.C,x=h-m,C=u.V,F=u.Ba+u.c*m;for(e(h<=u.l.o);0<x;){var I=16<x?16:x,M=u.l.ma,D=u.l.width,z=D*I,ee=M.ca,de=M.tb+D*m,fe=u.Ta,se=u.Ua;an(u,I,C,F),Qt(fe,se,ee,de,z),Rn(M,m,m+I,ee,de,D),x-=I,C+=I*u.c,m+=I}e(m==h),u.C=u.Ma=h}function Mo(){this.ub=this.yd=this.td=this.Rb=0}function $o(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Do(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qu(){this.Yb=function(){var u=[];return function h(m,x,C){for(var F=C[x],I=0;I<F&&(m.push(C.length>x+1?[]:0),!(C.length<x+1));I++)h(m[I],x+1,C)}(u,0,[3,11]),u}()}function zd(){this.jb=s(3),this.Wc=a([4,8],Qu),this.Xc=a([4,17],Qu)}function qd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Bo(){this.ld=this.La=this.dd=this.tc=0}function Xu(){this.Na=this.la=0}function Hd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ul(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bo),this.Y=0,this.ya=Array(new ul),this.aa=0,this.l=new Uo}function Zu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Vd(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Mo,this.Kc=new $o,this.ed=new qd,this.Qa=new Do,this.Ic=this.$c=this.Aa=0,this.D=new Wd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,Hd),this.Pa=new zd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zu),this.Hd=0,this.rb=Array(new Xu),this.sb=0,this.wa=Array(new Bo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ul),this.L=this.aa=0,this.gd=a([4,2],Bo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Uo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gd(){var u=new Vd;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Fl||(Fl=rc)),u}function Jt(u,h,m){return u.a==0&&(u.a=h,u.sc=m,u.cb=0),0}function ec(u,h,m){return 3<=m&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function tc(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return Jt(u,2,"null VP8Io passed to VP8GetHeaders()");var m=h.data,x=h.w,C=h.ha;if(4>C)return Jt(u,7,"Truncated header.");var F=m[x+0]|m[x+1]<<8|m[x+2]<<16,I=u.Od;if(I.Rb=!(1&F),I.td=F>>1&7,I.yd=F>>4&1,I.ub=F>>5,3<I.td)return Jt(u,3,"Incorrect keyframe parameters.");if(!I.yd)return Jt(u,4,"Frame not displayable.");x+=3,C-=3;var M=u.Kc;if(I.Rb){if(7>C)return Jt(u,7,"cannot parse picture header");if(!ec(m,x,C))return Jt(u,3,"Bad code word");M.c=16383&(m[x+4]<<8|m[x+3]),M.Td=m[x+4]>>6,M.i=16383&(m[x+6]<<8|m[x+5]),M.Ud=m[x+6]>>6,x+=7,C-=7,u.za=M.c+15>>4,u.Ub=M.i+15>>4,h.width=M.c,h.height=M.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((F=u.Pa).jb,0,255,F.jb.length),e((F=u.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(I.ub>C)return Jt(u,7,"bad partition length");pe(F=u.m,m,x,I.ub),x+=I.ub,C-=I.ub,I.Rb&&(M.Ld=oe(F),M.Kd=oe(F)),M=u.Qa;var D,z=u.Pa;if(e(F!=null),e(M!=null),M.Cb=oe(F),M.Cb){if(M.Bb=oe(F),oe(F)){for(M.Fb=oe(F),D=0;4>D;++D)M.Zb[D]=oe(F)?re(F,7):0;for(D=0;4>D;++D)M.Lb[D]=oe(F)?re(F,6):0}if(M.Bb)for(D=0;3>D;++D)z.jb[D]=oe(F)?he(F,8):255}else M.Bb=0;if(F.Ka)return Jt(u,3,"cannot parse segment header");if((M=u.ed).zd=oe(F),M.Tb=he(F,6),M.wb=he(F,3),M.Pc=oe(F),M.Pc&&oe(F)){for(z=0;4>z;++z)oe(F)&&(M.vd[z]=re(F,6));for(z=0;4>z;++z)oe(F)&&(M.od[z]=re(F,6))}if(u.L=M.Tb==0?0:M.zd?1:2,F.Ka)return Jt(u,3,"cannot parse filter header");var ee=C;if(C=D=x,x=D+ee,M=ee,u.Xb=(1<<he(u.m,2))-1,ee<3*(z=u.Xb))m=7;else{for(D+=3*z,M-=3*z,ee=0;ee<z;++ee){var de=m[C+0]|m[C+1]<<8|m[C+2]<<16;de>M&&(de=M),pe(u.Jc[+ee],m,D,de),D+=de,M-=de,C+=3}pe(u.Jc[+z],m,D,M),m=D<x?0:5}if(m!=0)return Jt(u,m,"cannot parse partitions");for(m=he(D=u.m,7),C=oe(D)?re(D,4):0,x=oe(D)?re(D,4):0,M=oe(D)?re(D,4):0,z=oe(D)?re(D,4):0,D=oe(D)?re(D,4):0,ee=u.Qa,de=0;4>de;++de){if(ee.Cb){var fe=ee.Zb[de];ee.Fb||(fe+=m)}else{if(0<de){u.pb[de]=u.pb[0];continue}fe=m}var se=u.pb[de];se.Sc[0]=wf[ln(fe+C,127)],se.Sc[1]=bf[ln(fe+0,127)],se.Eb[0]=2*wf[ln(fe+x,127)],se.Eb[1]=101581*bf[ln(fe+M,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=wf[ln(fe+z,117)],se.Qc[1]=bf[ln(fe+D,127)],se.lc=fe+D}if(!I.Rb)return Jt(u,4,"Not a key frame.");for(oe(F),I=u.Pa,m=0;4>m;++m){for(C=0;8>C;++C)for(x=0;3>x;++x)for(M=0;11>M;++M)z=le(F,Jw[m][C][x][M])?he(F,8):Gw[m][C][x][M],I.Wc[m][C].Yb[x][M]=z;for(C=0;17>C;++C)I.Xc[m][C]=I.Wc[m][Yw[C]]}return u.kc=oe(F),u.kc&&(u.Bd=he(F,8)),u.cb=1}function rc(u,h,m,x,C,F,I){var M=h[C].Yb[m];for(m=0;16>C;++C){if(!le(u,M[m+0]))return C;for(;!le(u,M[m+1]);)if(M=h[++C].Yb[0],m=0,C==16)return 16;var D=h[C+1].Yb;if(le(u,M[m+2])){var z=u,ee=0;if(le(z,(fe=M)[(de=m)+3]))if(le(z,fe[de+6])){for(M=0,de=2*(ee=le(z,fe[de+8]))+(fe=le(z,fe[de+9+ee])),ee=0,fe=Ww[de];fe[M];++M)ee+=ee+le(z,fe[M]);ee+=3+(8<<de)}else le(z,fe[de+7])?(ee=7+2*le(z,165),ee+=le(z,145)):ee=5+le(z,159);else ee=le(z,fe[de+4])?3+le(z,fe[de+5]):2;M=D[2]}else ee=1,M=D[1];D=I+Vw[C],0>(z=u).b&&ue(z);var de,fe=z.b,se=(de=z.Ca>>1)-(z.I>>fe)>>31;--z.b,z.Ca+=se,z.Ca|=1,z.I-=(de+1&se)<<fe,F[D]=((ee^se)-se)*x[(0<C)+0]}return 16}function cl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Kd(u,h){if(u==null)return 0;if(h==null)return Jt(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!tc(u,h))return 0;if(e(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var m=jc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-m>>4,u.zb=h.j-m>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+m>>4,u.Hb=h.va+15+m>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var x=u.ed;for(m=0;4>m;++m){var C;if(u.Qa.Cb){var F=u.Qa.Lb[m];u.Qa.Fb||(F+=x.Tb)}else F=x.Tb;for(C=0;1>=C;++C){var I=u.gd[m][C],M=F;if(x.Pc&&(M+=x.vd[0],C&&(M+=x.od[0])),0<(M=0>M?0:63<M?63:M)){var D=M;0<x.wb&&(D=4<x.wb?D>>2:D>>1)>9-x.wb&&(D=9-x.wb),1>D&&(D=1),I.dd=D,I.tc=2*M+D,I.ld=40<=M?2:15<=M?1:0}else I.tc=0;I.La=C}}}m=0}else Jt(u,6,"Frame setup failed"),m=u.a;if(m=m==0){if(m){u.$c=0,0<u.Aa||(u.Ic=ub);e:{m=u.Ic,x=4*(D=u.za);var z=32*D,ee=D+1,de=0<u.L?D*(0<u.Aa?2:1):0,fe=(u.Aa==2?2:1)*D;if((I=x+832+(C=3*(16*m+jc[u.L])/2*z)+(F=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=I)m=0;else{if(I>u.Vb){if(u.Vb=0,u.Ec=s(I),u.Fc=0,u.Ec==null){m=Jt(u,1,"no memory during frame initialization.");break e}u.Vb=I}I=u.Ec,M=u.Fc,u.Ac=I,u.Bc=M,M+=x,u.Gd=o(z,Zu),u.Hd=0,u.rb=o(ee+1,Xu),u.sb=1,u.wa=de?o(de,Bo):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=D),e(!0),u.oc=I,u.pc=M,M+=832,u.ya=o(fe,ul),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=D),u.R=16*D,u.B=8*D,D=(z=jc[u.L])*u.R,z=z/2*u.B,u.sa=I,u.ta=M+D,u.qa=u.sa,u.ra=u.ta+16*m*u.R+z,u.Ha=u.qa,u.Ia=u.ra+8*m*u.B+z,u.$c=0,M+=C,u.mb=F?I:null,u.nb=F?M:null,e(M+F<=u.Fc+u.Vb),cl(u),i(u.Ac,u.Bc,0,x),m=1}}if(m){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!xc){for(m=-255;255>=m;++m)ur[255+m]=0>m?-m:m;for(m=-1020;1020>=m;++m)Ii[1020+m]=-128>m?-128:127<m?127:m;for(m=-112;112>=m;++m)Tl[112+m]=-16>m?-16:15<m?15:m;for(m=-255;510>=m;++m)sa[255+m]=0>m?0:255<m?255:m;xc=1}ra=Qd,Fi=Jd,Ll=ic,Dr=Yd,Sn=sc,Yt=nc,na=ml,bc=ro,jl=hf,so=yl,oo=cf,ls=Go,ao=vl,ia=pc,lo=fc,us=di,El=ji,_n=uf,zn[0]=hi,zn[1]=Xd,zn[2]=rf,zn[3]=nf,zn[4]=lc,zn[5]=Wo,zn[6]=uc,zn[7]=fl,zn[8]=of,zn[9]=sf,cs[0]=oc,cs[1]=ef,cs[2]=Li,cs[3]=qo,cs[4]=Ar,cs[5]=tf,cs[6]=ac,Oi[0]=ns,Oi[1]=Zd,Oi[2]=af,Oi[3]=pl,Oi[4]=to,Oi[5]=lf,Oi[6]=gl,m=1}else m=0}m&&(m=function(se,_e){for(se.M=0;se.M<se.Va;++se.M){var ve,te=se.Jc[se.M&se.Xb],ne=se.m,xe=se;for(ve=0;ve<xe.za;++ve){var ke=ne,Se=xe,De=Se.Ac,Oe=Se.Bc+4*ve,Ke=Se.zc,Me=Se.ya[Se.aa+ve];if(Se.Qa.Bb?Me.$b=le(ke,Se.Pa.jb[0])?2+le(ke,Se.Pa.jb[2]):le(ke,Se.Pa.jb[1]):Me.$b=0,Se.kc&&(Me.Ad=le(ke,Se.Bd)),Me.Za=!le(ke,145)+0,Me.Za){var yt=Me.Ob,bt=0;for(Se=0;4>Se;++Se){var gt,ft=Ke[0+Se];for(gt=0;4>gt;++gt){ft=Kw[De[Oe+gt]][ft];for(var Pt=n1[le(ke,ft[0])];0<Pt;)Pt=n1[2*Pt+le(ke,ft[Pt])];ft=-Pt,De[Oe+gt]=ft}n(yt,bt,De,Oe,4),bt+=4,Ke[0+Se]=ft}}else ft=le(ke,156)?le(ke,128)?1:3:le(ke,163)?2:0,Me.Ob[0]=ft,i(De,Oe,ft,4),i(Ke,0,ft,4);Me.Dd=le(ke,142)?le(ke,114)?le(ke,183)?1:3:2:0}if(xe.m.Ka)return Jt(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(xe=te,ke=(ne=se).rb[ne.sb-1],De=ne.rb[ne.sb+ne.ja],ve=ne.ya[ne.aa+ne.ja],Oe=ne.kc?ve.Ad:0)ke.la=De.la=0,ve.Za||(ke.Na=De.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var Nt,ot;if(ke=De,De=xe,Oe=ne.Pa.Xc,Ke=ne.ya[ne.aa+ne.ja],Me=ne.pb[Ke.$b],Se=Ke.ad,yt=0,bt=ne.rb[ne.sb-1],ft=gt=0,i(Se,yt,0,384),Ke.Za)var ir=0,Yr=Oe[3];else{Pt=s(16);var sr=ke.Na+bt.Na;if(sr=Fl(De,Oe[1],sr,Me.Eb,0,Pt,0),ke.Na=bt.Na=(0<sr)+0,1<sr)ra(Pt,0,Se,yt);else{var Qr=Pt[0]+3>>3;for(Pt=0;256>Pt;Pt+=16)Se[yt+Pt]=Qr}ir=1,Yr=Oe[0]}var xt=15&ke.la,cn=15&bt.la;for(Pt=0;4>Pt;++Pt){var hn=1&cn;for(Qr=ot=0;4>Qr;++Qr)xt=xt>>1|(hn=(sr=Fl(De,Yr,sr=hn+(1&xt),Me.Sc,ir,Se,yt))>ir)<<7,ot=ot<<2|(3<sr?3:1<sr?2:Se[yt+0]!=0),yt+=16;xt>>=4,cn=cn>>1|hn<<7,gt=(gt<<8|ot)>>>0}for(Yr=xt,ir=cn>>4,Nt=0;4>Nt;Nt+=2){for(ot=0,xt=ke.la>>4+Nt,cn=bt.la>>4+Nt,Pt=0;2>Pt;++Pt){for(hn=1&cn,Qr=0;2>Qr;++Qr)sr=hn+(1&xt),xt=xt>>1|(hn=0<(sr=Fl(De,Oe[2],sr,Me.Qc,0,Se,yt)))<<3,ot=ot<<2|(3<sr?3:1<sr?2:Se[yt+0]!=0),yt+=16;xt>>=2,cn=cn>>1|hn<<5}ft|=ot<<4*Nt,Yr|=xt<<4<<Nt,ir|=(240&cn)<<Nt}ke.la=Yr,bt.la=ir,Ke.Hc=gt,Ke.Gc=ft,Ke.ia=43690&ft?0:Me.ia,Oe=!(gt|ft)}if(0<ne.L&&(ne.wa[ne.Y+ne.ja]=ne.gd[ve.$b][ve.Za],ne.wa[ne.Y+ne.ja].La|=!Oe),xe.Ka)return Jt(se,7,"Premature end-of-file encountered.")}if(cl(se),ne=_e,xe=1,ve=(te=se).D,ke=0<te.L&&te.M>=te.zb&&te.M<=te.Va,te.Aa==0)e:{if(ve.M=te.M,ve.uc=ke,Nl(te,ve),xe=1,ve=(ot=te.D).Nb,ke=(ft=jc[te.L])*te.R,De=ft/2*te.B,Pt=16*ve*te.R,Qr=8*ve*te.B,Oe=te.sa,Ke=te.ta-ke+Pt,Me=te.qa,Se=te.ra-De+Qr,yt=te.Ha,bt=te.Ia-De+Qr,cn=(xt=ot.M)==0,gt=xt>=te.Va-1,te.Aa==2&&Nl(te,ot),ot.uc)for(hn=(sr=te).D.M,e(sr.D.uc),ot=sr.yb;ot<sr.Hb;++ot){ir=ot,Yr=hn;var pr=(Sr=(Vt=sr).D).Nb;Nt=Vt.R;var Sr=Sr.wa[Sr.Y+ir],Br=Vt.sa,Pn=Vt.ta+16*pr*Nt+16*ir,pi=Sr.dd,gr=Sr.tc;if(gr!=0)if(e(3<=gr),Vt.L==1)0<ir&&us(Br,Pn,Nt,gr+4),Sr.La&&_n(Br,Pn,Nt,gr),0<Yr&&lo(Br,Pn,Nt,gr+4),Sr.La&&El(Br,Pn,Nt,gr);else{var Ri=Vt.B,uo=Vt.qa,oa=Vt.ra+8*pr*Ri+8*ir,ds=Vt.Ha,Vt=Vt.Ia+8*pr*Ri+8*ir;pr=Sr.ld,0<ir&&(bc(Br,Pn,Nt,gr+4,pi,pr),so(uo,oa,ds,Vt,Ri,gr+4,pi,pr)),Sr.La&&(ls(Br,Pn,Nt,gr,pi,pr),ia(uo,oa,ds,Vt,Ri,gr,pi,pr)),0<Yr&&(na(Br,Pn,Nt,gr+4,pi,pr),jl(uo,oa,ds,Vt,Ri,gr+4,pi,pr)),Sr.La&&(oo(Br,Pn,Nt,gr,pi,pr),ao(uo,oa,ds,Vt,Ri,gr,pi,pr))}}if(te.ia&&alert("todo:DitherRow"),ne.put!=null){if(ot=16*xt,xt=16*(xt+1),cn?(ne.y=te.sa,ne.O=te.ta+Pt,ne.f=te.qa,ne.N=te.ra+Qr,ne.ea=te.Ha,ne.W=te.Ia+Qr):(ot-=ft,ne.y=Oe,ne.O=Ke,ne.f=Me,ne.N=Se,ne.ea=yt,ne.W=bt),gt||(xt-=ft),xt>ne.o&&(xt=ne.o),ne.F=null,ne.J=null,te.Fa!=null&&0<te.Fa.length&&ot<xt&&(ne.J=Sl(te,ne,ot,xt-ot),ne.F=te.mb,ne.F==null&&ne.F.length==0)){xe=Jt(te,3,"Could not decode alpha data.");break e}ot<ne.j&&(ft=ne.j-ot,ot=ne.j,e(!(1&ft)),ne.O+=te.R*ft,ne.N+=te.B*(ft>>1),ne.W+=te.B*(ft>>1),ne.F!=null&&(ne.J+=ne.width*ft)),ot<xt&&(ne.O+=ne.v,ne.N+=ne.v>>1,ne.W+=ne.v>>1,ne.F!=null&&(ne.J+=ne.v),ne.ka=ot-ne.j,ne.U=ne.va-ne.v,ne.T=xt-ot,xe=ne.put(ne))}ve+1!=te.Ic||gt||(n(te.sa,te.ta-ke,Oe,Ke+16*te.R,ke),n(te.qa,te.ra-De,Me,Se+8*te.B,De),n(te.Ha,te.Ia-De,yt,bt+8*te.B,De))}if(!xe)return Jt(se,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),m&=1}return m?(u.cb=0,m):0}function Dn(u,h,m,x,C){C=u[h+m+32*x]+(C>>3),u[h+m+32*x]=-256&C?0>C?0:255:C}function zo(u,h,m,x,C,F){Dn(u,h,0,m,x+C),Dn(u,h,1,m,x+F),Dn(u,h,2,m,x-F),Dn(u,h,3,m,x-C)}function Gr(u){return(20091*u>>16)+u}function hl(u,h,m,x){var C,F=0,I=s(16);for(C=0;4>C;++C){var M=u[h+0]+u[h+8],D=u[h+0]-u[h+8],z=(35468*u[h+4]>>16)-Gr(u[h+12]),ee=Gr(u[h+4])+(35468*u[h+12]>>16);I[F+0]=M+ee,I[F+1]=D+z,I[F+2]=D-z,I[F+3]=M-ee,F+=4,h++}for(C=F=0;4>C;++C)M=(u=I[F+0]+4)+I[F+8],D=u-I[F+8],z=(35468*I[F+4]>>16)-Gr(I[F+12]),Dn(m,x,0,0,M+(ee=Gr(I[F+4])+(35468*I[F+12]>>16))),Dn(m,x,1,0,D+z),Dn(m,x,2,0,D-z),Dn(m,x,3,0,M-ee),F++,x+=32}function nc(u,h,m,x){var C=u[h+0]+4,F=35468*u[h+4]>>16,I=Gr(u[h+4]),M=35468*u[h+1]>>16;zo(m,x,0,C+I,u=Gr(u[h+1]),M),zo(m,x,1,C+F,u,M),zo(m,x,2,C-F,u,M),zo(m,x,3,C-I,u,M)}function Jd(u,h,m,x,C){hl(u,h,m,x),C&&hl(u,h+16,m,x+4)}function ic(u,h,m,x){Fi(u,h+0,m,x,1),Fi(u,h+32,m,x+128,1)}function Yd(u,h,m,x){var C;for(u=u[h+0]+4,C=0;4>C;++C)for(h=0;4>h;++h)Dn(m,x,h,C,u)}function sc(u,h,m,x){u[h+0]&&Dr(u,h+0,m,x),u[h+16]&&Dr(u,h+16,m,x+4),u[h+32]&&Dr(u,h+32,m,x+128),u[h+48]&&Dr(u,h+48,m,x+128+4)}function Qd(u,h,m,x){var C,F=s(16);for(C=0;4>C;++C){var I=u[h+0+C]+u[h+12+C],M=u[h+4+C]+u[h+8+C],D=u[h+4+C]-u[h+8+C],z=u[h+0+C]-u[h+12+C];F[0+C]=I+M,F[8+C]=I-M,F[4+C]=z+D,F[12+C]=z-D}for(C=0;4>C;++C)I=(u=F[0+4*C]+3)+F[3+4*C],M=F[1+4*C]+F[2+4*C],D=F[1+4*C]-F[2+4*C],z=u-F[3+4*C],m[x+0]=I+M>>3,m[x+16]=z+D>>3,m[x+32]=I-M>>3,m[x+48]=z-D>>3,x+=64}function dl(u,h,m){var x,C=h-32,F=un,I=255-u[C-1];for(x=0;x<m;++x){var M,D=F,z=I+u[h-1];for(M=0;M<m;++M)u[h+M]=D[z+u[C+M]];h+=32}}function Xd(u,h){dl(u,h,4)}function Zd(u,h){dl(u,h,8)}function ef(u,h){dl(u,h,16)}function Li(u,h){var m;for(m=0;16>m;++m)n(u,h+32*m,u,h-32,16)}function qo(u,h){var m;for(m=16;0<m;--m)i(u,h,u[h-1],16),h+=32}function Ho(u,h,m){var x;for(x=0;16>x;++x)i(h,m+32*x,u,16)}function oc(u,h){var m,x=16;for(m=0;16>m;++m)x+=u[h-1+32*m]+u[h+m-32];Ho(x>>5,u,h)}function Ar(u,h){var m,x=8;for(m=0;16>m;++m)x+=u[h-1+32*m];Ho(x>>4,u,h)}function tf(u,h){var m,x=8;for(m=0;16>m;++m)x+=u[h+m-32];Ho(x>>4,u,h)}function ac(u,h){Ho(128,u,h)}function et(u,h,m){return u+2*h+m+2>>2}function rf(u,h){var m,x=h-32;for(x=new Uint8Array([et(u[x-1],u[x+0],u[x+1]),et(u[x+0],u[x+1],u[x+2]),et(u[x+1],u[x+2],u[x+3]),et(u[x+2],u[x+3],u[x+4])]),m=0;4>m;++m)n(u,h+32*m,x,0,x.length)}function nf(u,h){var m=u[h-1],x=u[h-1+32],C=u[h-1+64],F=u[h-1+96];Ne(u,h+0,16843009*et(u[h-1-32],m,x)),Ne(u,h+32,16843009*et(m,x,C)),Ne(u,h+64,16843009*et(x,C,F)),Ne(u,h+96,16843009*et(C,F,F))}function hi(u,h){var m,x=4;for(m=0;4>m;++m)x+=u[h+m-32]+u[h-1+32*m];for(x>>=3,m=0;4>m;++m)i(u,h+32*m,x,4)}function lc(u,h){var m=u[h-1+0],x=u[h-1+32],C=u[h-1+64],F=u[h-1-32],I=u[h+0-32],M=u[h+1-32],D=u[h+2-32],z=u[h+3-32];u[h+0+96]=et(x,C,u[h-1+96]),u[h+1+96]=u[h+0+64]=et(m,x,C),u[h+2+96]=u[h+1+64]=u[h+0+32]=et(F,m,x),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=et(I,F,m),u[h+3+64]=u[h+2+32]=u[h+1+0]=et(M,I,F),u[h+3+32]=u[h+2+0]=et(D,M,I),u[h+3+0]=et(z,D,M)}function uc(u,h){var m=u[h+1-32],x=u[h+2-32],C=u[h+3-32],F=u[h+4-32],I=u[h+5-32],M=u[h+6-32],D=u[h+7-32];u[h+0+0]=et(u[h+0-32],m,x),u[h+1+0]=u[h+0+32]=et(m,x,C),u[h+2+0]=u[h+1+32]=u[h+0+64]=et(x,C,F),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=et(C,F,I),u[h+3+32]=u[h+2+64]=u[h+1+96]=et(F,I,M),u[h+3+64]=u[h+2+96]=et(I,M,D),u[h+3+96]=et(M,D,D)}function Wo(u,h){var m=u[h-1+0],x=u[h-1+32],C=u[h-1+64],F=u[h-1-32],I=u[h+0-32],M=u[h+1-32],D=u[h+2-32],z=u[h+3-32];u[h+0+0]=u[h+1+64]=F+I+1>>1,u[h+1+0]=u[h+2+64]=I+M+1>>1,u[h+2+0]=u[h+3+64]=M+D+1>>1,u[h+3+0]=D+z+1>>1,u[h+0+96]=et(C,x,m),u[h+0+64]=et(x,m,F),u[h+0+32]=u[h+1+96]=et(m,F,I),u[h+1+32]=u[h+2+96]=et(F,I,M),u[h+2+32]=u[h+3+96]=et(I,M,D),u[h+3+32]=et(M,D,z)}function fl(u,h){var m=u[h+0-32],x=u[h+1-32],C=u[h+2-32],F=u[h+3-32],I=u[h+4-32],M=u[h+5-32],D=u[h+6-32],z=u[h+7-32];u[h+0+0]=m+x+1>>1,u[h+1+0]=u[h+0+64]=x+C+1>>1,u[h+2+0]=u[h+1+64]=C+F+1>>1,u[h+3+0]=u[h+2+64]=F+I+1>>1,u[h+0+32]=et(m,x,C),u[h+1+32]=u[h+0+96]=et(x,C,F),u[h+2+32]=u[h+1+96]=et(C,F,I),u[h+3+32]=u[h+2+96]=et(F,I,M),u[h+3+64]=et(I,M,D),u[h+3+96]=et(M,D,z)}function sf(u,h){var m=u[h-1+0],x=u[h-1+32],C=u[h-1+64],F=u[h-1+96];u[h+0+0]=m+x+1>>1,u[h+2+0]=u[h+0+32]=x+C+1>>1,u[h+2+32]=u[h+0+64]=C+F+1>>1,u[h+1+0]=et(m,x,C),u[h+3+0]=u[h+1+32]=et(x,C,F),u[h+3+32]=u[h+1+64]=et(C,F,F),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=F}function of(u,h){var m=u[h-1+0],x=u[h-1+32],C=u[h-1+64],F=u[h-1+96],I=u[h-1-32],M=u[h+0-32],D=u[h+1-32],z=u[h+2-32];u[h+0+0]=u[h+2+32]=m+I+1>>1,u[h+0+32]=u[h+2+64]=x+m+1>>1,u[h+0+64]=u[h+2+96]=C+x+1>>1,u[h+0+96]=F+C+1>>1,u[h+3+0]=et(M,D,z),u[h+2+0]=et(I,M,D),u[h+1+0]=u[h+3+32]=et(m,I,M),u[h+1+32]=u[h+3+64]=et(x,m,I),u[h+1+64]=u[h+3+96]=et(C,x,m),u[h+1+96]=et(F,C,x)}function af(u,h){var m;for(m=0;8>m;++m)n(u,h+32*m,u,h-32,8)}function pl(u,h){var m;for(m=0;8>m;++m)i(u,h,u[h-1],8),h+=32}function eo(u,h,m){var x;for(x=0;8>x;++x)i(h,m+32*x,u,8)}function ns(u,h){var m,x=8;for(m=0;8>m;++m)x+=u[h+m-32]+u[h-1+32*m];eo(x>>4,u,h)}function lf(u,h){var m,x=4;for(m=0;8>m;++m)x+=u[h+m-32];eo(x>>3,u,h)}function to(u,h){var m,x=4;for(m=0;8>m;++m)x+=u[h-1+32*m];eo(x>>3,u,h)}function gl(u,h){eo(128,u,h)}function Vo(u,h,m){var x=u[h-m],C=u[h+0],F=3*(C-x)+pf[1020+u[h-2*m]-u[h+m]],I=Sc[112+(F+4>>3)];u[h-m]=un[255+x+Sc[112+(F+3>>3)]],u[h+0]=un[255+C-I]}function cc(u,h,m,x){var C=u[h+0],F=u[h+m];return kn[255+u[h-2*m]-u[h-m]]>x||kn[255+F-C]>x}function hc(u,h,m,x){return 4*kn[255+u[h-m]-u[h+0]]+kn[255+u[h-2*m]-u[h+m]]<=x}function dc(u,h,m,x,C){var F=u[h-3*m],I=u[h-2*m],M=u[h-m],D=u[h+0],z=u[h+m],ee=u[h+2*m],de=u[h+3*m];return 4*kn[255+M-D]+kn[255+I-z]>x?0:kn[255+u[h-4*m]-F]<=C&&kn[255+F-I]<=C&&kn[255+I-M]<=C&&kn[255+de-ee]<=C&&kn[255+ee-z]<=C&&kn[255+z-D]<=C}function fc(u,h,m,x){var C=2*x+1;for(x=0;16>x;++x)hc(u,h+x,m,C)&&Vo(u,h+x,m)}function di(u,h,m,x){var C=2*x+1;for(x=0;16>x;++x)hc(u,h+x*m,1,C)&&Vo(u,h+x*m,1)}function ji(u,h,m,x){var C;for(C=3;0<C;--C)fc(u,h+=4*m,m,x)}function uf(u,h,m,x){var C;for(C=3;0<C;--C)di(u,h+=4,m,x)}function is(u,h,m,x,C,F,I,M){for(F=2*F+1;0<C--;){if(dc(u,h,m,F,I))if(cc(u,h,m,M))Vo(u,h,m);else{var D=u,z=h,ee=m,de=D[z-2*ee],fe=D[z-ee],se=D[z+0],_e=D[z+ee],ve=D[z+2*ee],te=27*(xe=pf[1020+3*(se-fe)+pf[1020+de-_e]])+63>>7,ne=18*xe+63>>7,xe=9*xe+63>>7;D[z-3*ee]=un[255+D[z-3*ee]+xe],D[z-2*ee]=un[255+de+ne],D[z-ee]=un[255+fe+te],D[z+0]=un[255+se-te],D[z+ee]=un[255+_e-ne],D[z+2*ee]=un[255+ve-xe]}h+=x}}function Bn(u,h,m,x,C,F,I,M){for(F=2*F+1;0<C--;){if(dc(u,h,m,F,I))if(cc(u,h,m,M))Vo(u,h,m);else{var D=u,z=h,ee=m,de=D[z-ee],fe=D[z+0],se=D[z+ee],_e=Sc[112+((ve=3*(fe-de))+4>>3)],ve=Sc[112+(ve+3>>3)],te=_e+1>>1;D[z-2*ee]=un[255+D[z-2*ee]+te],D[z-ee]=un[255+de+ve],D[z+0]=un[255+fe-_e],D[z+ee]=un[255+se-te]}h+=x}}function ml(u,h,m,x,C,F){is(u,h,m,1,16,x,C,F)}function ro(u,h,m,x,C,F){is(u,h,1,m,16,x,C,F)}function cf(u,h,m,x,C,F){var I;for(I=3;0<I;--I)Bn(u,h+=4*m,m,1,16,x,C,F)}function Go(u,h,m,x,C,F){var I;for(I=3;0<I;--I)Bn(u,h+=4,1,m,16,x,C,F)}function hf(u,h,m,x,C,F,I,M){is(u,h,C,1,8,F,I,M),is(m,x,C,1,8,F,I,M)}function yl(u,h,m,x,C,F,I,M){is(u,h,1,C,8,F,I,M),is(m,x,1,C,8,F,I,M)}function vl(u,h,m,x,C,F,I,M){Bn(u,h+4*C,C,1,8,F,I,M),Bn(m,x+4*C,C,1,8,F,I,M)}function pc(u,h,m,x,C,F,I,M){Bn(u,h+4,1,C,8,F,I,M),Bn(m,x+4,1,C,8,F,I,M)}function Ko(){this.ba=new In,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gc(){this.ua=0,this.Wa=new q,this.vb=new q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new j}function df(){this.xb=this.a=0,this.l=new Uo,this.ca=new In,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gc,this.ab=0,this.gc=o(4,bl),this.Oc=0}function Jo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Uo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function no(u,h,m,x,C,F,I){for(u=u==null?0:u[h+0],h=0;h<I;++h)C[F+h]=u+m[x+h]&255,u=C[F+h]}function xl(u,h,m,x,C,F,I){var M;if(u==null)no(null,null,m,x,C,F,I);else for(M=0;M<I;++M)C[F+M]=u[h+M]+m[x+M]&255}function ss(u,h,m,x,C,F,I){if(u==null)no(null,null,m,x,C,F,I);else{var M,D=u[h+0],z=D,ee=D;for(M=0;M<I;++M)z=ee+(D=u[h+M])-z,ee=m[x+M]+(-256&z?0>z?0:255:z)&255,z=D,C[F+M]=ee}}function Sl(u,h,m,x){var C=h.width,F=h.o;if(e(u!=null&&h!=null),0>m||0>=x||m+x>F)return null;if(!u.Cc){if(u.ga==null){var I;if(u.ga=new Jo,(I=u.ga==null)||(I=h.width*h.o,e(u.Gb.length==0),u.Gb=s(I),u.Uc=0,u.Gb==null?I=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,I=1),I=!I),!I){I=u.ga;var M=u.Fa,D=u.P,z=u.qc,ee=u.mb,de=u.nb,fe=D+1,se=z-1,_e=I.l;if(e(M!=null&&ee!=null&&h!=null),hs[0]=null,hs[1]=no,hs[2]=xl,hs[3]=ss,I.ca=ee,I.tb=de,I.c=h.width,I.i=h.height,e(0<I.c&&0<I.i),1>=z)h=0;else if(I.$a=M[D+0]>>0&3,I.Z=M[D+0]>>2&3,I.Lc=M[D+0]>>4&3,D=M[D+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||D)h=0;else if(_e.put=oi,_e.ac=br,_e.bc=ai,_e.ma=I,_e.width=h.width,_e.height=h.height,_e.Da=h.Da,_e.v=h.v,_e.va=h.va,_e.j=h.j,_e.o=h.o,I.$a)e:{e(I.$a==1),h=bn();t:for(;;){if(h==null){h=0;break e}if(e(I!=null),I.mc=h,h.c=I.c,h.i=I.i,h.l=I.l,h.l.ma=I,h.l.width=I.c,h.l.height=I.i,h.a=0,H(h.m,M,fe,se),!ci(I.c,I.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Ci(h.s)?(I.ic=1,M=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(M),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(I.ic=0,h=Zs(h,I.c)),!h))break t;h=1;break e}I.mc=null,h=0}else h=se>=I.c*I.i;I=!h}if(I)return null;u.ga.Lc!=1?u.Ga=0:x=F-m}e(u.ga!=null),e(m+x<=F);e:{if(h=(M=u.ga).c,F=M.l.o,M.$a==0){if(fe=u.rc,se=u.Vc,_e=u.Fa,D=u.P+1+m*h,z=u.mb,ee=u.nb+m*h,e(D<=u.P+u.qc),M.Z!=0)for(e(hs[M.Z]!=null),I=0;I<x;++I)hs[M.Z](fe,se,_e,D,z,ee,h),fe=z,se=ee,ee+=h,D+=h;else for(I=0;I<x;++I)n(z,ee,_e,D,h),fe=z,se=ee,ee+=h,D+=h;u.rc=fe,u.Vc=se}else{if(e(M.mc!=null),h=m+x,e((I=M.mc)!=null),e(h<=I.i),I.C>=h)h=1;else if(M.ic||ce(),M.ic){M=I.V,fe=I.Ba,se=I.c;var ve=I.i,te=(_e=1,D=I.$/se,z=I.$%se,ee=I.m,de=I.s,I.$),ne=se*ve,xe=se*h,ke=de.wc,Se=te<xe?rr(de,z,D):null;e(te<=ne),e(h<=ve),e(Ci(de));t:for(;;){for(;!ee.h&&te<xe;){if(z&ke||(Se=rr(de,z,D)),e(Se!=null),Z(ee),256>(ve=Vr(Se.G[0],Se.H[0],ee)))M[fe+te]=ve,++te,++z>=se&&(z=0,++D<=h&&!(D%16)&&Mn(I,D));else{if(!(280>ve)){_e=0;break t}ve=On(ve-256,ee);var De,Oe=Vr(Se.G[4],Se.H[4],ee);if(Z(ee),!(te>=(Oe=li(se,Oe=On(Oe,ee)))&&ne-te>=ve)){_e=0;break t}for(De=0;De<ve;++De)M[fe+te+De]=M[fe+te+De-Oe];for(te+=ve,z+=ve;z>=se;)z-=se,++D<=h&&!(D%16)&&Mn(I,D);te<xe&&z&ke&&(Se=rr(de,z,D))}e(ee.h==V(ee))}Mn(I,D>h?h:D);break t}!_e||ee.h&&te<ne?(_e=0,I.a=ee.h?5:3):I.$=te,h=_e}else h=$n(I,I.V,I.Ba,I.c,I.i,h,Ro);if(!h){x=0;break e}}m+x>=F&&(u.Cc=1),x=1}if(!x)return null;if(u.Cc&&((x=u.ga)!=null&&(x.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+m*C}function g(u,h,m,x,C,F){for(;0<C--;){var I,M=u,D=h+(m?1:0),z=u,ee=h+(m?0:3);for(I=0;I<x;++I){var de=z[ee+4*I];de!=255&&(de*=32897,M[D+4*I+0]=M[D+4*I+0]*de>>23,M[D+4*I+1]=M[D+4*I+1]*de>>23,M[D+4*I+2]=M[D+4*I+2]*de>>23)}h+=F}}function L(u,h,m,x,C){for(;0<x--;){var F;for(F=0;F<m;++F){var I=u[h+2*F+0],M=15&(z=u[h+2*F+1]),D=4369*M,z=(240&z|z>>4)*D>>16;u[h+2*F+0]=(240&I|I>>4)*D>>16&240|(15&I|I<<4)*D>>16>>4&15,u[h+2*F+1]=240&z|M}h+=C}}function G(u,h,m,x,C,F,I,M){var D,z,ee=255;for(z=0;z<C;++z){for(D=0;D<x;++D){var de=u[h+D];F[I+4*D]=de,ee&=de}h+=m,I+=M}return ee!=255}function X(u,h,m,x,C){var F;for(F=0;F<C;++F)m[x+F]=u[h+F]>>8}function ce(){Nn=g,Lt=L,jt=G,Qt=X}function we(u,h,m){k[u]=function(x,C,F,I,M,D,z,ee,de,fe,se,_e,ve,te,ne,xe,ke){var Se,De=ke-1>>1,Oe=M[D+0]|z[ee+0]<<16,Ke=de[fe+0]|se[_e+0]<<16;e(x!=null);var Me=3*Oe+Ke+131074>>2;for(h(x[C+0],255&Me,Me>>16,ve,te),F!=null&&(Me=3*Ke+Oe+131074>>2,h(F[I+0],255&Me,Me>>16,ne,xe)),Se=1;Se<=De;++Se){var yt=M[D+Se]|z[ee+Se]<<16,bt=de[fe+Se]|se[_e+Se]<<16,gt=Oe+yt+Ke+bt+524296,ft=gt+2*(yt+Ke)>>3;Me=ft+Oe>>1,Oe=(gt=gt+2*(Oe+bt)>>3)+yt>>1,h(x[C+2*Se-1],255&Me,Me>>16,ve,te+(2*Se-1)*m),h(x[C+2*Se-0],255&Oe,Oe>>16,ve,te+(2*Se-0)*m),F!=null&&(Me=gt+Ke>>1,Oe=ft+bt>>1,h(F[I+2*Se-1],255&Me,Me>>16,ne,xe+(2*Se-1)*m),h(F[I+2*Se+0],255&Oe,Oe>>16,ne,xe+(2*Se+0)*m)),Oe=yt,Ke=bt}1&ke||(Me=3*Oe+Ke+131074>>2,h(x[C+ke-1],255&Me,Me>>16,ve,te+(ke-1)*m),F!=null&&(Me=3*Ke+Oe+131074>>2,h(F[I+ke-1],255&Me,Me>>16,ne,xe+(ke-1)*m)))}}function Pe(){An[_c]=Xw,An[Nc]=s1,An[e1]=Zw,An[kc]=o1,An[Ac]=a1,An[gf]=l1,An[t1]=eb,An[mf]=s1,An[yf]=o1,An[Pc]=a1,An[vf]=l1}function $e(u){return u&~tb?0>u?0:255:u>>u1}function Ve(u,h){return $e((19077*u>>8)+(26149*h>>8)-14234)}function st(u,h,m){return $e((19077*u>>8)-(6419*h>>8)-(13320*m>>8)+8708)}function nt(u,h){return $e((19077*u>>8)+(33050*h>>8)-17685)}function pt(u,h,m,x,C){x[C+0]=Ve(u,m),x[C+1]=st(u,h,m),x[C+2]=nt(u,h)}function $t(u,h,m,x,C){x[C+0]=nt(u,h),x[C+1]=st(u,h,m),x[C+2]=Ve(u,m)}function Wt(u,h,m,x,C){var F=st(u,h,m);h=F<<3&224|nt(u,h)>>3,x[C+0]=248&Ve(u,m)|F>>5,x[C+1]=h}function nr(u,h,m,x,C){var F=240&nt(u,h)|15;x[C+0]=240&Ve(u,m)|st(u,h,m)>>4,x[C+1]=F}function Pr(u,h,m,x,C){x[C+0]=255,pt(u,h,m,x,C+1)}function fr(u,h,m,x,C){$t(u,h,m,x,C),x[C+3]=255}function Un(u,h,m,x,C){pt(u,h,m,x,C),x[C+3]=255}function ln(u,h){return 0>u?0:u>h?h:u}function fi(u,h,m){k[u]=function(x,C,F,I,M,D,z,ee,de){for(var fe=ee+(-2&de)*m;ee!=fe;)h(x[C+0],F[I+0],M[D+0],z,ee),h(x[C+1],F[I+0],M[D+0],z,ee+m),C+=2,++I,++D,ee+=2*m;1&de&&h(x[C+0],F[I+0],M[D+0],z,ee)}}function mc(u,h,m){return m==0?u==0?h==0?6:5:h==0?4:0:m}function _l(u,h,m,x,C){switch(u>>>30){case 3:Fi(h,m,x,C,0);break;case 2:Yt(h,m,x,C);break;case 1:Dr(h,m,x,C)}}function Nl(u,h){var m,x,C=h.M,F=h.Nb,I=u.oc,M=u.pc+40,D=u.oc,z=u.pc+584,ee=u.oc,de=u.pc+600;for(m=0;16>m;++m)I[M+32*m-1]=129;for(m=0;8>m;++m)D[z+32*m-1]=129,ee[de+32*m-1]=129;for(0<C?I[M-1-32]=D[z-1-32]=ee[de-1-32]=129:(i(I,M-32-1,127,21),i(D,z-32-1,127,9),i(ee,de-32-1,127,9)),x=0;x<u.za;++x){var fe=h.ya[h.aa+x];if(0<x){for(m=-1;16>m;++m)n(I,M+32*m-4,I,M+32*m+12,4);for(m=-1;8>m;++m)n(D,z+32*m-4,D,z+32*m+4,4),n(ee,de+32*m-4,ee,de+32*m+4,4)}var se=u.Gd,_e=u.Hd+x,ve=fe.ad,te=fe.Hc;if(0<C&&(n(I,M-32,se[_e].y,0,16),n(D,z-32,se[_e].f,0,8),n(ee,de-32,se[_e].ea,0,8)),fe.Za){var ne=I,xe=M-32+16;for(0<C&&(x>=u.za-1?i(ne,xe,se[_e].y[15],4):n(ne,xe,se[_e+1].y,0,4)),m=0;4>m;m++)ne[xe+128+m]=ne[xe+256+m]=ne[xe+384+m]=ne[xe+0+m];for(m=0;16>m;++m,te<<=2)ne=I,xe=M+h1[m],zn[fe.Ob[m]](ne,xe),_l(te,ve,16*+m,ne,xe)}else if(ne=mc(x,C,fe.Ob[0]),cs[ne](I,M),te!=0)for(m=0;16>m;++m,te<<=2)_l(te,ve,16*+m,I,M+h1[m]);for(m=fe.Gc,ne=mc(x,C,fe.Dd),Oi[ne](D,z),Oi[ne](ee,de),te=ve,ne=D,xe=z,255&(fe=m>>0)&&(170&fe?Ll(te,256,ne,xe):Sn(te,256,ne,xe)),fe=ee,te=de,255&(m>>=8)&&(170&m?Ll(ve,320,fe,te):Sn(ve,320,fe,te)),C<u.Ub-1&&(n(se[_e].y,0,I,M+480,16),n(se[_e].f,0,D,z+224,8),n(se[_e].ea,0,ee,de+224,8)),m=8*F*u.B,se=u.sa,_e=u.ta+16*x+16*F*u.R,ve=u.qa,fe=u.ra+8*x+m,te=u.Ha,ne=u.Ia+8*x+m,m=0;16>m;++m)n(se,_e+m*u.R,I,M+32*m,16);for(m=0;8>m;++m)n(ve,fe+m*u.B,D,z+32*m,8),n(te,ne+m*u.B,ee,de+32*m,8)}}function Yo(u,h,m,x,C,F,I,M,D){var z=[0],ee=[0],de=0,fe=D!=null?D.kd:0,se=D??new wl;if(u==null||12>m)return 7;se.data=u,se.w=h,se.ha=m,h=[h],m=[m],se.gb=[se.gb];e:{var _e=h,ve=m,te=se.gb;if(e(u!=null),e(ve!=null),e(te!=null),te[0]=0,12<=ve[0]&&!r(u,_e[0],"RIFF")){if(r(u,_e[0]+8,"WEBP")){te=3;break e}var ne=Le(u,_e[0]+4);if(12>ne||4294967286<ne){te=3;break e}if(fe&&ne>ve[0]-8){te=7;break e}te[0]=ne,_e[0]+=12,ve[0]-=12}te=0}if(te!=0)return te;for(ne=0<se.gb[0],m=m[0];;){e:{var xe=u;ve=h,te=m;var ke=z,Se=ee,De=_e=[0];if((Me=de=[de])[0]=0,8>te[0])te=7;else{if(!r(xe,ve[0],"VP8X")){if(Le(xe,ve[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var Oe=Le(xe,ve[0]+8),Ke=1+Ce(xe,ve[0]+12);if(2147483648<=Ke*(xe=1+Ce(xe,ve[0]+15))){te=3;break e}De!=null&&(De[0]=Oe),ke!=null&&(ke[0]=Ke),Se!=null&&(Se[0]=xe),ve[0]+=18,te[0]-=18,Me[0]=1}te=0}}if(de=de[0],_e=_e[0],te!=0)return te;if(ve=!!(2&_e),!ne&&de)return 3;if(F!=null&&(F[0]=!!(16&_e)),I!=null&&(I[0]=ve),M!=null&&(M[0]=0),I=z[0],_e=ee[0],de&&ve&&D==null){te=0;break}if(4>m){te=7;break}if(ne&&de||!ne&&!de&&!r(u,h[0],"ALPH")){m=[m],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Oe=u,te=h,ne=m;var Me=se.gb;ke=se.na,Se=se.P,De=se.Sa,Ke=22,e(Oe!=null),e(ne!=null),xe=te[0];var yt=ne[0];for(e(ke!=null),e(De!=null),ke[0]=null,Se[0]=null,De[0]=0;;){if(te[0]=xe,ne[0]=yt,8>yt){te=7;break e}var bt=Le(Oe,xe+4);if(4294967286<bt){te=3;break e}var gt=8+bt+1&-2;if(Ke+=gt,0<Me&&Ke>Me){te=3;break e}if(!r(Oe,xe,"VP8 ")||!r(Oe,xe,"VP8L")){te=0;break e}if(yt[0]<gt){te=7;break e}r(Oe,xe,"ALPH")||(ke[0]=Oe,Se[0]=xe+8,De[0]=bt),xe+=gt,yt-=gt}}if(m=m[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],te!=0)break}m=[m],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Me=u,te=h,ne=m,ke=se.gb[0],Se=se.Ja,De=se.xa,Oe=te[0],xe=!r(Me,Oe,"VP8 "),Ke=!r(Me,Oe,"VP8L"),e(Me!=null),e(ne!=null),e(Se!=null),e(De!=null),8>ne[0])te=7;else{if(xe||Ke){if(Me=Le(Me,Oe+4),12<=ke&&Me>ke-12){te=3;break e}if(fe&&Me>ne[0]-8){te=7;break e}Se[0]=Me,te[0]+=8,ne[0]-=8,De[0]=Ke}else De[0]=5<=ne[0]&&Me[Oe+0]==47&&!(Me[Oe+4]>>5),Se[0]=ne[0];te=0}if(m=m[0],se.Ja=se.Ja[0],se.xa=se.xa[0],h=h[0],te!=0)break;if(4294967286<se.Ja)return 3;if(M==null||ve||(M[0]=se.xa?2:1),I=[I],_e=[_e],se.xa){if(5>m){te=7;break}M=I,fe=_e,ve=F,u==null||5>m?u=0:5<=m&&u[h+0]==47&&!(u[h+4]>>5)?(ne=[0],Me=[0],ke=[0],H(Se=new P,u,h,m),Ye(Se,ne,Me,ke)?(M!=null&&(M[0]=ne[0]),fe!=null&&(fe[0]=Me[0]),ve!=null&&(ve[0]=ke[0]),u=1):u=0):u=0}else{if(10>m){te=7;break}M=_e,u==null||10>m||!ec(u,h+3,m-3)?u=0:(fe=u[h+0]|u[h+1]<<8|u[h+2]<<16,ve=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=se.Ja||!ve||!u?u=0:(I&&(I[0]=ve),M&&(M[0]=u),u=1))}if(!u||(I=I[0],_e=_e[0],de&&(z[0]!=I||ee[0]!=_e)))return 3;D!=null&&(D[0]=se,D.offset=h-D.w,e(4294967286>h-D.w),e(D.offset==D.ha-m));break}return te==0||te==7&&de&&D==null?(F!=null&&(F[0]|=se.na!=null&&0<se.na.length),x!=null&&(x[0]=I),C!=null&&(C[0]=_e),0):te}function kl(u,h,m){var x=h.width,C=h.height,F=0,I=0,M=x,D=C;if(h.Da=u!=null&&0<u.Da,h.Da&&(M=u.cd,D=u.bd,F=u.v,I=u.j,11>m||(F&=-2,I&=-2),0>F||0>I||0>=M||0>=D||F+M>x||I+D>C))return 0;if(h.v=F,h.j=I,h.va=F+M,h.o=I+D,h.U=M,h.T=D,h.da=u!=null&&0<u.da,h.da){if(!We(M,D,m=[u.ib],F=[u.hb]))return 0;h.ib=m[0],h.hb=F[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*x/4&&h.hb<3*C/4,h.Kb=0),1}function Al(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function Qo(u,h,m,x){if(x==null||0>=u||0>=h)return 2;if(m!=null){if(m.Da){var C=m.cd,F=m.bd,I=-2&m.v,M=-2&m.j;if(0>I||0>M||0>=C||0>=F||I+C>u||M+F>h)return 2;u=C,h=F}if(m.da){if(!We(u,h,C=[m.ib],F=[m.hb]))return 2;u=C[0],h=F[0]}}x.width=u,x.height=h;e:{var D=x.width,z=x.height;if(u=x.S,0>=D||0>=z||!(u>=_c&&13>u))u=2;else{if(0>=x.Rd&&x.sd==null){I=F=C=h=0;var ee=(M=D*d1[u])*z;if(11>u||(F=(z+1)/2*(h=(D+1)/2),u==12&&(I=(C=D)*z)),(z=s(ee+2*F+I))==null){u=1;break e}x.sd=z,11>u?((D=x.f.RGBA).eb=z,D.fb=0,D.A=M,D.size=ee):((D=x.f.kb).y=z,D.O=0,D.fa=M,D.Fd=ee,D.f=z,D.N=0+ee,D.Ab=h,D.Cd=F,D.ea=z,D.W=0+ee+F,D.Db=h,D.Ed=F,u==12&&(D.F=z,D.J=0+ee+2*F),D.Tc=I,D.lb=C)}if(h=1,C=x.S,F=x.width,I=x.height,C>=_c&&13>C)if(11>C)u=x.f.RGBA,h&=(M=Math.abs(u.A))*(I-1)+F<=u.size,h&=M>=F*d1[C],h&=u.eb!=null;else{u=x.f.kb,M=(F+1)/2,ee=(I+1)/2,D=Math.abs(u.fa),z=Math.abs(u.Ab);var de=Math.abs(u.Db),fe=Math.abs(u.lb),se=fe*(I-1)+F;h&=D*(I-1)+F<=u.Fd,h&=z*(ee-1)+M<=u.Cd,h=(h&=de*(ee-1)+M<=u.Ed)&D>=F&z>=M&de>=M,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,C==12&&(h&=fe>=F,h&=se<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||m!=null&&m.fd&&(u=Al(x)),u}var xr=64,Xo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zo=24,ea=32,Pl=8,Kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(u){return u},k.Predictor2=function(u,h,m){return h[m+0]},k.Predictor3=function(u,h,m){return h[m+1]},k.Predictor4=function(u,h,m){return h[m-1]},k.Predictor5=function(u,h,m){return Te(Te(u,h[m+1]),h[m+0])},k.Predictor6=function(u,h,m){return Te(u,h[m-1])},k.Predictor7=function(u,h,m){return Te(u,h[m+0])},k.Predictor8=function(u,h,m){return Te(h[m-1],h[m+0])},k.Predictor9=function(u,h,m){return Te(h[m+0],h[m+1])},k.Predictor10=function(u,h,m){return Te(Te(u,h[m-1]),Te(h[m+0],h[m+1]))},k.Predictor11=function(u,h,m){var x=h[m+0];return 0>=Ge(x>>24&255,u>>24&255,(h=h[m-1])>>24&255)+Ge(x>>16&255,u>>16&255,h>>16&255)+Ge(x>>8&255,u>>8&255,h>>8&255)+Ge(255&x,255&u,255&h)?x:u},k.Predictor12=function(u,h,m){var x=h[m+0];return(ze((u>>24&255)+(x>>24&255)-((h=h[m-1])>>24&255))<<24|ze((u>>16&255)+(x>>16&255)-(h>>16&255))<<16|ze((u>>8&255)+(x>>8&255)-(h>>8&255))<<8|ze((255&u)+(255&x)-(255&h)))>>>0},k.Predictor13=function(u,h,m){var x=h[m-1];return(qe((u=Te(u,h[m+0]))>>24&255,x>>24&255)<<24|qe(u>>16&255,x>>16&255)<<16|qe(u>>8&255,x>>8&255)<<8|qe(u>>0&255,x>>0&255))>>>0};var ff=k.PredictorAdd0;k.PredictorAdd1=He,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Cl=k.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var yc,xn=k.ColorIndexInverseTransform,ta=k.MapARGB,vc=k.VP8LColorIndexInverseTransformAlpha,wc=k.MapAlpha,os=k.VP8LPredictorsAdd=[];os.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var io,Jr,$r,as,Ei,Ti,ra,Fi,Yt,Ll,Dr,Sn,na,bc,jl,so,oo,ls,ao,ia,lo,us,El,_n,Nn,Lt,jt,Qt,ur=s(511),Ii=s(2041),Tl=s(225),sa=s(767),xc=0,pf=Ii,Sc=Tl,un=sa,kn=ur,_c=0,Nc=1,e1=2,kc=3,Ac=4,gf=5,t1=6,mf=7,yf=8,Pc=9,vf=10,$w=[2,3,7],Dw=[3,3,11],r1=[280,256,256,256,40],Bw=[0,1,1,1,0],Uw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hw=8,wf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fl=null,Ww=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],n1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Kw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cs=[],zn=[],Oi=[],Qw=1,i1=2,hs=[],An=[];we("UpsampleRgbLinePair",pt,3),we("UpsampleBgrLinePair",$t,3),we("UpsampleRgbaLinePair",Un,4),we("UpsampleBgraLinePair",fr,4),we("UpsampleArgbLinePair",Pr,4),we("UpsampleRgba4444LinePair",nr,2),we("UpsampleRgb565LinePair",Wt,2);var Xw=k.UpsampleRgbLinePair,Zw=k.UpsampleBgrLinePair,s1=k.UpsampleRgbaLinePair,o1=k.UpsampleBgraLinePair,a1=k.UpsampleArgbLinePair,l1=k.UpsampleRgba4444LinePair,eb=k.UpsampleRgb565LinePair,Cc=16,Lc=1<<Cc-1,Il=-227,xf=482,u1=6,tb=(256<<u1)-1,c1=0,rb=s(256),nb=s(256),ib=s(256),sb=s(256),ob=s(xf-Il),ab=s(xf-Il);fi("YuvToRgbRow",pt,3),fi("YuvToBgrRow",$t,3),fi("YuvToRgbaRow",Un,4),fi("YuvToBgraRow",fr,4),fi("YuvToArgbRow",Pr,4),fi("YuvToRgba4444Row",nr,2),fi("YuvToRgb565Row",Wt,2);var h1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jc=[0,2,8],lb=[8,7,6,4,4,2,2,2,1,1,1,1],ub=1;this.WebPDecodeRGBA=function(u,h,m,x,C){var F=Nc,I=new Ko,M=new In;I.ba=M,M.S=F,M.width=[M.width],M.height=[M.height];var D=M.width,z=M.height,ee=new Pi;if(ee==null||u==null)var de=2;else e(ee!=null),de=Yo(u,h,m,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(de!=0?D=0:(D!=null&&(D[0]=ee.width[0]),z!=null&&(z[0]=ee.height[0]),D=1),D){M.width=M.width[0],M.height=M.height[0],x!=null&&(x[0]=M.width),C!=null&&(C[0]=M.height);e:{if(x=new Uo,(C=new wl).data=u,C.w=h,C.ha=m,C.kd=1,h=[0],e(C!=null),((u=Yo(C.data,C.w,C.ha,null,null,null,h,null,C))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(e(I!=null),x.data=C.data,x.w=C.w+C.offset,x.ha=C.ha-C.offset,x.put=oi,x.ac=br,x.bc=ai,x.ma=I,C.xa){if((u=bn())==null){I=1;break e}if(function(fe,se){var _e=[0],ve=[0],te=[0];t:for(;;){if(fe==null)return 0;if(se==null)return fe.a=2,0;if(fe.l=se,fe.a=0,H(fe.m,se.data,se.w,se.ha),!Ye(fe.m,_e,ve,te)){fe.a=3;break t}if(fe.xb=i1,se.width=_e[0],se.height=ve[0],!ci(_e[0],ve[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(u,x)){if(x=(h=Qo(x.width,x.height,I.Oa,I.ba))==0){t:{x=u;r:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((m=x.l)!=null),e((C=m.ma)!=null),x.xb!=0){if(x.ca=C.ba,x.tb=C.tb,e(x.ca!=null),!kl(C.Oa,m,kc)){x.a=2;break r}if(!Zs(x,m.width)||m.da)break r;if((m.da||vt(x.ca.S))&&ce(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&ce()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!Re(x.s.vb,x.s.Wa.Xa)){x.a=1;break r}x.xb=0}if(!$n(x,x.V,x.Ba,x.c,x.i,m.o,Oo))break r;C.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(h=u.a)}else h=u.a}else{if((u=new Gd)==null){I=1;break e}if(u.Fa=C.na,u.P=C.P,u.qc=C.Sa,tc(u,x)){if((h=Qo(x.width,x.height,I.Oa,I.ba))==0){if(u.Aa=0,m=I.Oa,e((C=u)!=null),m!=null){if(0<(D=0>(D=m.Md)?0:100<D?255:255*D/100)){for(z=ee=0;4>z;++z)12>(de=C.pb[z]).lc&&(de.ia=D*lb[0>de.lc?0:de.lc]>>3),ee|=de.ia;ee&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=m.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}Kd(u,x)||(h=u.a)}}else h=u.a}h==0&&I.Oa!=null&&I.Oa.fd&&(h=Al(I.ba))}I=h}F=I!=0?null:11>F?M.f.RGBA.eb:M.f.kb.y}else F=null;return F};var d1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,O){for(var U="",E=0;E<4;E++)U+=String.fromCharCode(k[O++]);return U}function d(k,O){return(k[O+0]<<0|k[O+1]<<8|k[O+2]<<16)>>>0}function f(k,O){return(k[O+0]<<0|k[O+1]<<8|k[O+2]<<16|k[O+3]<<24)>>>0}new l;var v=[0],p=[0],_=[],N=new l,A=t,y=function(k,O){var U={},E=0,j=!1,W=0,K=0;if(U.frames=[],!function($,V,J,Z){for(var ue=0;ue<Z;ue++)if($[V+ue]!=J.charCodeAt(ue))return!0;return!1}(k,O,"RIFF",4)){for(f(k,O+=4),O+=8;O<k.length;){var pe=c(k,O),he=f(k,O+=4);O+=4;var re=he+(1&he);switch(pe){case"VP8 ":case"VP8L":U.frames[E]===void 0&&(U.frames[E]={}),(ie=U.frames[E]).src_off=j?K:O-8,ie.src_size=W+he+8,E++,j&&(j=!1,W=0,K=0);break;case"VP8X":(ie=U.header={}).feature_flags=k[O];var H=O+4;ie.canvas_width=1+d(k,H),H+=3,ie.canvas_height=1+d(k,H),H+=3;break;case"ALPH":j=!0,W=re+8,K=O-8;break;case"ANIM":(ie=U.header).bgcolor=f(k,O),H=O+4,ie.loop_count=(me=k)[(P=H)+0]<<0|me[P+1]<<8,H+=2;break;case"ANMF":var Q,ie;(ie=U.frames[E]={}).offset_x=2*d(k,O),O+=3,ie.offset_y=2*d(k,O),O+=3,ie.width=1+d(k,O),O+=3,ie.height=1+d(k,O),O+=3,ie.duration=d(k,O),O+=3,Q=k[O++],ie.dispose=1&Q,ie.blend=Q>>1&1}pe!="ANMF"&&(O+=re)}var me,P;return U}}(A,0);y.response=A,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,S=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,v=[w.canvas_height],p=[w.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var B=S[0],Y=N.WebPDecodeRGBA(A,B.src_off,B.src_size,p,v);B.rgba=Y,B.imgwidth=p[0],B.imgheight=v[0];for(var R=0;R<p[0]*v[0]*4;R++)_[R]=Y[R];return this.width=p,this.height=v,this.data=_,this}(function(t){var e=function(){return typeof O0=="function"},r=function(v,p,_,N){var A=4,y=o;switch(N){case t.image_compression.FAST:A=1,y=s;break;case t.image_compression.MEDIUM:A=6,y=a;break;case t.image_compression.SLOW:A=9,y=l}v=n(v,p,_,y);var w=O0(v,{level:A});return t.__addimage__.arrayBufferToBinaryString(w)},n=function(v,p,_,N){for(var A,y,w,S=v.length/p,T=new Uint8Array(v.length+S),B=d(),Y=0;Y<S;Y+=1){if(w=Y*p,A=v.subarray(w,w+p),N)T.set(N(A,_,y),w+Y);else{for(var R,k=B.length,O=[];R<k;R+=1)O[R]=B[R](A,_,y);var U=f(O.concat());T.set(O[U],w+Y)}y=A}return T},i=function(v){var p=Array.apply([],v);return p.unshift(0),p},s=function(v,p){var _,N=[],A=v.length;N[0]=1;for(var y=0;y<A;y+=1)_=v[y-p]||0,N[y+1]=v[y]-_+256&255;return N},o=function(v,p,_){var N,A=[],y=v.length;A[0]=2;for(var w=0;w<y;w+=1)N=_&&_[w]||0,A[w+1]=v[w]-N+256&255;return A},a=function(v,p,_){var N,A,y=[],w=v.length;y[0]=3;for(var S=0;S<w;S+=1)N=v[S-p]||0,A=_&&_[S]||0,y[S+1]=v[S]+256-(N+A>>>1)&255;return y},l=function(v,p,_){var N,A,y,w,S=[],T=v.length;S[0]=4;for(var B=0;B<T;B+=1)N=v[B-p]||0,A=_&&_[B]||0,y=_&&_[B-p]||0,w=c(N,A,y),S[B+1]=v[B]-w+256&255;return S},c=function(v,p,_){if(v===p&&p===_)return v;var N=Math.abs(p-_),A=Math.abs(v-_),y=Math.abs(v+p-_-_);return N<=A&&N<=y?v:A<=y?p:_},d=function(){return[i,s,o,a,l]},f=function(v){var p=v.map(function(_){return _.reduce(function(N,A){return N+Math.abs(A)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(v,p,_,N){var A,y,w,S,T,B,Y,R,k,O,U,E,j,W,K,pe=this.decode.FLATE_DECODE,he="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(w=new WN(v)).imgData,y=w.bits,A=w.colorSpace,T=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){k=(R=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,U=new Uint8Array(k*w.colors),O=new Uint8Array(k);var re,H=w.pixelBitlength-w.bits;for(W=0,K=0;W<k;W++){for(j=R[W],re=0;re<H;)U[K++]=j>>>re&255,re+=w.bits;O[W]=j>>>re&255}}if(w.bits===16){k=(R=new Uint32Array(w.decodePixels().buffer)).length,U=new Uint8Array(k*(32/w.pixelBitlength)*w.colors),O=new Uint8Array(k*(32/w.pixelBitlength)),E=w.colors>1,W=0,K=0;for(var Q=0;W<k;)j=R[W++],U[K++]=j>>>0&255,E&&(U[K++]=j>>>16&255,j=R[W++],U[K++]=j>>>0&255),O[Q++]=j>>>16&255;y=8}N!==t.image_compression.NONE&&e()?(v=r(U,w.width*w.colors,w.colors,N),Y=r(O,w.width,1,N)):(v=U,Y=O,pe=void 0)}if(w.colorType===3&&(A=this.color_spaces.INDEXED,B=w.palette,w.transparency.indexed)){var ie=w.transparency.indexed,me=0;for(W=0,k=ie.length;W<k;++W)me+=ie[W];if((me/=255)===k-1&&ie.indexOf(0)!==-1)S=[ie.indexOf(0)];else if(me!==k){for(R=w.decodePixels(),O=new Uint8Array(R.length),W=0,k=R.length;W<k;W++)O[W]=ie[R[W]];Y=r(O,w.width,1)}}var P=function($){var V;switch($){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(N);return pe===this.decode.FLATE_DECODE&&(he="/Predictor "+P+" "),he+="/Colors "+T+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(Y&&this.__addimage__.isArrayBuffer(Y)||this.__addimage__.isArrayBufferView(Y))&&(Y=this.__addimage__.arrayBufferToBinaryString(Y)),{alias:_,data:v,index:p,filter:pe,decodeParameters:he,transparency:S,palette:B,sMask:Y,predictor:P,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:A}}}})(Qe.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new VN(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},d=new bp(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(Qe.API),Vn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ct.log("bit decode error:"+r)}},Vn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Vn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Vn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Vn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=c}this.pos+=t}},Vn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},Vn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Vn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},Vn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Vn(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new bp(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Qe.API),j2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new j2(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new bp(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Qe.API),Qe.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=n[c],f=n[c+1],v=n[c+2],p=n[c+3];s[a++]=d,s[a++]=f,s[a++]=v,o[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Qe.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ya=Qe.API,dh=ya.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=e.doKerning!==!1,v=0,p=t.length,_=0,N=a[0]||l,A=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(v=f&&St(c[n])==="object"&&!isNaN(parseInt(c[n][_],10))?c[n][_]/d:0,A.push((a[n]||N)/l+v)),_=n;return A},A2=ya.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ya.processArabic&&(t=ya.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:dh.apply(this,arguments).reduce(function(s,o){return s+o},0)},P2=function(t,e,r,n){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>n&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},C2=function(t,e,r){r||(r={});var n,i,s,o,a,l,c,d=[],f=[d],v=r.textIndent||0,p=0,_=0,N=t.split(" "),A=dh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];N.map(function(T){(T=T.split(/\s*\n/)).length>1?w=w.concat(T.map(function(B,Y){return(Y&&B.length?`
`:"")+B})):w.push(T[0])}),N=w,l=A2.apply(this,[y,r])}for(s=0,o=N.length;s<o;s++){var S=0;if(n=N[s],l&&n[0]==`
`&&(n=n.substr(1),S=1),v+p+(_=(i=dh.apply(this,[n,r])).reduce(function(T,B){return T+B},0))>e||S){if(_>e){for(a=P2.apply(this,[n,i,e-(v+p),e]),d.push(a.shift()),d=[a.pop()];a.length;)f.push([a.shift()]);_=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(T,B){return T+B},0)}else d=[n];f.push(d),v=_+l,p=A}else d.push(n),v+=p+_,p=A}return c=l?function(T,B){return(B?y:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(c)},ya.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(C2.apply(this,[n[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var v,p,_,N,A=["{"];for(var y in f){if(v=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof v=="number")v<0?(_=s(v).slice(3),N="-"):(_=s(v).slice(2),N=""),_=N+_.slice(0,-1)+n[_.slice(-1)];else{if(St(v)!=="object")throw new Error("Don't know what to do with value type "+St(v)+".");_=o(v)}A.push(p+_)}return A.push("}"),A.join("")},a=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,p,_,N,A={},y=1,w=A,S=[],T="",B="",Y=f.length-1,R=1;R<Y;R+=1)(N=f[R])=="'"?v?(_=v.join(""),v=void 0):v=[]:v?v.push(N):N=="{"?(S.push([w,_]),w={},_=void 0):N=="}"?((p=S.pop())[0][p[1]]=w,_=void 0,w=p[0]):N=="-"?y=-1:_===void 0?r.hasOwnProperty(N)?(T+=r[N],_=parseInt(T,16)*y,y=1,T=""):T+=N:r.hasOwnProperty(N)?(B+=r[N],w[_]=parseInt(B,16)*y,y=1,_=void 0,B=""):B+=N;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var v=f.font,p=d.Unicode[v.postScriptName];p&&(v.metadata.Unicode={},v.metadata.Unicode.widths=p.widths,v.metadata.Unicode.kerning=p.kerning);var _=c.Unicode[v.postScriptName];_&&(v.metadata.Unicode.encoding=_,v.encoding=_.codePages[0])}])}(Qe.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(yu(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Qe),function(t){function e(){return(Xe.canvg?Promise.resolve(Xe.canvg):Hs(()=>import("./index.es-D-KK5N_U.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Qe.API.addSvgAsImage=function(r,n,i,s,o,a,l,c){if(isNaN(n)||isNaN(i))throw Ct.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Ct.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(_){return _.fromString(f,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(v)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,i,s,o,l,c)})}}(),Qe.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Qe.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,d=0,f=0;function v(_,N){var A,y=!1;for(A=0;A<_.length;A+=1)_[A]===N&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(f=0;f<p;f+=1)r[a[f]].value=r[a[f]].defaultValue,r[a[f]].explicitSet=!1}if(St(t)==="object"){for(i in t)if(s=t[i],v(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,N=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?N.push("/"+_+" /"+r[_].value):N.push("/"+_+" "+r[_].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Qe.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,v=s.length;f<v;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},n=function(s){var o,a,l,c,d,f,v;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,v=(a=Object.keys(s).sort(function(p,_){return p-_})).length;f<v;f++)o=a[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",_=0;_<v.length;_++)p+=String.fromCharCode(v[_]);var N=c();d({data:p,addLength1:!0,objectId:N}),l("endobj");var A=c();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+xa(a.fontName)),l("/FontFile2 "+N+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+xa(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+xa(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,v="",p=0;p<f.length;p++)v+=String.fromCharCode(f[p]);var _=c();d({data:v,addLength1:!0,objectId:_}),l("endobj");var N=c();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var A=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+xa(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+xa(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,d=s.options||{},f=s.mutex||{},v=f.pdfEscape,p=f.activeFontKey,_=f.fonts,N=p,A="",y=0,w="",S=_[N].encoding;if(_[N].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:f};for(w=a,N=p,Array.isArray(a)&&(w=a[0]),y=0;y<w.length;y+=1)_[N].metadata.hasOwnProperty("cmap")&&(o=_[N].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&_[N].metadata.hasOwnProperty("Unicode")?A+=w[y]:A+="";var T="";return parseInt(N.slice(1))<14||S==="WinAnsiEncoding"?T=v(A,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=r(A,_[N])),f.isHex=!0,{text:T,x:l,y:c,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Qe),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Qe.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,a,l,c,d,f=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var T=function(E){var j=E.charCodeAt(),W=j>>8,K=N[W];return K!==void 0?f[256*K+(255&j)]:W===252||W===253?"AL":y.test(W)?"L":W===8?"R":"N"},B=function(E){for(var j,W=0;W<E.length;W++){if((j=T(E.charAt(W)))==="L")return!1;if(j==="R")return!0}return!1},Y=function(E,j,W,K){var pe,he,re,H,Q=j[K];switch(Q){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Q="AN");break;case"AL":w=!0,Q="R";break;case"WS":Q="N";break;case"CS":K<1||K+1>=j.length||(pe=W[K-1])!=="EN"&&pe!=="AN"||(he=j[K+1])!=="EN"&&he!=="AN"?Q="N":w&&(he="AN"),Q=he===pe?he:"N";break;case"ES":Q=(pe=K>0?W[K-1]:"B")==="EN"&&K+1<j.length&&j[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&W[K-1]==="EN"){Q="EN";break}if(w){Q="N";break}for(re=K+1,H=j.length;re<H&&j[re]==="ET";)re++;Q=re<H&&j[re]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=j.length,re=K+1;re<H&&j[re]==="NSM";)re++;if(re<H){var ie=E[K],me=ie>=1425&&ie<=2303||ie===64286;if(pe=j[re],me&&(pe==="R"||pe==="AL")){Q="R";break}}}Q=K<1||(pe=j[K-1])==="B"?"N":W[K-1];break;case"B":w=!1,i=!0,Q=S;break;case"S":s=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Q="N"}return Q},R=function(E,j,W){var K=E.split("");return W&&k(K,W,{hiLevel:S}),K.reverse(),j&&j.reverse(),K.join("")},k=function(E,j,W){var K,pe,he,re,H,Q=-1,ie=E.length,me=0,P=[],$=S?p:v,V=[];for(w=!1,i=!1,s=!1,pe=0;pe<ie;pe++)V[pe]=T(E[pe]);for(he=0;he<ie;he++){if(H=me,P[he]=Y(E,V,P,he),K=240&(me=$[H][_[P[he]]]),me&=15,j[he]=re=$[me][5],K>0)if(K===16){for(pe=Q;pe<he;pe++)j[pe]=1;Q=-1}else Q=-1;if($[me][6])Q===-1&&(Q=he);else if(Q>-1){for(pe=Q;pe<he;pe++)j[pe]=re;Q=-1}V[he]==="B"&&(j[he]=0),W.hiLevel|=re}s&&function(J,Z,ue){for(var oe=0;oe<ue;oe++)if(J[oe]==="S"){Z[oe]=S;for(var le=oe-1;le>=0&&J[le]==="WS";le--)Z[le]=S}}(V,j,ie)},O=function(E,j,W,K,pe){if(!(pe.hiLevel<E)){if(E===1&&S===1&&!i)return j.reverse(),void(W&&W.reverse());for(var he,re,H,Q,ie=j.length,me=0;me<ie;){if(K[me]>=E){for(H=me+1;H<ie&&K[H]>=E;)H++;for(Q=me,re=H-1;Q<re;Q++,re--)he=j[Q],j[Q]=j[re],j[re]=he,W&&(he=W[Q],W[Q]=W[re],W[re]=he);me=H}me++}}},U=function(E,j,W){var K=E.split(""),pe={hiLevel:S};return W||(W=[]),k(K,W,pe),function(he,re,H){if(H.hiLevel!==0&&d)for(var Q,ie=0;ie<he.length;ie++)re[ie]===1&&(Q=A.indexOf(he[ie]))>=0&&(he[ie]=A[Q+1])}(K,W,pe),O(2,K,j,W,pe),O(1,K,j,W,pe),K.join("")};return this.__bidiEngine__.doBidiReorder=function(E,j,W){if(function(pe,he){if(he)for(var re=0;re<pe.length;re++)he[re]=re;a===void 0&&(a=B(pe)),c===void 0&&(c=B(pe))}(E,j),o||!l||c)if(o&&l&&a^c)S=a?1:0,E=R(E,j,W);else if(!o&&l&&c)S=a?1:0,E=U(E,j,W),E=R(E,j);else if(!o||a||l||c){if(o&&!l&&a^c)E=R(E,j),a?(S=0,E=U(E,j,W)):(S=1,E=U(E,j,W),E=R(E,j));else if(o&&a&&!l&&c)S=1,E=U(E,j,W),E=R(E,j);else if(!o&&!l&&a^c){var K=d;a?(S=1,E=U(E,j,W),S=0,d=!1,E=U(E,j,W),d=K):(S=0,E=U(E,j,W),E=R(E,j),S=1,d=!1,E=U(E,j,W),d=K,E=R(E,j))}}else S=0,E=U(E,j,W);else S=a?1:0,E=U(E,j,W);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,c=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Qe),Qe.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Vs(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new a8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new GN(this.contents),this.head=new JN(this),this.name=new e8(this),this.cmap=new vw(this),this.toUnicode={},this.hhea=new YN(this),this.maxp=new t8(this),this.hmtx=new r8(this),this.post=new XN(this),this.os2=new QN(this),this.loca=new o8(this),this.glyf=new n8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ii,Vs=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),GN=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,a,l,c,d,f,v,p,_,N;for(N in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),d=16*p-f,(i=new Vs).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(d),s=16*p,c=i.pos+s,a=null,_=[],r)for(v=r[N],i.writeString(N),i.writeInt(t(v)),i.writeInt(c),i.writeInt(v.length),_=_.concat(v),N==="head"&&(a=c),c+=v.length;c%4;)_.push(0),c++;return i.write(_),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=ww.call(r);r.length%4;)r.push(0);for(s=new Vs(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),KN={}.hasOwnProperty,Ai=function(t,e){for(var r in e)KN.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ii=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var JN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Vs).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),E2=function(){function t(e,r){var n,i,s,o,a,l,c,d,f,v,p,_,N,A,y,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var T,B;for(B=[],l=T=0;0<=v?T<v:T>v;l=0<=v?++T:--T)B.push(e.readUInt16());return B}(),e.pos+=2,N=function(){var T,B;for(B=[],l=T=0;0<=v?T<v:T>v;l=0<=v?++T:--T)B.push(e.readUInt16());return B}(),c=function(){var T,B;for(B=[],l=T=0;0<=v?T<v:T>v;l=0<=v?++T:--T)B.push(e.readUInt16());return B}(),d=function(){var T,B;for(B=[],l=T=0;0<=v?T<v:T>v;l=0<=v?++T:--T)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,a=function(){var T,B;for(B=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)B.push(e.readUInt16());return B}(),l=y=0,S=s.length;y<S;l=++y)for(A=s[l],n=w=_=N[l];_<=A?w<=A:w>=A;n=_<=A?++w:--w)d[l]===0?o=n+c[l]:(o=a[d[l]/2+(n-_)-(v-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,i,s,o,a,l,c,d,f,v,p,_,N,A,y,w,S,T,B,Y,R,k,O,U,E,j,W,K,pe,he,re,H,Q,ie,me,P,$,V,J,Z,ue,oe,le,Ne,ye,Ce;switch(K=new Vs,o=Object.keys(e).sort(function(Le,Re){return Le-Re}),r){case"macroman":for(N=0,A=function(){var Le=[];for(_=0;_<256;++_)Le.push(0);return Le}(),w={0:0},s={},pe=0,Q=o.length;pe<Q;pe++)w[le=e[i=o[pe]]]==null&&(w[le]=++N),s[i]={old:e[i],new:w[e[i]]},A[i]=w[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(A),{charMap:s,subtable:K.data,maxGlyphID:N+1};case"unicode":for(j=[],f=[],S=0,w={},n={},y=c=null,he=0,ie=o.length;he<ie;he++)w[B=e[i=o[he]]]==null&&(w[B]=++S),n[i]={old:B,new:w[B]},a=w[B]-i,y!=null&&a===c||(y&&f.push(y),j.push(i),c=a),y=i;for(y&&f.push(y),f.push(65535),j.push(65535),U=2*(O=j.length),k=2*Math.pow(Math.log(O)/Math.LN2,2),v=Math.log(k/2)/Math.LN2,R=2*O-k,l=[],Y=[],p=[],_=re=0,me=j.length;re<me;_=++re){if(E=j[_],d=f[_],E===65535){l.push(0),Y.push(0);break}if(E-(W=n[E].new)>=32768)for(l.push(0),Y.push(2*(p.length+O-_)),i=H=E;E<=d?H<=d:H>=d;i=E<=d?++H:--H)p.push(n[i].new);else l.push(W-E),Y.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*O+2*p.length),K.writeUInt16(0),K.writeUInt16(U),K.writeUInt16(k),K.writeUInt16(v),K.writeUInt16(R),ue=0,P=f.length;ue<P;ue++)i=f[ue],K.writeUInt16(i);for(K.writeUInt16(0),oe=0,$=j.length;oe<$;oe++)i=j[oe],K.writeUInt16(i);for(Ne=0,V=l.length;Ne<V;Ne++)a=l[Ne],K.writeUInt16(a);for(ye=0,J=Y.length;ye<J;ye++)T=Y[ye],K.writeUInt16(T);for(Ce=0,Z=p.length;Ce<Z;Ce++)N=p[Ce],K.writeUInt16(N);return{charMap:n,subtable:K.data,maxGlyphID:S+1}}},t}(),vw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new E2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=E2.encode(r,n),(s=new Vs).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),YN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),QN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),XN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(r.readUInt32());return c}).call(this)}},e}(),ZN=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},e8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,o,a,l,c,d,f,v,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},o=f=0,v=i.length;f<v;o=++f)s=i[o],r.pos=s.offset,d=r.readString(s.length),a=new ZN(d,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),t8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),r8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,o,a,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,v,p;for(p=[],d=0,f=(v=this.metrics).length;d<f;d++)o=v[d],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),ww=[].slice,n8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,o,a,l,c,d,f,v;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,a=(l=new Vs(n.read(s))).readShort(),d=l.readShort(),v=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=a===-1?new s8(l,d,v,c,f):new i8(l,a,d,v,c,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=n.length;l<c;l++)s=r[n[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),i8=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),s8=function(){function t(e,r,n,i,s){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Vs(ww.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),o8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ai(e,ii),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<n.length&&n[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var d=new Array(4*i.length),f=0;f<i.length;++f)d[4*f+3]=255&i[f],d[4*f+2]=(65280&i[f])>>8,d[4*f+1]=(16711680&i[f])>>16,d[4*f]=(4278190080&i[f])>>24;return d},e}(),a8=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,a,l,c,d,f,v,p,_,N,A,y;for(i in n=vw.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},y=n.charMap)p[(l=y[i]).old]=l.new;for(_ in v=n.maxGlyphID,o)_ in p||(p[_]=v++);return d=function(w){var S,T;for(S in T={},w)T[w[S]]=S;return T}(p),f=Object.keys(d).sort(function(w,S){return w-S}),N=function(){var w,S,T;for(T=[],w=0,S=f.length;w<S;w++)a=f[w],T.push(d[a]);return T}(),s=this.font.glyf.encode(o,N,p),c=this.font.loca.encode(s.offsets,N),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();Qe.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)n=r[a],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();function bw(t,e,r,n,i){n=n||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=a*l,d=/\r\n|\r|\n/g,f="",v=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof t=="string"?t.split(d):t,v=f.length||1),r+=a*(2-s),n.valign==="middle"?r-=v/2*c:n.valign==="bottom"&&(r-=v*c),n.halign==="center"||n.halign==="right"){var p=a;if(n.halign==="center"&&(p*=.5),f&&v>=1){for(var _=0;_<f.length;_++)i.text(f[_],e-i.getStringUnitWidth(f[_])*p,r),r+=c;return i}e-=i.getStringUnitWidth(t)*p}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var T2={},Wa=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:T2=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=t.unifyColor(e.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return T2||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),z0=function(t,e){return z0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},z0(t,e)};function xw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sw=function(t){xw(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function l8(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function u8(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function cd(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function _w(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=Nw(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function Nw(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Ud(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function kw(t,e){var r=Ud(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function c8(t,e,r,n,i){var s={},o=1.3333333333333333,a=xp(e,function(S){return i.getComputedStyle(S).backgroundColor});a!=null&&(s.fillColor=a);var l=xp(e,function(S){return i.getComputedStyle(S).color});l!=null&&(s.textColor=l);var c=d8(n,r);c&&(s.cellPadding=c);var d="borderTopColor",f=o*r,v=n.borderTopWidth;if(n.borderBottomWidth===v&&n.borderRightWidth===v&&n.borderLeftWidth===v){var p=(parseFloat(v)||0)/f;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var _=xp(e,function(S){return i.getComputedStyle(S)[d]});_!=null&&(s.lineColor=_);var N=["left","right","center","justify"];N.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),N=["middle","bottom","top"],N.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(s.fontSize=A/o);var y=h8(n);y&&(s.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return t.indexOf(w)!==-1&&(s.font=w),s}function h8(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function xp(t,e){var r=Aw(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Aw(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Aw(t.parentElement,e):r}function d8(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(a){return parseInt(a||"0")/n}),o=Ud(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function Pw(t,e,r,n,i){var s,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=r.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),d=[],f=[],v=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:d,body:f,foot:v};for(var p=0;p<a.rows.length;p++){var _=a.rows[p],N=(o=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),A=f8(l,c,r,_,n,i);A&&(N==="thead"?d.push(A):N==="tfoot"?v.push(A):f.push(A))}return{head:d,body:f,foot:v}}function f8(t,e,r,n,i,s){for(var o=new Sw(n),a=0;a<n.cells.length;a++){var l=n.cells[a],c=r.getComputedStyle(l);if(i||c.display!=="none"){var d=void 0;s&&(d=c8(t,l,e,c,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:p8(l)})}}var f=r.getComputedStyle(n);if(o.length>0&&(i||f.display!=="none"))return o}function p8(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function g8(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Vi(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function Cw(t,e){var r=new Wa(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();g8(i,n,e);var s=Vi({},i,n,e),o;typeof window<"u"&&(o=window);var a=m8(i,n,e),l=y8(i,n,e),c=v8(r,s),d=b8(r,s,o);return{id:e.tableId,content:d,hooks:l,styles:a,settings:c}}function m8(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],d=e[l],f=r[l];n.columnStyles=Vi({},c,d,f)}else{var v=[t,e,r],p=v.map(function(_){return _[l]||{}});n[l]=Vi({},p[0],p[1],p[2])}},s=0,o=Object.keys(n);s<o.length;s++){var a=o[s];i(a)}return n}function y8(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function v8(t,e){var r,n,i,s,o,a,l,c,d,f,v,p,_=Ud(e.margin,40/t.scaleFactor()),N=(r=w8(t,e.startY))!==null&&r!==void 0?r:_.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var w=(s=e.useCss)!==null&&s!==void 0?s:!1,S=e.theme||(w?"plain":"striped"),T=!!e.horizontalPageBreak,B=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:w,theme:S,startY:N,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:A,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:T,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function w8(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function b8(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var a=Pw(t,e.html,r,o,e.useCss)||{};n=a.head||n,i=a.body||n,s=a.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||x8(n,i,s);return{columns:l,head:n,body:i,foot:s}}function x8(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(n)?a=n[parseInt(s)]:a=n[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var d={dataKey:c};i.push(d)}}),i}var q0=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),S8=function(t){xw(e,t);function e(r,n,i,s,o,a){var l=t.call(this,r,n,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(q0),_8=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,o){for(var a=0,l=r;a<l.length;a++){var c=l[a],d=new S8(e,this,n,i,s,o),f=c(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new q0(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new q0(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Lw=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Sw&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var o=n.cells[s.index];if(!o)return 0;var a=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>i?c:i},0)},t}(),jw=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Ud(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),N8=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function k8(t,e){A8(t,e);var r=[],n=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=H0(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=H0(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),C8(e),L8(e,t),P8(e)}function A8(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=kw(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var d=e.hooks.didParseCell;e.callCellHooks(t,d,c,s,l,null);var f=c.padding("horizontal");c.contentWidth=cd(c.text,c.styles,t)+f;var v=cd(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=v+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function H0(t,e,r){for(var n=e,i=t.reduce(function(p,_){return p+_.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=n*a,c=o.width+l,d=r(o),f=c<d?d:c;e-=f-o.width,o.width=f}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(p){return e<0?p.width>r(p):!0});v.length&&(e=H0(v,e,r))}return e}function P8(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-i,v=d.rowSpan>f?f:d.rowSpan;e[l.index]={cell:d,left:v,row:s}}}}}function C8(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function L8(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,d+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=F2(c.text,d,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=F2(c.text,d,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,d);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<v*c.rowSpan?r={height:v,count:c.rowSpan}:r&&r.count>0&&r.height>v&&(v=r.height),v>s.height&&(s.height=v)}}r.count--}}function F2(t,e,r,n,i){return t.map(function(s){return j8(s,e,r,n,i)})}function j8(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=cd(t,r,n))return t;for(;e<cd(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Ew(t,e){var r=new Wa(t),n=E8(e,r.scaleFactor()),i=new _8(e,n);return k8(r,i),r.applyStyles(r.userStyles),i}function E8(t,e){var r=t.content,n=F8(r.columns);if(r.head.length===0){var i=I2(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=I2(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:n,head:Sp("head",r.head,n,o,s,e),body:Sp("body",r.body,n,o,s,e),foot:Sp("foot",r.foot,n,o,s,e)}}function Sp(t,e,r,n,i,s){var o={},a=e.map(function(l,c){for(var d=0,f={},v=0,p=0,_=0,N=r;_<N.length;_++){var A=N[_];if(o[A.index]==null||o[A.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[A.index-v-d]:y=l[A.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var S=I8(t,A,c,i,n,s,w),T=new jw(y,S,t);f[A.dataKey]=T,f[A.index]=T,p=T.colSpan-1,o[A.index]={left:T.rowSpan-1,times:p}}else p--,v++;else o[A.index].left--,p=o[A.index].times,d++}return new Lw(l,c,t,f)});return a}function I2(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=T8(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function T8(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function F8(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new N8(i,e,r)})}function I8(t,e,r,n,i,s,o){var a=u8(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=Vi({},a.table,a[t],i.styles,l),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=t==="body"?d:{},v=t==="body"&&r%2===0?Vi({},a.alternateRow,i.alternateRowStyles):{},p=l8(s),_=Vi({},p,c,v,f);return Vi(_,o)}function O8(t,e,r){var n;r===void 0&&(r={});var i=kw(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var p=e.columns.find(function(_){return _.dataKey===v||_.index===v});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var c=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(s.has(d)){d++;continue}var f=e.columns[d].wrappedWidth;if(c||i>=f)c=!1,o.push(d),a.push(e.columns[d]),i-=f;else break;d++}return{colIndexes:o,columns:a,lastIndex:d-1}}function R8(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=O8(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function Tw(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=n+i.bottom+o;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(v,p){return v+p.height},0);a+=c}var d=new Wa(t);(r.pageBreak==="always"||r.startY!=null&&a>d.pageSize().height)&&(Iw(d),s.y=i.top),e.callWillDrawPageHooks(d,s);var f=Vi({},s);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?M8(d,e,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(v){return es(d,e,v,s,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(v,p){var _=p===e.body.length-1;hd(d,e,v,_,f,s,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(v){return es(d,e,v,s,e.columns)})),_w(d,e,f,s),e.callEndPageHooks(d,s),e.finalY=s.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function M8(t,e,r,n){var i=R8(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,d){t.applyStyles(t.userStyles),d>0?vu(t,e,r,n,c.columns,!0):O2(t,e,n,c.columns),$8(t,e,r,n,c.columns),_p(t,e,n,c.columns)});else for(var o=-1,a=i[0],l=function(){var c=o;if(a){t.applyStyles(t.userStyles);var d=a.columns;o>=0?vu(t,e,r,n,d,!0):O2(t,e,n,d),c=R2(t,e,o+1,n,d),_p(t,e,n,d)}var f=c-o;i.slice(1).forEach(function(v){t.applyStyles(t.userStyles),vu(t,e,r,n,v.columns,!0),R2(t,e,o+1,n,v.columns,f),_p(t,e,n,v.columns)}),o=c};o<e.body.length-1;)l()}function O2(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return es(t,e,s,r,n)})}function $8(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;hd(t,e,s,a,r,n,i)})}function R2(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(r+s,e.body.length),a=-1;return e.body.slice(r,o).forEach(function(l,c){var d=r+c===e.body.length-1,f=Fw(t,e,d,n);l.canEntireRowFit(f,i)&&(es(t,e,l,n,i),a=r+c)}),a}function _p(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return es(t,e,s,r,n)})}function D8(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function B8(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=r.columns;o<a.length;o++){var l=a[o],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var d=new jw(c.raw,c.styles,c.section);d=Vi(d,c),d.text=[];var f=D8(c,e,n);c.text.length>f&&(d.text=c.text.splice(f,c.text.length));var v=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(v,p),c.contentHeight>=e&&(c.contentHeight=e,d.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),d.contentHeight=d.getContentHeight(v,p),d.contentHeight>s&&(s=d.contentHeight),i[l.index]=d}}var _=new Lw(t.raw,-1,t.section,i,!0);_.height=s;for(var N=0,A=r.columns;N<A.length;N++){var l=A[N],d=_.cells[l.index];d&&(d.height=_.height);var c=t.cells[l.index];c&&(c.height=t.height)}return _}function U8(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var d=e.hasRowSpan(n.columns),f=e.getMaxCellHeight(n.columns)>a;return f?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function hd(t,e,r,n,i,s,o){var a=Fw(t,e,n,s);if(r.canEntireRowFit(a,o))es(t,e,r,s,o);else if(U8(t,r,a,e)){var l=B8(r,a,e,t);es(t,e,r,s,o),vu(t,e,i,s,o),hd(t,e,l,n,i,s,o)}else vu(t,e,i,s,o),hd(t,e,r,n,i,s,o)}function es(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=r.cells[a.index];if(!l){n.x+=a.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,a,n);if(c===!1){n.x+=a.width;continue}z8(t,l,n);var d=l.getTextPos();bw(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,a,n),n.x+=a.width}n.y+=r.height}function z8(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=Nw(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),q8(t,e,r,n.lineWidth))}function q8(t,e,r,n){var i,s,o,a;n.top&&(i=r.x,s=r.y,o=r.x+e.width,a=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,o,a)),n.bottom&&(i=r.x,s=r.y+e.height,o=r.x+e.width,a=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,o,a)),n.left&&(i=r.x,s=r.y,o=r.x,a=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.left,i,s,o,a)),n.right&&(i=r.x+e.width,s=r.y,o=r.x+e.width,a=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.right,i,s,o,a));function l(c,d,f,v,p){t.getDocument().setLineWidth(c),t.getDocument().line(d,f,v,p,"S")}}function Fw(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function vu(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return es(t,e,a,n,i)}),e.callEndPageHooks(t,n);var o=e.settings.margin;_w(t,e,r,n),Iw(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return es(t,e,a,n,i)}),t.applyStyles(t.userStyles))}function Iw(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function H8(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=Cw(this,n),s=Ew(this,i);return Tw(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){bw(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Wa.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Wa.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Wa(this),s=Pw(i,e,window,r,!1),o=s.head,a=s.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var Np;function W8(t,e){var r=Cw(t,e),n=Ew(t,r);Tw(t,n)}try{if(typeof window<"u"&&window){var M2=window,$2=M2.jsPDF||((Np=M2.jspdf)===null||Np===void 0?void 0:Np.jsPDF);$2&&H8($2)}}catch(t){console.error("Could not apply autoTable plugin",t)}var Ow={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(mn,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,a={},l=0,c={};function d(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var U=B(O);U.chunkSize=parseInt(U.chunkSize),O.step||O.chunk||(U.chunkSize=null),this._handle=new N(U),(this._handle.streamer=this)._config=U}).call(this,k),this.parseChunk=function(O,U){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let W=this._config.newline;W||(j=this._config.quoteChar||'"',W=this._handle.guessLineEndings(O,j)),O=[...O.split(W).slice(E)].join(W)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(O))!==void 0&&(O=j),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+O,j=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=j.meta.cursor,E=(this._finished||(this._partialLine=E.substring(O-this._baseIndex),this._baseIndex=O),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:j,workerId:c.WORKER_ID,finished:E});else if(R(this._config.chunk)&&!U){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!E||!R(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(O){R(this._config.error)?this._config.error(O):o&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:O,finished:!1})}}function f(k){var O;(k=k||{}).chunkSize||(k.chunkSize=c.RemoteChunkSize),d.call(this,k),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),s||(O.onload=Y(this._chunkLoaded,this),O.onerror=Y(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var U,E=this._config.downloadRequestHeaders;for(U in E)O.setRequestHeader(U,E[U])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+j));try{O.send(this._config.downloadRequestBody)}catch(W){this._chunkError(W.message)}s&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(U){U=O.statusText||U,this._sendError(new Error(U))}}function v(k){(k=k||{}).chunkSize||(k.chunkSize=c.LocalChunkSize),d.call(this,k);var O,U,E=typeof FileReader<"u";this.stream=function(j){this._input=j,U=j.slice||j.webkitSlice||j.mozSlice,E?((O=new FileReader).onload=Y(this._chunkLoaded,this),O.onerror=Y(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,W=(this._config.chunkSize&&(W=Math.min(this._start+this._config.chunkSize,this._input.size),j=U.call(j,this._start,W)),O.readAsText(j,this._config.encoding));E||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(O.error)}}function p(k){var O;d.call(this,k=k||{}),this.stream=function(U){return O=U,this._nextChunk()},this._nextChunk=function(){var U,E;if(!this._finished)return U=this._config.chunkSize,O=U?(E=O.substring(0,U),O.substring(U)):(E=O,""),this._finished=!O,this.parseChunk(E)}}function _(k){d.call(this,k=k||{});var O=[],U=!0,E=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):U=!0},this._streamData=Y(function(j){try{O.push(typeof j=="string"?j:j.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(W){this._streamError(W)}},this),this._streamError=Y(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=Y(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(k){var O,U,E,j,W=Math.pow(2,53),K=-W,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,he=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,re=this,H=0,Q=0,ie=!1,me=!1,P=[],$={data:[],errors:[],meta:{}};function V(oe){return k.skipEmptyLines==="greedy"?oe.join("").trim()==="":oe.length===1&&oe[0].length===0}function J(){if($&&E&&(ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),k.skipEmptyLines&&($.data=$.data.filter(function(ye){return!V(ye)})),Z()){let ye=function(Ce,Le){R(k.transformHeader)&&(Ce=k.transformHeader(Ce,Le)),P.push(Ce)};if($)if(Array.isArray($.data[0])){for(var oe=0;Z()&&oe<$.data.length;oe++)$.data[oe].forEach(ye);$.data.splice(0,1)}else $.data.forEach(ye)}function le(ye,Ce){for(var Le=k.header?{}:[],Re=0;Re<ye.length;Re++){var ge=Re,q=ye[Re],q=((We,Ae)=>(be=>(k.dynamicTypingFunction&&k.dynamicTyping[be]===void 0&&(k.dynamicTyping[be]=k.dynamicTypingFunction(be)),(k.dynamicTyping[be]||k.dynamicTyping)===!0))(We)?Ae==="true"||Ae==="TRUE"||Ae!=="false"&&Ae!=="FALSE"&&((be=>{if(pe.test(be)&&(be=parseFloat(be),K<be&&be<W))return 1})(Ae)?parseFloat(Ae):he.test(Ae)?new Date(Ae):Ae===""?null:Ae):Ae)(ge=k.header?Re>=P.length?"__parsed_extra":P[Re]:ge,q=k.transform?k.transform(q,ge):q);ge==="__parsed_extra"?(Le[ge]=Le[ge]||[],Le[ge].push(q)):Le[ge]=q}return k.header&&(Re>P.length?ue("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+Re,Q+Ce):Re<P.length&&ue("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+Re,Q+Ce)),Le}var Ne;$&&(k.header||k.dynamicTyping||k.transform)&&(Ne=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(le),Ne=$.data.length):$.data=le($.data,0),k.header&&$.meta&&($.meta.fields=P),Q+=Ne)}function Z(){return k.header&&P.length===0}function ue(oe,le,Ne,ye){oe={type:oe,code:le,message:Ne},ye!==void 0&&(oe.row=ye),$.errors.push(oe)}R(k.step)&&(j=k.step,k.step=function(oe){$=oe,Z()?J():(J(),$.data.length!==0&&(H+=oe.data.length,k.preview&&H>k.preview?U.abort():($.data=$.data[0],j($,re))))}),this.parse=function(oe,le,Ne){var ye=k.quoteChar||'"',ye=(k.newline||(k.newline=this.guessLineEndings(oe,ye)),E=!1,k.delimiter?R(k.delimiter)&&(k.delimiter=k.delimiter(oe),$.meta.delimiter=k.delimiter):((ye=((Ce,Le,Re,ge,q)=>{var We,Ae,be,Ee;q=q||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Fe=0;Fe<q.length;Fe++){for(var Te,ze=q[Fe],qe=0,Ge=0,He=0,Ze=(be=void 0,new y({comments:ge,delimiter:ze,newline:Le,preview:10}).parse(Ce)),ut=0;ut<Ze.data.length;ut++)Re&&V(Ze.data[ut])?He++:(Te=Ze.data[ut].length,Ge+=Te,be===void 0?be=Te:0<Te&&(qe+=Math.abs(Te-be),be=Te));0<Ze.data.length&&(Ge/=Ze.data.length-He),(Ae===void 0||qe<=Ae)&&(Ee===void 0||Ee<Ge)&&1.99<Ge&&(Ae=qe,We=ze,Ee=Ge)}return{successful:!!(k.delimiter=We),bestDelimiter:We}})(oe,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=ye.bestDelimiter:(E=!0,k.delimiter=c.DefaultDelimiter),$.meta.delimiter=k.delimiter),B(k));return k.preview&&k.header&&ye.preview++,O=oe,U=new y(ye),$=U.parse(O,le,Ne),J(),ie?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,U.abort(),O=R(k.chunk)?"":O.substring(U.getCharIndex())},this.resume=function(){re.streamer._halted?(ie=!1,re.streamer.parseChunk(O,!0)):setTimeout(re.resume,3)},this.aborted=function(){return me},this.abort=function(){me=!0,U.abort(),$.meta.aborted=!0,R(k.complete)&&k.complete($),O=""},this.guessLineEndings=function(Ce,ye){Ce=Ce.substring(0,1048576);var ye=new RegExp(A(ye)+"([^]*?)"+A(ye),"gm"),Ne=(Ce=Ce.replace(ye,"")).split("\r"),ye=Ce.split(`
`),Ce=1<ye.length&&ye[0].length<Ne[0].length;if(Ne.length===1||Ce)return`
`;for(var Le=0,Re=0;Re<Ne.length;Re++)Ne[Re][0]===`
`&&Le++;return Le>=Ne.length/2?`\r
`:"\r"}}function A(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(k){var O=(k=k||{}).delimiter,U=k.newline,E=k.comments,j=k.step,W=k.preview,K=k.fastMode,pe=null,he=!1,re=k.quoteChar==null?'"':k.quoteChar,H=re;if(k.escapeChar!==void 0&&(H=k.escapeChar),(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=","),E===O)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var Q=0,ie=!1;this.parse=function(me,P,$){if(typeof me!="string")throw new Error("Input must be a string");var V=me.length,J=O.length,Z=U.length,ue=E.length,oe=R(j),le=[],Ne=[],ye=[],Ce=Q=0;if(!me)return qe();if(K||K!==!1&&me.indexOf(re)===-1){for(var Le=me.split(U),Re=0;Re<Le.length;Re++){if(ye=Le[Re],Q+=ye.length,Re!==Le.length-1)Q+=U.length;else if($)return qe();if(!E||ye.substring(0,ue)!==E){if(oe){if(le=[],Ee(ye.split(O)),Ge(),ie)return qe()}else Ee(ye.split(O));if(W&&W<=Re)return le=le.slice(0,W),qe(!0)}}return qe()}for(var ge=me.indexOf(O,Q),q=me.indexOf(U,Q),We=new RegExp(A(H)+A(re),"g"),Ae=me.indexOf(re,Q);;)if(me[Q]===re)for(Ae=Q,Q++;;){if((Ae=me.indexOf(re,Ae+1))===-1)return $||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:Q}),Te();if(Ae===V-1)return Te(me.substring(Q,Ae).replace(We,re));if(re===H&&me[Ae+1]===H)Ae++;else if(re===H||Ae===0||me[Ae-1]!==H){ge!==-1&&ge<Ae+1&&(ge=me.indexOf(O,Ae+1));var be=Fe((q=q!==-1&&q<Ae+1?me.indexOf(U,Ae+1):q)===-1?ge:Math.min(ge,q));if(me.substr(Ae+1+be,J)===O){ye.push(me.substring(Q,Ae).replace(We,re)),me[Q=Ae+1+be+J]!==re&&(Ae=me.indexOf(re,Q)),ge=me.indexOf(O,Q),q=me.indexOf(U,Q);break}if(be=Fe(q),me.substring(Ae+1+be,Ae+1+be+Z)===U){if(ye.push(me.substring(Q,Ae).replace(We,re)),ze(Ae+1+be+Z),ge=me.indexOf(O,Q),Ae=me.indexOf(re,Q),oe&&(Ge(),ie))return qe();if(W&&le.length>=W)return qe(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:Q}),Ae++}}else if(E&&ye.length===0&&me.substring(Q,Q+ue)===E){if(q===-1)return qe();Q=q+Z,q=me.indexOf(U,Q),ge=me.indexOf(O,Q)}else if(ge!==-1&&(ge<q||q===-1))ye.push(me.substring(Q,ge)),Q=ge+J,ge=me.indexOf(O,Q);else{if(q===-1)break;if(ye.push(me.substring(Q,q)),ze(q+Z),oe&&(Ge(),ie))return qe();if(W&&le.length>=W)return qe(!0)}return Te();function Ee(He){le.push(He),Ce=Q}function Fe(He){var Ze=0;return Ze=He!==-1&&(He=me.substring(Ae+1,He))&&He.trim()===""?He.length:Ze}function Te(He){return $||(He===void 0&&(He=me.substring(Q)),ye.push(He),Q=V,Ee(ye),oe&&Ge()),qe()}function ze(He){Q=He,Ee(ye),ye=[],q=me.indexOf(U,Q)}function qe(He){if(k.header&&!P&&le.length&&!he){var Ze=le[0],ut=Object.create(null),Je=new Set(Ze);let lt=!1;for(let Ie=0;Ie<Ze.length;Ie++){let kt=Ze[Ie];if(ut[kt=R(k.transformHeader)?k.transformHeader(kt,Ie):kt]){let ct,Wr=ut[kt];for(;ct=kt+"_"+Wr,Wr++,Je.has(ct););Je.add(ct),Ze[Ie]=ct,ut[kt]++,lt=!0,(pe=pe===null?{}:pe)[ct]=kt}else ut[kt]=1,Ze[Ie]=kt;Je.add(kt)}lt&&console.warn("Duplicate headers found and renamed."),he=!0}return{data:le,errors:Ne,meta:{delimiter:O,linebreak:U,aborted:ie,truncated:!!He,cursor:Ce+(P||0),renamedHeaders:pe}}}function Ge(){j(qe()),le=[],Ne=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return Q}}function w(k){var O=k.data,U=a[O.workerId],E=!1;if(O.error)U.userError(O.error,O.file);else if(O.results&&O.results.data){var j={abort:function(){E=!0,S(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(R(U.userStep)){for(var W=0;W<O.results.data.length&&(U.userStep({data:O.results.data[W],errors:O.results.errors,meta:O.results.meta},j),!E);W++);delete O.results}else R(U.userChunk)&&(U.userChunk(O.results,j,O.file),delete O.results)}O.finished&&!E&&S(O.workerId,O.results)}function S(k,O){var U=a[k];R(U.userComplete)&&U.userComplete(O),U.terminate(),delete a[k]}function T(){throw new Error("Not implemented.")}function B(k){if(typeof k!="object"||k===null)return k;var O,U=Array.isArray(k)?[]:{};for(O in k)U[O]=B(k[O]);return U}function Y(k,O){return function(){k.apply(O,arguments)}}function R(k){return typeof k=="function"}return c.parse=function(k,O){var U=(O=O||{}).dynamicTyping||!1;if(R(U)&&(O.dynamicTypingFunction=U,U={}),O.dynamicTyping=U,O.transform=!!R(O.transform)&&O.transform,!O.worker||!c.WORKERS_SUPPORTED)return U=null,c.NODE_STREAM_INPUT,typeof k=="string"?(k=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(k),U=new(O.download?f:p)(O)):k.readable===!0&&R(k.read)&&R(k.on)?U=new _(O):(n.File&&k instanceof File||k instanceof Object)&&(U=new v(O)),U.stream(k);(U=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var j=n.URL||n.webkitURL||null,W=r.toString();return c.BLOB_URL||(c.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=w,E.id=l++,a[E.id]=E)})()).userStep=O.step,U.userChunk=O.chunk,U.userComplete=O.complete,U.userError=O.error,O.step=R(O.step),O.chunk=R(O.chunk),O.complete=R(O.complete),O.error=R(O.error),delete O.worker,U.postMessage({input:k,config:O,workerId:U.id})},c.unparse=function(k,O){var U=!1,E=!0,j=",",W=`\r
`,K='"',pe=K+K,he=!1,re=null,H=!1,Q=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||c.BAD_DELIMITERS.filter(function(P){return O.delimiter.indexOf(P)!==-1}).length||(j=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(U=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(he=O.skipEmptyLines),typeof O.newline=="string"&&(W=O.newline),typeof O.quoteChar=="string"&&(K=O.quoteChar),typeof O.header=="boolean"&&(E=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");re=O.columns}O.escapeChar!==void 0&&(pe=O.escapeChar+K),O.escapeFormulae instanceof RegExp?H=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(H=/^[=+\-@\t\r].*$/)}})(),new RegExp(A(K),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return ie(null,k,he);if(typeof k[0]=="object")return ie(re||Object.keys(k[0]),k,he)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||re),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),ie(k.fields||[],k.data||[],he);throw new Error("Unable to serialize unrecognized input");function ie(P,$,V){var J="",Z=(typeof P=="string"&&(P=JSON.parse(P)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(P)&&0<P.length),ue=!Array.isArray($[0]);if(Z&&E){for(var oe=0;oe<P.length;oe++)0<oe&&(J+=j),J+=me(P[oe],oe);0<$.length&&(J+=W)}for(var le=0;le<$.length;le++){var Ne=(Z?P:$[le]).length,ye=!1,Ce=Z?Object.keys($[le]).length===0:$[le].length===0;if(V&&!Z&&(ye=V==="greedy"?$[le].join("").trim()==="":$[le].length===1&&$[le][0].length===0),V==="greedy"&&Z){for(var Le=[],Re=0;Re<Ne;Re++){var ge=ue?P[Re]:Re;Le.push($[le][ge])}ye=Le.join("").trim()===""}if(!ye){for(var q=0;q<Ne;q++){0<q&&!Ce&&(J+=j);var We=Z&&ue?P[q]:q;J+=me($[le][We],q)}le<$.length-1&&(!V||0<Ne&&!Ce)&&(J+=W)}}return J}function me(P,$){var V,J;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(J=!1,H&&typeof P=="string"&&H.test(P)&&(P="'"+P,J=!0),V=P.toString().replace(Q,pe),(J=J||U===!0||typeof U=="function"&&U(P,$)||Array.isArray(U)&&U[$]||((Z,ue)=>{for(var oe=0;oe<ue.length;oe++)if(-1<Z.indexOf(ue[oe]))return!0;return!1})(V,c.BAD_DELIMITERS)||-1<V.indexOf(j)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?K+V+K:V)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=N,c.NetworkStreamer=f,c.FileStreamer=v,c.StringStreamer=p,c.ReadableStreamStreamer=_,n.jQuery&&((i=n.jQuery).fn.parse=function(k){var O=k.config||{},U=[];return this.each(function(W){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)U.push({file:this.files[K],inputElem:this,instanceConfig:i.extend({},O)})}),E(),this;function E(){if(U.length===0)R(k.complete)&&k.complete();else{var W,K,pe,he,re=U[0];if(R(k.before)){var H=k.before(re.file,re.inputElem);if(typeof H=="object"){if(H.action==="abort")return W="AbortError",K=re.file,pe=re.inputElem,he=H.reason,void(R(k.error)&&k.error({name:W},K,pe,he));if(H.action==="skip")return void j();typeof H.config=="object"&&(re.instanceConfig=i.extend(re.instanceConfig,H.config))}else if(H==="skip")return void j()}var Q=re.instanceConfig.complete;re.instanceConfig.complete=function(ie){R(Q)&&Q(ie,re.file,re.inputElem),j()},c.parse(re.file,re.instanceConfig)}}function j(){U.splice(0,1),E()}}),o&&(n.onmessage=function(k){k=k.data,c.WORKER_ID===void 0&&k&&(c.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=c.parse(k.input,k.config))&&n.postMessage({workerId:c.WORKER_ID,results:k,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(v.prototype=Object.create(d.prototype)).constructor=v,(p.prototype=Object.create(p.prototype)).constructor=p,(_.prototype=Object.create(d.prototype)).constructor=_,c})})(Ow);var V8=Ow.exports;const G8=xb(V8);class Es{static exportToPDF(e){try{if(console.log(" ExportService: Exporting PDF with data:",e),console.log(" ExportService: Summary data:",e.summary),!e.summary||!e.summary.statement1||!e.summary.statement2)throw new Error("Invalid summary data for PDF export");const r=new Qe;r.setFontSize(20),r.text("Bank Statement Comparison Report",20,20),r.setFontSize(14),r.text(`${e.statement1Name} vs ${e.statement2Name}`,20,35),r.text(`Generated on: ${e.comparisonDate}`,20,45),r.setFontSize(16),r.text("Summary",20,65),r.setFontSize(12),r.text(`${e.statement1Name}:`,20,80),r.text(`  Withdrawals: $${e.summary.statement1.totalWithdrawals.toFixed(2)}`,30,90),r.text(`  Deposits: $${e.summary.statement1.totalDeposits.toFixed(2)}`,30,100),r.text(`${e.statement2Name}:`,20,115),r.text(`  Withdrawals: $${e.summary.statement2.totalWithdrawals.toFixed(2)}`,30,125),r.text(`  Deposits: $${e.summary.statement2.totalDeposits.toFixed(2)}`,30,135),r.setFontSize(16),r.text("Category Breakdown",20,155);const n=e.categories.map(o=>[o.category,`$${o.statement1.toFixed(2)}`,`$${o.statement2.toFixed(2)}`,`${o.difference>0?"+":""}$${o.difference.toFixed(2)}`,`${o.percentChange.toFixed(1)}%`]);W8(r,{head:[["Category","Statement 1","Statement 2","Difference","Change %"]],body:n,startY:165,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[66,139,202],textColor:255}});const i=r.getNumberOfPages();for(let o=1;o<=i;o++)r.setPage(o),r.setFontSize(10),r.text(`Page ${o} of ${i}`,190,280,{align:"right"});const s=`comparison_${e.statement1Name}_vs_${e.statement2Name}_${new Date().toISOString().split("T")[0]}.pdf`;r.save(s)}catch(r){throw console.error(" ExportService: Error exporting PDF:",r),r}}static exportToCSV(e){try{if(console.log(" ExportService: Exporting CSV with data:",e),console.log(" ExportService: Summary data:",e.summary),!e.summary||!e.summary.statement1||!e.summary.statement2)throw new Error("Invalid summary data for CSV export");const r=[];r.push(["Bank Statement Comparison Report"]),r.push([`${e.statement1Name} vs ${e.statement2Name}`]),r.push([`Generated on: ${e.comparisonDate}`]),r.push([]),r.push(["Summary"]),r.push(["Statement","Withdrawals","Deposits"]),r.push([e.statement1Name,e.summary.statement1.totalWithdrawals.toFixed(2),e.summary.statement1.totalDeposits.toFixed(2)]),r.push([e.statement2Name,e.summary.statement2.totalWithdrawals.toFixed(2),e.summary.statement2.totalDeposits.toFixed(2)]),r.push([]),r.push(["Category Breakdown"]),r.push(["Category","Statement 1","Statement 2","Difference","Change %"]),e.categories.forEach(a=>{r.push([a.category,a.statement1.toFixed(2),a.statement2.toFixed(2),a.difference.toFixed(2),a.percentChange.toFixed(1)])}),r.push([]),r.push(["Detailed Transactions"]),r.push(["Category","Statement","Date","Description","Amount","Type"]),e.categories.forEach(a=>{a.transactions1&&Array.isArray(a.transactions1)&&a.transactions1.forEach(l=>{r.push([a.category,e.statement1Name,l.date,l.description,l.amount.toFixed(2),l.type])}),a.transactions2&&Array.isArray(a.transactions2)&&a.transactions2.forEach(l=>{r.push([a.category,e.statement2Name,l.date,l.description,l.amount.toFixed(2),l.type])})});const n=G8.unparse(r),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),o=URL.createObjectURL(i);s.setAttribute("href",o),s.setAttribute("download",`comparison_${e.statement1Name}_vs_${e.statement2Name}_${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(r){throw console.error(" ExportService: Error exporting CSV:",r),r}}static prepareExportData(e,r,n,i){var v,p,_,N,A,y,w,S;console.log(" ExportService: prepareExportData called with:",{categoriesCount:e.length,statement1Name:r,statement2Name:n,hasApiResult:!!i,apiResultKeys:i?Object.keys(i):null});let s=0,o=0,a=0,l=0;e.forEach(T=>{var B,Y;console.log(" ExportService: Processing category:",T.category,{hasTransactions1:!!T.transactions1,transactions1Count:((B=T.transactions1)==null?void 0:B.length)||0,hasTransactions2:!!T.transactions2,transactions2Count:((Y=T.transactions2)==null?void 0:Y.length)||0}),T.transactions1&&Array.isArray(T.transactions1)&&T.transactions1.forEach(R=>{console.log(" ExportService: Processing statement1 transaction:",{type:R.type,amount:R.amount,description:R.description}),R.type==="debit"||R.type==="withdrawal"?s+=R.amount:(R.type==="credit"||R.type==="deposit")&&(o+=R.amount)}),T.transactions2&&Array.isArray(T.transactions2)&&T.transactions2.forEach(R=>{console.log(" ExportService: Processing statement2 transaction:",{type:R.type,amount:R.amount,description:R.description}),R.type==="debit"||R.type==="withdrawal"?a+=R.amount:(R.type==="credit"||R.type==="deposit")&&(l+=R.amount)})}),console.log(" ExportService: Calculated totals:",{statement1Withdrawals:s,statement1Deposits:o,statement2Withdrawals:a,statement2Deposits:l});let c={statement1:{totalWithdrawals:((p=(v=i==null?void 0:i.statement1)==null?void 0:v.summary)==null?void 0:p.totalWithdrawals)||s,totalDeposits:((N=(_=i==null?void 0:i.statement1)==null?void 0:_.summary)==null?void 0:N.totalDeposits)||o},statement2:{totalWithdrawals:((y=(A=i==null?void 0:i.statement2)==null?void 0:A.summary)==null?void 0:y.totalWithdrawals)||a,totalDeposits:((S=(w=i==null?void 0:i.statement2)==null?void 0:w.summary)==null?void 0:S.totalDeposits)||l}};if(c.statement1.totalWithdrawals===0&&c.statement1.totalDeposits===0){console.log(" ExportService: No transaction data, estimating from category totals");const T=e.reduce((k,O)=>k+(O.statement1||0),0),B=e.reduce((k,O)=>k+(O.statement2||0),0),R=e.filter(k=>k.category.toLowerCase().includes("income")||k.category.toLowerCase().includes("salary")||k.category.toLowerCase().includes("payment")).reduce((k,O)=>k+(O.statement1||0),0);c={statement1:{totalWithdrawals:T-R,totalDeposits:R},statement2:{totalWithdrawals:B-R,totalDeposits:R}}}const d=c;console.log(" ExportService: Final summary:",d);const f=e.map(T=>({category:T.category,statement1:T.statement1,statement2:T.statement2,difference:T.difference,percentChange:T.percentChange,transactions1:T.transactions1||[],transactions2:T.transactions2||[]}));return{statement1Name:r,statement2Name:n,comparisonDate:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),categories:f,summary:d}}}function Rw({isDark:t,context:e="general",onClose:r}){const[n,i]=ae.useState(!1),[s,o]=ae.useState(""),[a,l]=ae.useState(!1),[c,d]=ae.useState("idle"),f=async p=>{if(p.preventDefault(),!!s.trim()){l(!0),d("idle");try{const _=encodeURIComponent(`Bank Statement Comparison Feedback - ${e}`),N=encodeURIComponent(`Feedback Context: ${e}

User Feedback:
${s}

Timestamp: ${new Date().toISOString()}`),A=`mailto:feedback@statementcompare.com?subject=${_}&body=${N}`;window.open(A),d("success"),o(""),setTimeout(()=>{i(!1),d("idle")},2e3)}catch(_){console.error("Feedback submission error:",_),d("error")}finally{l(!1)}}},v=()=>{i(!n),n||(o(""),d("idle"))};return n?b.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${t?"bg-black/50":"bg-black/30"}`,children:b.jsxs("div",{className:`w-full max-w-md rounded-xl shadow-xl ${t?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[b.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${t?"border-gray-700":"border-gray-200"}`,children:[b.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Send Feedback"}),b.jsx("button",{onClick:v,className:`p-1 rounded-lg transition-colors ${t?"text-gray-400 hover:text-white hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:b.jsx(qs,{className:"h-5 w-5"})})]}),b.jsxs("form",{onSubmit:f,className:"p-4 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`}),b.jsx("textarea",{value:s,onChange:p=>o(p.target.value),rows:4,className:`w-full px-3 py-2 rounded-lg border resize-none ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Tell us what you think, what could be improved, or report any issues...",required:!0})]}),b.jsx("button",{type:"submit",disabled:a||!s.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${a||!s.trim()?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:a?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Sending..."]}):b.jsxs(b.Fragment,{children:[b.jsx(IS,{className:"h-4 w-4"}),"Send Feedback"]})}),c==="success"&&b.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-800 text-sm",children:" Feedback sent successfully! Thank you."}),c==="error"&&b.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-800 text-sm",children:" Failed to send feedback. Please try again."}),b.jsx("p",{className:`text-xs text-center ${t?"text-gray-400":"text-gray-500"}`,children:"This will open your email client to send feedback directly to our team."})]})]})}):b.jsxs("button",{onClick:v,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t?"bg-gray-700 hover:bg-gray-600 text-gray-200 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:text-gray-900"}`,title:"Send feedback",children:[b.jsx(bv,{className:"h-4 w-4"}),"Feedback"]})}const K8=t=>{const e=t.toLowerCase();return e.includes("housing")||e.includes("rent")||e.includes("mortgage")?b.jsx(_S,{className:"h-5 w-5"}):e.includes("transport")||e.includes("gas")||e.includes("car")||e.includes("fuel")?b.jsx(yv,{className:"h-5 w-5"}):e.includes("food")||e.includes("dining")||e.includes("restaurant")||e.includes("grocery")?b.jsx(Nv,{className:"h-5 w-5"}):e.includes("shopping")||e.includes("retail")||e.includes("store")?b.jsx(_v,{className:"h-5 w-5"}):e.includes("entertainment")||e.includes("gaming")||e.includes("movie")?b.jsx(xS,{className:"h-5 w-5"}):e.includes("health")||e.includes("medical")||e.includes("pharmacy")?b.jsx(wv,{className:"h-5 w-5"}):e.includes("business")||e.includes("work")||e.includes("office")?b.jsx(b0,{className:"h-5 w-5"}):b.jsx(xv,{className:"h-5 w-5"})},J8=[{category:"Income",icon:b.jsx(b0,{className:"h-5 w-5"}),statement1:3850,statement2:4120,difference:270,percentChange:7,transactions1:[{id:"income-1-1",date:"2025-01-15",description:"Stripe Payment Processing",amount:1850,category:"Income",type:"credit"},{id:"income-1-2",date:"2025-01-30",description:"PayPal Transfer",amount:2e3,category:"Income",type:"credit"}],transactions2:[{id:"income-2-1",date:"2025-02-03",description:"Square Payment",amount:1680,category:"Income",type:"credit"},{id:"income-2-2",date:"2025-02-10",description:"Stripe Payment Processing",amount:1950,category:"Income",type:"credit"},{id:"income-2-3",date:"2025-02-18",description:"Direct Deposit",amount:490,category:"Income",type:"credit"}]},{category:"Food & Dining",icon:b.jsx(Nv,{className:"h-5 w-5"}),statement1:445,statement2:487,difference:42,percentChange:9.4,transactions1:[{id:"food-1-1",date:"2025-01-05",description:"McDonald's",amount:12.45,category:"Food & Dining",type:"debit"},{id:"food-1-2",date:"2025-01-12",description:"Starbucks",amount:5.89,category:"Food & Dining",type:"debit"},{id:"food-1-3",date:"2025-01-18",description:"Chipotle",amount:18.75,category:"Food & Dining",type:"debit"},{id:"food-1-4",date:"2025-01-25",description:"Pizza Hut",amount:24.99,category:"Food & Dining",type:"debit"},{id:"food-1-5",date:"2025-01-28",description:"Subway",amount:11.5,category:"Food & Dining",type:"debit"}],transactions2:[{id:"food-2-1",date:"2025-02-03",description:"Burger King",amount:14.25,category:"Food & Dining",type:"debit"},{id:"food-2-2",date:"2025-02-05",description:"Taco Bell",amount:16.8,category:"Food & Dining",type:"debit"},{id:"food-2-3",date:"2025-02-07",description:"KFC",amount:19.95,category:"Food & Dining",type:"debit"},{id:"food-2-4",date:"2025-02-10",description:"Wendy's",amount:13.45,category:"Food & Dining",type:"debit"},{id:"food-2-5",date:"2025-02-14",description:"Domino's Pizza",amount:28.5,category:"Food & Dining",type:"debit"},{id:"food-2-6",date:"2025-02-18",description:"Arby's",amount:15.75,category:"Food & Dining",type:"debit"},{id:"food-2-7",date:"2025-02-21",description:"Popeyes",amount:17.25,category:"Food & Dining",type:"debit"},{id:"food-2-8",date:"2025-02-24",description:"Little Caesars",amount:22.99,category:"Food & Dining",type:"debit"},{id:"food-2-9",date:"2025-02-27",description:"Sonic Drive-In",amount:18.5,category:"Food & Dining",type:"debit"}]},{category:"Transportation",icon:b.jsx(yv,{className:"h-5 w-5"}),statement1:287,statement2:312,difference:25,percentChange:8.7,transactions1:[{id:"transport-1-1",date:"2025-01-08",description:"Shell Gas Station",amount:45.5,category:"Transportation",type:"debit"},{id:"transport-1-2",date:"2025-01-15",description:"Uber Ride",amount:28.75,category:"Transportation",type:"debit"},{id:"transport-1-3",date:"2025-01-22",description:"Exxon Gas Station",amount:52.25,category:"Transportation",type:"debit"},{id:"transport-1-4",date:"2025-01-29",description:"BP Gas Station",amount:48,category:"Transportation",type:"debit"}],transactions2:[{id:"transport-2-1",date:"2025-02-03",description:"Chevron Gas Station",amount:47.8,category:"Transportation",type:"debit"},{id:"transport-2-2",date:"2025-02-05",description:"Uber Ride",amount:32.45,category:"Transportation",type:"debit"},{id:"transport-2-3",date:"2025-02-07",description:"Mobil Gas Station",amount:51.2,category:"Transportation",type:"debit"},{id:"transport-2-4",date:"2025-02-10",description:"Lyft Ride",amount:29.9,category:"Transportation",type:"debit"},{id:"transport-2-5",date:"2025-02-14",description:"Circle K Gas",amount:38.75,category:"Transportation",type:"debit"},{id:"transport-2-6",date:"2025-02-18",description:"7-Eleven Gas",amount:42.3,category:"Transportation",type:"debit"},{id:"transport-2-7",date:"2025-02-21",description:"Uber Ride",amount:25.6,category:"Transportation",type:"debit"},{id:"transport-2-8",date:"2025-02-24",description:"Speedway Gas",amount:44.15,category:"Transportation",type:"debit"},{id:"transport-2-9",date:"2025-02-27",description:"Lyft Ride",amount:27.85,category:"Transportation",type:"debit"}]},{category:"Shopping",icon:b.jsx(_v,{className:"h-5 w-5"}),statement1:234,statement2:267,difference:33,percentChange:14.1,transactions1:[{id:"shopping-1-1",date:"2025-01-10",description:"Target",amount:45.75,category:"Shopping",type:"debit"},{id:"shopping-1-2",date:"2025-01-18",description:"Walmart",amount:67.2,category:"Shopping",type:"debit"},{id:"shopping-1-3",date:"2025-01-25",description:"Amazon.com",amount:32.45,category:"Shopping",type:"debit"},{id:"shopping-1-4",date:"2025-01-28",description:"Best Buy",amount:34.6,category:"Shopping",type:"debit"}],transactions2:[{id:"shopping-2-1",date:"2025-02-03",description:"Home Depot",amount:89.95,category:"Shopping",type:"debit"},{id:"shopping-2-2",date:"2025-02-06",description:"Costco",amount:156.8,category:"Shopping",type:"debit"},{id:"shopping-2-3",date:"2025-02-10",description:"Target",amount:38.25,category:"Shopping",type:"debit"},{id:"shopping-2-4",date:"2025-02-14",description:"Amazon.com",amount:27.5,category:"Shopping",type:"debit"},{id:"shopping-2-5",date:"2025-02-18",description:"Macy's",amount:89.99,category:"Shopping",type:"debit"},{id:"shopping-2-6",date:"2025-02-21",description:"Kohl's",amount:67.45,category:"Shopping",type:"debit"},{id:"shopping-2-7",date:"2025-02-24",description:"Old Navy",amount:45.2,category:"Shopping",type:"debit"},{id:"shopping-2-8",date:"2025-02-27",description:"Gap",amount:78.9,category:"Shopping",type:"debit"}]},{category:"Healthcare",icon:b.jsx(wv,{className:"h-5 w-5"}),statement1:0,statement2:387,difference:387,percentChange:100,transactions1:[],transactions2:[{id:"health-2-1",date:"2025-02-05",description:"CVS Pharmacy",amount:45.75,category:"Healthcare",type:"debit"},{id:"health-2-2",date:"2025-02-12",description:"Walgreens",amount:32.5,category:"Healthcare",type:"debit"},{id:"health-2-3",date:"2025-02-18",description:"Optometrist Visit",amount:125,category:"Healthcare",type:"debit"},{id:"health-2-4",date:"2025-02-25",description:"Dental Checkup",amount:184.75,category:"Healthcare",type:"debit"}]},{category:"Business & Professional",icon:b.jsx(b0,{className:"h-5 w-5"}),statement1:118,statement2:134,difference:16,percentChange:13.6,transactions1:[{id:"business-1-1",date:"2025-01-07",description:"Adobe Creative Cloud",amount:52.99,category:"Business & Professional",type:"debit"},{id:"business-1-2",date:"2025-01-21",description:"Notion Premium",amount:8,category:"Business & Professional",type:"debit"},{id:"business-1-3",date:"2025-01-28",description:"Slack Pro",amount:34,category:"Business & Professional",type:"debit"}],transactions2:[{id:"business-2-1",date:"2025-02-03",description:"Adobe Creative Cloud",amount:52.99,category:"Business & Professional",type:"debit"},{id:"business-2-2",date:"2025-02-07",description:"Asana Premium",amount:10.99,category:"Business & Professional",type:"debit"},{id:"business-2-3",date:"2025-02-14",description:"Trello Business",amount:12.5,category:"Business & Professional",type:"debit"},{id:"business-2-4",date:"2025-02-21",description:"Notion Premium",amount:8,category:"Business & Professional",type:"debit"},{id:"business-2-5",date:"2025-02-28",description:"Slack Pro",amount:34,category:"Business & Professional",type:"debit"}]},{category:"Subscriptions",icon:b.jsx(vv,{className:"h-5 w-5"}),statement1:89,statement2:112,difference:23,percentChange:25.8,transactions1:[{id:"subscription-1-1",date:"2025-01-15",description:"Netflix Premium",amount:19.99,category:"Subscriptions",type:"debit"},{id:"subscription-1-2",date:"2025-01-30",description:"Spotify Premium",amount:9.99,category:"Subscriptions",type:"debit"},{id:"subscription-1-3",date:"2025-01-30",description:"Hulu Ad-Free",amount:17.99,category:"Subscriptions",type:"debit"}],transactions2:[{id:"subscription-2-1",date:"2025-02-04",description:"Netflix Premium",amount:19.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-2",date:"2025-02-04",description:"Spotify Premium",amount:9.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-3",date:"2025-02-04",description:"Hulu Ad-Free",amount:17.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-4",date:"2025-02-19",description:"Amazon Prime",amount:14.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-5",date:"2025-02-19",description:"Disney+ Premium",amount:13.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-6",date:"2025-02-20",description:"YouTube Premium",amount:11.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-7",date:"2025-02-28",description:"Gym Membership",amount:24.06,category:"Subscriptions",type:"debit"}]},{category:"Groceries",icon:b.jsx(RS,{className:"h-5 w-5"}),statement1:267,statement2:298,difference:31,percentChange:11.6,transactions1:[{id:"groceries-1-1",date:"2025-01-10",description:"Kroger",amount:67.45,category:"Groceries",type:"debit"},{id:"groceries-1-2",date:"2025-01-25",description:"Safeway",amount:89.2,category:"Groceries",type:"debit"},{id:"groceries-1-3",date:"2025-01-28",description:"Whole Foods",amount:63.35,category:"Groceries",type:"debit"}],transactions2:[{id:"groceries-2-1",date:"2025-02-08",description:"Kroger",amount:78.9,category:"Groceries",type:"debit"},{id:"groceries-2-2",date:"2025-02-15",description:"Safeway",amount:92.45,category:"Groceries",type:"debit"},{id:"groceries-2-3",date:"2025-02-22",description:"Whole Foods",amount:58.75,category:"Groceries",type:"debit"},{id:"groceries-2-4",date:"2025-02-28",description:"Trader Joe's",amount:67.9,category:"Groceries",type:"debit"}]},{category:"Other",icon:b.jsx(xv,{className:"h-5 w-5"}),statement1:178,statement2:203,difference:25,percentChange:14,transactions1:[{id:"other-1-1",date:"2025-01-05",description:"ATM Withdrawal",amount:100,category:"Other",type:"debit"},{id:"other-1-2",date:"2025-01-15",description:"Transfer to Savings",amount:78,category:"Other",type:"debit"}],transactions2:[{id:"other-2-1",date:"2025-02-03",description:"ATM Withdrawal",amount:120,category:"Other",type:"debit"},{id:"other-2-2",date:"2025-02-05",description:"Bank Transfer Fee",amount:3,category:"Other",type:"debit"},{id:"other-2-3",date:"2025-02-10",description:"Investment Deposit",amount:200,category:"Other",type:"debit"},{id:"other-2-4",date:"2025-02-15",description:"ATM Withdrawal",amount:80,category:"Other",type:"debit"},{id:"other-2-5",date:"2025-02-20",description:"Bank Transfer Fee",amount:3,category:"Other",type:"debit"},{id:"other-2-6",date:"2025-02-25",description:"Investment Deposit",amount:150,category:"Other",type:"debit"},{id:"other-2-7",date:"2025-02-28",description:"ATM Withdrawal",amount:100,category:"Other",type:"debit"}]}];function Y8({isDark:t,isSignedIn:e,statementLabels:r,apiResult:n,onResetComparison:i}){var A,y,w,S,T,B,Y,R,k,O,U,E;const[s,o]=ae.useState(null),[a,l]=ae.useState(J8),[c,d]=ae.useState(!1);console.log(" ResultsSection: apiResult received:",{hasApiResult:!!n,apiResultType:typeof n,keys:n?Object.keys(n):null,statement1Keys:n!=null&&n.statement1?Object.keys(n.statement1):null,statement2Keys:n!=null&&n.statement2?Object.keys(n.statement2):null,comparisonType:typeof(n==null?void 0:n.comparison),isComparisonArray:Array.isArray(n==null?void 0:n.comparison)});const f=(()=>{if(n!=null&&n.comparison&&Array.isArray(n.comparison))try{return n.comparison.map(j=>({category:j.category,icon:K8(j.category),statement1:j.statement1Total,statement2:j.statement2Total,difference:j.difference,percentChange:j.percentChange,transactions1:j.transactions1||[],transactions2:j.transactions2||[]}))}catch(j){return console.error("Error processing comparison data:",j),a}return n&&console.log(" apiResult structure:",{hasComparison:!!n.comparison,comparisonType:typeof n.comparison,isArray:Array.isArray(n.comparison),keys:Object.keys(n),comparisonKeys:n.comparison?Object.keys(n.comparison):null}),a})(),v=j=>j.map((W,K)=>({id:W.id||`${W.category}-${K}-${Date.now()}`,date:W.date,description:W.description,amount:W.amount,category:W.category,type:W.type})),p=(j,W,K)=>{l(pe=>pe.map(he=>{if(he.category===j){const re=W==="transactions1"?K.reduce((me,P)=>me+(P.type==="credit"?P.amount:-P.amount),0):he.transactions1.reduce((me,P)=>me+(P.type==="credit"?P.amount:-P.amount),0),H=W==="transactions2"?K.reduce((me,P)=>me+(P.type==="credit"?P.amount:-P.amount),0):he.transactions2.reduce((me,P)=>me+(P.type==="credit"?P.amount:-P.amount),0),Q=H-re,ie=re!==0?Q/Math.abs(re)*100:0;return{...he,[W]:K,statement1:Math.abs(re),statement2:Math.abs(H),difference:Math.abs(Q),percentChange:Math.round(ie*10)/10}}return he}))},_=()=>{try{const j=Es.prepareExportData(f,r.statement1,r.statement2,n);Es.exportToPDF(j)}catch(j){console.error("Error exporting PDF:",j),alert("Failed to export PDF. Please try again.")}},N=()=>{try{const j=Es.prepareExportData(f,r.statement1,r.statement2,n);Es.exportToCSV(j)}catch(j){console.error("Error exporting CSV:",j),alert("Failed to export CSV. Please try again.")}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:`text-3xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Spending Comparison Results"}),b.jsxs("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:["Comparing ",r.statement1," vs ",r.statement2]}),!e&&b.jsxs("div",{className:`mt-6 p-6 rounded-xl border-2 border-dashed ${t?"bg-blue-900/20 border-blue-600":"bg-blue-50 border-blue-500"}`,children:[b.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:"Sign in for your free comparison"}),b.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"This is a preview with sample data. Sign up to analyze your real bank statements."}),b.jsx(As,{to:"/pricing",className:"inline-block px-6 py-3 rounded-lg font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white",children:"Sign Up - Free Tier Available"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[b.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx(zs,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),b.jsx("h3",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Statement 1"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Withdrawals"}),b.jsxs("span",{className:`text-lg font-bold ${t?"text-red-400":"text-red-600"}`,children:["$",((w=(y=(A=n==null?void 0:n.statement1)==null?void 0:A.summary)==null?void 0:y.totalWithdrawals)==null?void 0:w.toFixed(2))||"1,529.00"]})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Deposits"}),b.jsxs("span",{className:`text-lg font-bold ${t?"text-green-400":"text-green-600"}`,children:["$",((B=(T=(S=n==null?void 0:n.statement1)==null?void 0:S.summary)==null?void 0:T.totalDeposits)==null?void 0:B.toFixed(2))||"3,850.00"]})]})]})]}),b.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx(zs,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),b.jsx("h3",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Statement 2"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Withdrawals"}),b.jsxs("span",{className:`text-lg font-bold ${t?"text-red-400":"text-red-600"}`,children:["$",((k=(R=(Y=n==null?void 0:n.statement2)==null?void 0:Y.summary)==null?void 0:R.totalWithdrawals)==null?void 0:k.toFixed(2))||"1,899.00"]})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Deposits"}),b.jsxs("span",{className:`text-lg font-bold ${t?"text-green-400":"text-green-600"}`,children:["$",((E=(U=(O=n==null?void 0:n.statement2)==null?void 0:O.summary)==null?void 0:U.totalDeposits)==null?void 0:E.toFixed(2))||"4,120.00"]})]})]})]})]}),e&&b.jsx("div",{className:"flex justify-end mb-4",children:b.jsx("button",{onClick:()=>d(!c),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${c?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:c?"Exit Edit Mode":"Edit Transactions"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:`text-2xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Category Breakdown"}),f.map(j=>b.jsxs("div",{className:`rounded-xl p-6 shadow-lg border transition-all ${t?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-300"}`,children:[b.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>o(s===j.category?null:j.category),children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:`p-3 rounded-lg ${t?"bg-blue-900/30":"bg-blue-100"}`,children:j.icon}),b.jsxs("div",{children:[b.jsx("h4",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:j.category}),b.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[j.transactions1.length+j.transactions2.length," transactions"]})]})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Statement 1"}),b.jsxs("p",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:["$",j.statement1.toFixed(2)]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Statement 2"}),b.jsxs("p",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:["$",j.statement2.toFixed(2)]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Difference"}),b.jsxs("p",{className:`font-semibold ${j.difference>0?"text-red-500":j.difference<0?"text-green-500":t?"text-gray-200":"text-gray-800"}`,children:[j.difference>0?"+":"","$",j.difference.toFixed(2)]})]})]})]}),s===j.category&&b.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:c?b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 1 Transactions"}),b.jsx(h2,{isDark:t,transactions:v(j.transactions1),onTransactionsChange:W=>p(j.category,"transactions1",W),category:j.category})]}),b.jsxs("div",{children:[b.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 2 Transactions"}),b.jsx(h2,{isDark:t,transactions:v(j.transactions2),onTransactionsChange:W=>p(j.category,"transactions2",W),category:j.category})]})]}):b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 1 Transactions"}),b.jsx("div",{className:"space-y-2",children:j.transactions1.map((W,K)=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[W.date," - ",W.description]}),b.jsxs("span",{className:t?"text-gray-300":"text-gray-700",children:["$",W.amount.toFixed(2)]})]},K))})]}),b.jsxs("div",{children:[b.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 2 Transactions"}),b.jsx("div",{className:"space-y-2",children:j.transactions2.map((W,K)=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[W.date," - ",W.description]}),b.jsxs("span",{className:t?"text-gray-300":"text-gray-700",children:["$",W.amount.toFixed(2)]})]},K))})]})]})})]},j.category))]}),b.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md mx-auto",children:[b.jsxs("div",{className:"flex gap-4 w-full",children:[b.jsxs("button",{onClick:_,disabled:!e,className:`flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"bg-orange-600 hover:bg-orange-700 text-white":t?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[b.jsx(id,{className:"h-5 w-5"}),"Export PDF Report"]}),b.jsxs("button",{onClick:N,disabled:!e,className:`flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[b.jsx(id,{className:"h-5 w-5"}),"Export CSV Data"]})]}),b.jsxs("button",{onClick:i,className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors bg-red-600 hover:bg-red-700 text-white",children:[b.jsx(Gu,{className:"h-5 w-5"}),"Generate New Comparison"]}),b.jsx("div",{className:"flex justify-center pt-2",children:b.jsx(Rw,{isDark:t,context:"comparison"})})]})]})}function Q8({isDark:t,isSignedIn:e}){var K,pe,he;const r=ki(),{user:n}=Yu(),[i,s]=ae.useState({}),[o,a]=ae.useState({statement1:"Statement 1",statement2:"Statement 2"}),[l,c]=ae.useState(null),[d,f]=ae.useState(((K=r.state)==null?void 0:K.showResults)||!1),[v,p]=ae.useState(!1),{isLoading:_,error:N,result:A,progress:y,compareStatements:w,setError:S,clearError:T,setResult:B,reset:Y}=sN();ae.useEffect(()=>{N?console.error(" Comparison failed with API error:",N):A&&!_&&(console.log(" API comparison completed successfully"),f(!0))},[A,N,_]),ae.useEffect(()=>{var re,H;(re=r.state)!=null&&re.apiResult&&((H=r.state)!=null&&H.fromHistory)&&(console.log(" Loading comparison from history"),B(r.state.apiResult),a({statement1:r.state.statement1Name||"Statement 1",statement2:r.state.statement2Name||"Statement 2"}),f(!0))},[r.state,B]);const R=()=>{console.log(" Resetting comparison state..."),wi.clearAllUploadedFiles(),Y(),s({}),a({statement1:"Statement 1",statement2:"Statement 2"}),c(null),f(!1),p(!1),console.log(" Comparison state reset complete")},k=(re,H)=>{if(!e||H.size===0||H.name===""){p(!0);return}if(T(),!wi.validatePdfFile(H).isValid){s(me=>({...me,[re]:{file:H,name:H.name,status:"error"}}));return}const ie={file:H,name:H.name,status:"ready"};s(me=>({...me,[re]:ie}))},O=async()=>{var me,P,$,V;if(_){console.log(" Button clicked while API is loading - ignoring");return}if(T(),!e){U(),f(!0);return}const re=((me=i.statement1)==null?void 0:me.file)&&i.statement1.file.size>0,H=((P=i.statement2)==null?void 0:P.file)&&i.statement2.file.size>0;if(!re||!H){const J=[];re||J.push("Statement 1"),H||J.push("Statement 2"),S(`Please upload ${J.join(" and ")} to begin comparison.`);return}const Q=(($=i.statement1)==null?void 0:$.status)==="ready",ie=((V=i.statement2)==null?void 0:V.status)==="ready";if(!Q||!ie){const J=[];Q||J.push("Statement 1"),ie||J.push("Statement 2"),S(`Please wait for file processing to complete: ${J.join(" and ")}`);return}console.log(" Starting API comparison with files:",{file1:{name:i.statement1.file.name,size:i.statement1.file.size,status:i.statement1.status},file2:{name:i.statement2.file.name,size:i.statement2.file.size,status:i.statement2.status}});try{await w(i.statement1.file,i.statement2.file,n==null?void 0:n.id)}catch{console.log(" API failed, offering sample data fallback"),S("API processing failed. Please try again with different files or use sample data.")}},U=()=>{var me,P,$;if(e){console.log("Sample data not available for signed-in users");return}const re=((me=r.state)==null?void 0:me.statement1Name)||"Statement 1",H=((P=r.state)==null?void 0:P.statement2Name)||"Statement 2";a({statement1:re,statement2:H});const Q={file:new File([],re),name:re,status:"ready"},ie={file:new File([],H),name:H,status:"ready"};s({statement1:Q,statement2:ie}),($=r.state)!=null&&$.fromHistory&&f(!0)},E=(re,H)=>{a(Q=>({...Q,[re]:H}))},j=()=>{c(null)},W=((pe=i.statement1)==null?void 0:pe.status)==="ready"&&((he=i.statement2)==null?void 0:he.status)==="ready";return b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[d?b.jsxs("div",{className:"space-y-8",children:[_&&b.jsx("div",{className:`rounded-xl p-8 text-center ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:b.jsx(oN,{size:"lg",text:"Processing your bank statements...",progress:y,isDark:t})}),N&&b.jsx(aN,{error:N,onDismiss:T,onRetry:()=>{var re,H;(re=i.statement1)!=null&&re.file&&((H=i.statement2)!=null&&H.file)&&O()},isDark:t,className:"mb-6"}),b.jsx(Y8,{isDark:t,isSignedIn:e,statementLabels:o,apiResult:A,onResetComparison:R})]}):b.jsxs(b.Fragment,{children:[b.jsx(uN,{isDark:t}),b.jsx(cN,{isDark:t,isSignedIn:e,uploadedFiles:i,statementLabels:o,editingLabel:l,bothFilesUploaded:W,previewButtonGlowing:v,apiLoading:_,onFileUpload:k,onLabelEdit:E,onLabelSave:j,onGenerateComparison:O,onUseSampleData:U,setEditingLabel:c}),e&&b.jsx(lN,{isDark:t})]}),b.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none -z-10",children:[b.jsx("div",{className:`absolute top-1/4 left-1/4 w-64 h-64 rounded-full opacity-20 animate-pulse-slow ${t?"bg-blue-600":"bg-blue-400"}`}),b.jsx("div",{className:`absolute top-3/4 right-1/4 w-48 h-48 rounded-full opacity-15 animate-pulse-slow ${t?"bg-purple-600":"bg-purple-400"}`,style:{animationDelay:"1s"}}),b.jsx("div",{className:`absolute bottom-1/4 left-1/3 w-32 h-32 rounded-full opacity-25 animate-pulse-slow ${t?"bg-green-600":"bg-green-400"}`,style:{animationDelay:"2s"}}),b.jsx("div",{className:`absolute top-1/2 right-1/3 w-40 h-40 rounded-full opacity-10 animate-pulse-slow ${t?"bg-indigo-600":"bg-indigo-400"}`,style:{animationDelay:"0.5s"}})]})]})}var X8="basil",Mw="https://js.stripe.com",Z8="".concat(Mw,"/").concat(X8,"/stripe.js"),ek=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tk=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,D2="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",rk=function(e){return ek.test(e)||tk.test(e)},nk=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Mw,'"]')),r=0;r<e.length;r++){var n=e[r];if(rk(n.src))return n}return null},B2=function(e){var r="",n=document.createElement("script");n.src="".concat(Z8).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},Ql=null,fh=null,ph=null,ik=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},sk=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},ok=function(e){return Ql!==null?Ql:(Ql=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(D2),window.Stripe){r(window.Stripe);return}try{var i=nk();if(i&&e)console.warn(D2);else if(!i)i=B2(e);else if(i&&ph!==null&&fh!==null){var s;i.removeEventListener("load",ph),i.removeEventListener("error",fh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=B2(e)}ph=sk(r,n),fh=ik(n),i.addEventListener("load",ph),i.addEventListener("error",fh)}catch(o){n(o);return}}),Ql.catch(function(r){return Ql=null,Promise.reject(r)}))},Xl,ak=function(){return Xl||(Xl=ok(null).catch(function(e){return Xl=null,Promise.reject(e)}),Xl)};Promise.resolve().then(function(){return ak()}).catch(function(t){console.warn(t)});const lk={STARTER:"https://buy.stripe.com/test_dRmdRbcurfW97JAdhBgUM00",PRO:"https://buy.stripe.com/test_28EaEZ7a7fW9aVM0uPgUM01",BUSINESS:"https://buy.stripe.com/test_eVq8wR66325j3tk4L5gUM02"},uk=t=>{const e=lk[t];if(!e)throw new Error(`Invalid tier: ${t}`);window.open(e,"_blank")};function ck({isDark:t,onShowAuthModal:e}){const[r,n]=ae.useState(!1),[i,s]=ae.useState(!1),[o,a]=ae.useState(""),{isSignedIn:l,user:c}=Yu(),[d]=mv();ae.useEffect(()=>{const N=d.get("success"),A=d.get("canceled");N==="true"&&(n(!0),setTimeout(()=>n(!1),5e3)),A==="true"&&(s(!0),a("Payment was canceled. You can try again anytime."),setTimeout(()=>s(!1),5e3))},[d]);const f=()=>{e&&e()},v=async N=>{if(!l||!c){e&&e();return}uk(N)},p=N=>N==="free"?"Sign Up":"Subscribe Now",_=N=>!1;return b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[r&&b.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:b.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center gap-2 shadow-lg",children:[b.jsx(Hg,{className:"h-5 w-5"}),b.jsx("span",{children:"Payment successful! Your subscription is now active."}),b.jsx("button",{onClick:()=>n(!1),className:"ml-4 text-green-500 hover:text-green-700",children:b.jsx(qs,{className:"h-4 w-4"})})]})}),i&&b.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:b.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2 shadow-lg",children:[b.jsx(So,{className:"h-5 w-5"}),b.jsx("span",{children:o}),b.jsx("button",{onClick:()=>s(!1),className:"ml-4 text-red-500 hover:text-red-700",children:b.jsx(qs,{className:"h-4 w-4"})})]})}),b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Simple Pricing"}),b.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Choose the plan that fits your needs"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[b.jsxs("div",{className:`rounded-xl p-6 border-2 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Sign Up"}),b.jsx("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:"Free"}),b.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"40 pages per month"}),b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Give it a try"})]}),b.jsx("button",{onClick:f,className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white",children:p("free")})]}),b.jsxs("div",{className:`rounded-xl p-6 border-2 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Starter"}),b.jsxs("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:["$29",b.jsx("span",{className:"text-lg",children:"/month"})]}),b.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"150 pages per month"}),b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Perfect for individuals"})]}),b.jsx("button",{onClick:()=>v("STARTER"),disabled:_(),className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:p("STARTER")})]}),b.jsxs("div",{className:`rounded-xl p-6 border-2 relative ${t?"bg-gradient-to-br from-blue-900/20 to-indigo-900/20 border-blue-600":"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-500"}`,children:[b.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:b.jsxs("div",{className:"px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2 bg-blue-600 text-white",children:[b.jsx(MS,{className:"h-4 w-4"}),"Most Popular"]})}),b.jsxs("div",{className:"text-center mb-6 mt-4",children:[b.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Pro"}),b.jsxs("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:["$69",b.jsx("span",{className:"text-lg",children:"/month"})]}),b.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"400 pages per month"}),b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Great for small teams"})]}),b.jsx("button",{onClick:()=>v("PRO"),disabled:_(),className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:p("PRO")})]}),b.jsxs("div",{className:`rounded-xl p-6 border-2 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Business"}),b.jsxs("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:["$149",b.jsx("span",{className:"text-lg",children:"/month"})]}),b.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"1,000 pages per month"}),b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Enterprise solution"})]}),b.jsx("button",{onClick:()=>v("BUSINESS"),disabled:_(),className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:p("BUSINESS")})]})]}),b.jsx("div",{className:"mb-12",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"text-center p-6",children:[b.jsx("div",{className:`p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center ${t?"bg-blue-900/30":"bg-blue-100"}`,children:b.jsx(US,{className:`h-8 w-8 ${t?"text-blue-400":"text-blue-600"}`})}),b.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Lightning Fast"}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Get results in seconds, not hours of manual spreadsheet work"})]}),b.jsxs("div",{className:"text-center p-6",children:[b.jsx("div",{className:`p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center ${t?"bg-green-900/30":"bg-green-100"}`,children:b.jsx(OS,{className:`h-8 w-8 ${t?"text-green-400":"text-green-600"}`})}),b.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"100% Private"}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Your data is processed locally and never stored on our servers"})]}),b.jsxs("div",{className:"text-center p-6",children:[b.jsx("div",{className:`p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center ${t?"bg-purple-900/30":"bg-purple-100"}`,children:b.jsx(Gu,{className:`h-8 w-8 ${t?"text-purple-400":"text-purple-600"}`})}),b.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Smart Analysis"}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"AI-powered categorization with beautiful charts and insights"})]})]})}),b.jsxs("div",{className:`rounded-xl p-8 ${t?"bg-gray-800":"bg-gray-50"}`,children:[b.jsx("h2",{className:`text-2xl font-bold text-center mb-8 ${t?"text-gray-200":"text-gray-800"}`,children:"Frequently Asked Questions"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Which banks are supported?"}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"We support PDF statements from Wells Fargo, Chase, Bank of America, Citi, and most major banks. If your bank isn't supported, contact us!"})]}),b.jsxs("div",{children:[b.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Is my financial data safe?"}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Absolutely. All processing happens in your browser - we never see or store your bank statements. Your data never leaves your device."})]}),b.jsxs("div",{children:[b.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Can I get a refund?"}),b.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Yes! We offer a 30-day money-back guarantee. If you're not satisfied, contact us for a full refund."})]})]})]})]})}function hk({isDark:t}){const[e,r]=ae.useState(""),[n,i]=ae.useState("date"),[s,o]=ae.useState([]),[a,l]=ae.useState(!0),c=Ld(),{user:d}=Yu();ae.useEffect(()=>{(async()=>{try{if(l(!0),console.log(" HistoryPage: Starting to load history for user:",d==null?void 0:d.id),d!=null&&d.id){console.log(" HistoryPage: Querying usage_logs table...");const{data:w,error:S}=await or.from("usage_logs").select("count").eq("user_id",d.id);console.log(" HistoryPage: Test query result:",{testData:w,testError:S});const{data:T,error:B}=await or.from("usage_logs").select("*").eq("user_id",d.id).order("created_at",{ascending:!1});if(console.log(" HistoryPage: Supabase query result:",{usageLogs:T,error:B}),B)console.error(" HistoryPage: Failed to load usage logs from Supabase:",B),o([]);else{if(console.log(" HistoryPage: Successfully loaded usage logs:",T),!T||T.length===0){console.log(" HistoryPage: No usage logs found for user"),o([]);return}const Y=T.map(R=>(console.log(" HistoryPage: Transforming log:",R),{id:R.id,date:R.created_at,statement1Name:R.statement1_name||"Unknown",statement2Name:R.statement2_name||"Unknown",result:R.comparison_summary,userId:R.user_id,pagesConsumed:R.pages_consumed,file1Pages:R.file1_pages,file2Pages:R.file2_pages}));console.log(" HistoryPage: Transformed history:",Y),o(Y)}}else console.log(" HistoryPage: No user ID, showing empty history"),o([])}catch(w){console.error(" HistoryPage: Unexpected error loading history:",w),o([])}finally{l(!1),console.log(" HistoryPage: Finished loading history")}})()},[d==null?void 0:d.id]);const f=s.filter(y=>y.statement1Name.toLowerCase().includes(e.toLowerCase())||y.statement2Name.toLowerCase().includes(e.toLowerCase())).sort((y,w)=>n==="date"?new Date(w.date).getTime()-new Date(y.date).getTime():0),v=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=y=>{let w=null;console.log(" HistoryPage: Processing comparison item for view:",y),y.result&&typeof y.result=="object"?(y.result.fullComparison?(console.log(" HistoryPage: Using enhanced comparison_summary format"),w={statement1:y.result.statement1.fullData,statement2:y.result.statement2.fullData,comparison:y.result.comparison.fullComparison}):y.result.comparison&&Array.isArray(y.result.comparison)?(console.log(" HistoryPage: Using direct comparison array format"),w={statement1:y.result.statement1||{},statement2:y.result.statement2||{},comparison:y.result.comparison}):(console.log(" HistoryPage: Using fallback result format"),w=y.result),console.log(" HistoryPage: Transformed comparison data:",w)):console.warn(" HistoryPage: No result data found for comparison item"),c("/",{state:{showResults:!0,statement1Name:y.statement1Name,statement2Name:y.statement2Name,fromHistory:!0,apiResult:w}})},_=async y=>{try{if(d!=null&&d.id){const{error:w}=await or.from("usage_logs").delete().eq("id",y).eq("user_id",d.id);if(w){console.error("Failed to delete comparison from Supabase:",w);return}const S=s.filter(T=>T.id!==y);o(S),console.log(" Deleted comparison from Supabase")}}catch(w){console.error("Failed to delete comparison:",w)}},N=y=>{try{if(!y.result){alert("No comparison data available for export.");return}let w=null;if(y.result.fullComparison?w=y.result.fullComparison:y.result.comparison&&Array.isArray(y.result.comparison)?w=y.result.comparison:w=y.result,!w){alert("Comparison data format not supported for export.");return}const S=w.map(B=>({category:B.category,statement1:B.statement1Total||0,statement2:B.statement2Total||0,difference:B.difference||0,percentChange:B.percentChange||0,transactions1:B.transactions1||[],transactions2:B.transactions2||[]})),T=Es.prepareExportData(S,y.statement1Name,y.statement2Name,y.result);Es.exportToPDF(T)}catch(w){console.error("Error exporting PDF:",w),alert("Failed to export PDF. Please try again.")}},A=y=>{try{if(!y.result){alert("No comparison data available for export.");return}let w=null;if(y.result.fullComparison?w=y.result.fullComparison:y.result.comparison&&Array.isArray(y.result.comparison)?w=y.result.comparison:w=y.result,!w){alert("Comparison data format not supported for export.");return}const S=w.map(B=>({category:B.category,statement1:B.statement1Total||0,statement2:B.statement2Total||0,difference:B.difference||0,percentChange:B.percentChange||0,transactions1:B.transactions1||[],transactions2:B.transactions2||[]})),T=Es.prepareExportData(S,y.statement1Name,y.statement2Name,y.result);Es.exportToCSV(T)}catch(w){console.error("Error exporting CSV:",w),alert("Failed to export CSV. Please try again.")}};return b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h1",{className:`text-4xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Comparison History"}),b.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"View and manage your previous bank statement comparisons"})]}),b.jsx("div",{className:`rounded-xl p-6 mb-8 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(FS,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),b.jsx("input",{type:"text",placeholder:"Search comparisons...",value:e,onChange:y=>r(y.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors ${t?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]}),b.jsxs("div",{className:"relative",children:[b.jsx(zm,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),b.jsx("select",{value:n,onChange:y=>i(y.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors appearance-none ${t?"bg-gray-700 border-gray-600 text-gray-200 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:b.jsx("option",{value:"date",children:"Sort by Date"})})]}),b.jsx("div",{className:"flex items-center justify-center",children:b.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[f.length," comparison",f.length!==1?"s":""]})})]})}),a?b.jsxs("div",{className:`text-center py-12 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsx(Wg,{className:`h-16 w-16 mx-auto mb-4 ${t?"text-gray-600":"text-gray-400"}`}),b.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Loading history..."}),b.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your comparison history."})]}):f.length===0?b.jsxs("div",{className:`text-center py-12 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsx(zs,{className:`h-16 w-16 mx-auto mb-4 ${t?"text-gray-600":"text-gray-400"}`}),b.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:e?"No comparisons found":"No comparison history yet"}),b.jsx("p",{className:"text-gray-500",children:e?"Try adjusting your search terms":"Start by creating your first comparison. Your comparison history will appear here once you run some comparisons."}),!e&&b.jsx("div",{className:"mt-4",children:b.jsx("button",{onClick:()=>c("/"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Go to Comparison Tool"})})]}):b.jsx("div",{className:"space-y-4",children:f.map(y=>b.jsx("div",{className:`rounded-xl p-6 shadow-lg border transition-all hover:shadow-xl ${t?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-300"}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"flex items-center gap-3 mb-2",children:b.jsxs("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:[y.statement1Name," vs ",y.statement2Name]})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zm,{className:`h-4 w-4 ${t?"text-gray-400":"text-gray-500"}`}),b.jsx("span",{className:t?"text-gray-400":"text-gray-600",children:v(y.date)})]}),y.pagesConsumed&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Gu,{className:`h-4 w-4 ${t?"text-gray-400":"text-gray-500"}`}),b.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[y.pagesConsumed," pages total"]})]}),y.file1Pages&&y.file2Pages&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zs,{className:`h-4 w-4 ${t?"text-gray-400":"text-gray-500"}`}),b.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[y.file1Pages," + ",y.file2Pages," pages"]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[b.jsx("button",{onClick:()=>p(y),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"View Details",children:b.jsx(sd,{className:"h-5 w-5"})}),b.jsx("button",{onClick:()=>N(y),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-orange-900/20 text-orange-400 hover:text-orange-300":"hover:bg-orange-50 text-orange-500 hover:text-orange-700"}`,title:"Export PDF",children:b.jsx(id,{className:"h-5 w-5"})}),b.jsx("button",{onClick:()=>A(y),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-green-900/20 text-green-400 hover:text-green-300":"hover:bg-green-50 text-green-500 hover:text-green-700"}`,title:"Export CSV",children:b.jsx(id,{className:"h-5 w-5"})}),b.jsx("button",{onClick:()=>_(y.id),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-red-900/20 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-500 hover:text-red-700"}`,title:"Delete",children:b.jsx(el,{className:"h-5 w-5"})})]})]})},y.id))})]})}function dk(){console.log(" useSubscription: Hook called, getting auth data...");const{subscription:t,tier:e,loading:r,user:n}=Yu();console.log(" useSubscription: Auth data received:",{hasUser:!!n,userId:n==null?void 0:n.id,hasSubscription:!!t,hasTier:!!e,isLoading:r,subscriptionData:t,tierData:e});const[i,s]=ae.useState(null),o=t&&e?{tierName:e.name,pagesRemaining:t.pages_remaining,pagesUsed:t.pages_used,monthlyPages:e.monthly_pages,status:t.status,isActive:t.status==="active"}:null;console.log(" useSubscription: Derived subscription data:",o);const l={subscriptionData:o,isLoading:r,error:i,refreshSubscription:async()=>{console.log(" useSubscription: Refresh requested (placeholder)")}};return console.log(" useSubscription: Returning result:",l),l}function fk({isDark:t,onToggleDarkMode:e,user:r}){console.log(" SettingsPage: Component rendered with props:",{isDark:t,hasUser:!!r,userId:r==null?void 0:r.id});const{subscriptionData:n,isLoading:i,error:s,refreshSubscription:o}=dk(),[a]=mv(),[l,c]=ae.useState(!1);return console.log(" SettingsPage: useSubscription hook returned:",{hasSubscriptionData:!!n,isLoading:i,error:s,subscriptionData:n}),ae.useEffect(()=>{a.get("success")==="true"&&(c(!0),o(),setTimeout(()=>c(!1),5e3))},[a,o]),ae.useEffect(()=>{console.log(" SettingsPage: useEffect triggered - subscription data changed:",{hasSubscriptionData:!!n,isLoading:i,error:s,subscriptionData:n})},[n,i,s]),b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l&&b.jsx("div",{className:"mb-6",children:b.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center gap-2 shadow-lg",children:[b.jsx(Hg,{className:"h-5 w-5"}),b.jsx("span",{children:"Payment successful! Your subscription is now active."}),b.jsx("button",{onClick:()=>c(!1),className:"ml-auto text-green-500 hover:text-green-700",children:b.jsx(qs,{className:"h-4 w-4"})})]})}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h1",{className:`text-4xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Settings"}),b.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Customize your StatementCompare experience"})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx(vv,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),b.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Subscription"})]}),i?b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:`inline-block animate-spin rounded-full h-8 w-8 border-b-2 ${t?"border-blue-400":"border-blue-600"}`}),b.jsxs("p",{className:`mt-2 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["Loading subscription data... (Debug: isLoading=",i.toString(),")"]}),b.jsxs("div",{className:"mt-2 text-xs opacity-75",children:[b.jsxs("p",{children:["User: ",(r==null?void 0:r.id)||"None"]}),b.jsxs("p",{children:["Subscription Data: ",n?"Yes":"No"]}),b.jsxs("p",{children:["Error: ",s||"None"]})]})]}):s?b.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-red-900/20 border-red-700/50":"bg-red-50 border-red-200"}`,children:[b.jsx("p",{className:`text-sm ${t?"text-red-400":"text-red-600"}`,children:s}),b.jsx("button",{onClick:o,className:`mt-2 text-sm underline ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:"Try again"})]}):n?b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Current Tier"}),b.jsxs("div",{className:`px-4 py-3 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-gray-200":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[b.jsx("span",{className:"font-semibold",children:n.tierName}),n.monthlyPages>0&&b.jsx("div",{className:"text-xs mt-1 opacity-75"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Pages Remaining"}),b.jsxs("div",{className:`px-4 py-3 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-gray-200":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[b.jsxs("span",{className:"font-semibold",children:[n.pagesRemaining," pages"]}),n.pagesUsed>0&&b.jsx("div",{className:"text-xs mt-1 opacity-75"})]})]}),b.jsx("div",{className:"flex items-end",children:b.jsx("a",{href:`https://billing.stripe.com/p/login/test_dRmdRbcurfW97JAdhBgUM00?prefilled_email=${(r==null?void 0:r.email)||""}`,target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-3 rounded-lg transition-colors font-medium text-center bg-blue-600 hover:bg-blue-700 text-white",children:"Manage Subscription"})})]})}):b.jsx("div",{className:`text-center py-8 ${t?"text-gray-400":"text-gray-600"}`,children:b.jsx("p",{children:"No subscription data available"})})]}),b.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx(jS,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),b.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Appearance"})]}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:`font-medium ${t?"text-gray-200":"text-gray-800"}`,children:"Dark Mode"}),b.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Switch between light and dark themes"})]}),b.jsx("button",{onClick:e,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:t?b.jsxs(b.Fragment,{children:[b.jsx($S,{className:"h-4 w-4"}),"Light Mode"]}):b.jsxs(b.Fragment,{children:[b.jsx(LS,{className:"h-4 w-4"}),"Dark Mode"]})})]})})]}),b.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx(BS,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),b.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Account"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),b.jsxs("div",{className:"relative",children:[b.jsx(CS,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),b.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",readOnly:!0,className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors ${t?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400":"bg-gray-100 border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none cursor-not-allowed opacity-75`})]}),b.jsx("p",{className:`text-xs mt-1 ${t?"text-gray-400":"text-gray-500"}`,children:"Email address cannot be changed"})]}),b.jsxs("div",{children:[b.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Language"}),b.jsxs("div",{className:"relative",children:[b.jsx(SS,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),b.jsxs("select",{className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors appearance-none ${t?"bg-gray-700 border-gray-600 text-gray-200 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:[b.jsx("option",{value:"en",children:"English"}),b.jsx("option",{value:"es",children:"Espaol"}),b.jsx("option",{value:"fr",children:"Franais"}),b.jsx("option",{value:"de",children:"Deutsch"})]})]})]})]}),b.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors bg-blue-600 hover:bg-blue-700 text-white",children:[b.jsx(NS,{className:"h-4 w-4"}),"Change Password"]})]})]}),b.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx(bv,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),b.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Feedback & Support"})]}),b.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-blue-900/20 border-blue-700/50":"bg-blue-50 border-blue-200"}`,children:[b.jsx("h3",{className:`font-medium mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:"Help Us Improve"}),b.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Share your thoughts, report issues, or suggest improvements. Your feedback helps us make this tool better."}),b.jsx(Rw,{isDark:t,context:"general"})]})]}),b.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx(el,{className:`h-6 w-6 ${t?"text-red-400":"text-red-600"}`}),b.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Delete Account"})]}),b.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-red-900/20 border-red-700/50":"bg-red-50 border-red-200"}`,children:[b.jsx("h3",{className:`font-medium mb-2 ${t?"text-red-400":"text-red-600"}`,children:"Permanently Delete Account"}),b.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"This action cannot be undone. All your comparison history and account data will be permanently deleted."}),b.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors bg-red-600 hover:bg-red-700 text-white",children:[b.jsx(el,{className:"h-4 w-4"}),"Delete Account"]})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{className:"px-6 py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white",children:"Save Changes"})})]})]})}function pk({isOpen:t,onClose:e,onSignIn:r,onSignUp:n}){const[i,s]=ae.useState(!1),[o,a]=ae.useState(""),[l,c]=ae.useState(""),[d,f]=ae.useState(""),[v,p]=ae.useState(""),[_,N]=ae.useState("idle"),[A,y]=ae.useState(!1),[w,S]=ae.useState({});if(!t)return null;const T=()=>{const E={};return i&&!d.trim()&&(E.fullName="Full name is required"),o.trim()?/\S+@\S+\.\S+/.test(o)||(E.email="Please enter a valid email"):E.email="Email is required",l?l.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",S(E),Object.keys(E).length===0},B=async E=>{if(E.preventDefault(),p(""),S({}),!!T())try{i?await n(o,l,d):await r(o,l),N("success"),setTimeout(()=>{e(),N("idle")},1500)}catch(j){p(j.message||"An error occurred"),N("error")}},Y=()=>{a(""),c(""),f(""),p(""),N("idle"),S({})},R=()=>{s(!i),Y()},k=()=>{switch(_){case"success":return"border-green-500 bg-green-50";case"error":return"border-red-500 bg-red-50";default:return"border-gray-300 bg-white"}},O=()=>{switch(_){case"success":return b.jsx(Za,{className:"h-6 w-6 text-green-600"});case"error":return b.jsx(So,{className:"h-6 w-6 text-red-600"});default:return null}},U=()=>{switch(_){case"success":return i?"Account created successfully!":"Signed in successfully!";case"error":return v;default:return""}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:`rounded-lg p-6 w-full max-w-md mx-4 border-2 transition-all duration-300 ${k()}`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[O(),b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Create Account":"Sign In"})]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:b.jsx(qs,{className:"h-6 w-6"})})]}),_!=="idle"&&b.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium ${_==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U()}),b.jsxs("form",{onSubmit:B,className:"space-y-4",children:[i&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),b.jsx("input",{type:"text",value:d,onChange:E=>f(E.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${w.fullName?"border-red-300 focus:ring-red-500":"border-gray-300"}`,required:!0}),w.fullName&&b.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[b.jsx(So,{className:"h-3 w-3"}),w.fullName]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:o,onChange:E=>a(E.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${w.email?"border-red-300 focus:ring-red-500":"border-gray-300"}`,required:!0}),w.email&&b.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[b.jsx(So,{className:"h-3 w-3"}),w.email]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:A?"text":"password",value:l,onChange:E=>c(E.target.value),className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${w.password?"border-red-300 focus:ring-red-500":"border-gray-300"}`,required:!0}),b.jsx("button",{type:"button",onClick:()=>y(!A),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A?b.jsx(bS,{className:"h-4 w-4"}):b.jsx(sd,{className:"h-4 w-4"})})]}),w.password&&b.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[b.jsx(So,{className:"h-3 w-3"}),w.password]})]}),b.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition-all duration-200 flex items-center justify-center gap-2",children:i?"Create Account":"Sign In"})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("button",{onClick:R,className:"text-blue-600 hover:text-blue-700 text-sm transition-colors",children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})}),i&&b.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 justify-center mb-1",children:[b.jsx(Za,{className:"h-4 w-4 text-blue-600"}),b.jsx("span",{className:"font-medium text-blue-800",children:"Free Plan Included"})]}),"Get 40 free pages per month to start comparing your bank statements"]})]})})}function gk({isDark:t,isSignedIn:e,onSignOut:r,onSignInClick:n}){const i=ki(),s=o=>i.pathname===o;return b.jsx("header",{className:`sticky top-0 z-50 border-b backdrop-blur-sm ${t?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:b.jsx("div",{className:"container mx-auto px-4 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(As,{to:"/",className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-lg bg-blue-600",children:b.jsx(Gu,{className:"h-6 w-6 text-white"})}),b.jsx("span",{className:`text-xl font-bold ${t?"text-gray-200":"text-gray-800"}`,children:"Bank Statement Comparison"})]}),b.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[e?b.jsxs(b.Fragment,{children:[b.jsxs(As,{to:"/pricing",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s("/pricing")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[b.jsx(qm,{className:"h-4 w-4"}),"Plans"]}),b.jsxs(As,{to:"/history",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s("/history")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[b.jsx(Wg,{className:"h-4 w-4"}),"Past Documents"]}),b.jsxs(As,{to:"/settings",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s("/settings")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[b.jsx(Hm,{className:"h-4 w-4"}),"Settings"]})]}):b.jsx(b.Fragment,{children:b.jsxs(As,{to:"/pricing",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s("/pricing")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[b.jsx(qm,{className:"h-4 w-4"}),"Pricing"]})}),b.jsx("button",{onClick:()=>{console.log("Button clicked, isSignedIn:",e),e?r():n()},className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors font-medium ${e?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:e?b.jsxs(b.Fragment,{children:[b.jsx(PS,{className:"h-4 w-4"}),"Sign Out"]}):b.jsxs(b.Fragment,{children:[b.jsx(AS,{className:"h-4 w-4"}),"Sign In"]})})]}),b.jsx("button",{className:`md:hidden p-2 rounded-lg ${t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:b.jsx(Hm,{className:"h-5 w-5"})})]})})})}function mk(){const[t,e]=ae.useState(!1),[r,n]=ae.useState(!1),{isSignedIn:i,signOut:s,signIn:o,signUp:a,loading:l,user:c}=Yu(),d=Ld(),f=async()=>{console.log("Sign out button clicked, attempting to sign out...");try{await s(),console.log("Sign out completed successfully"),d("/")}catch(_){console.error("Error during sign out:",_)}},v=async(_,N)=>{const{data:A,error:y}=await o(_,N);if(y)throw y},p=async(_,N,A)=>{const{data:y,error:w}=await a(_,N,A);if(w)throw w};return b.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${t?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-green-50"}`,children:[b.jsx(gk,{isDark:t,isSignedIn:i,onSignOut:f,onSignInClick:()=>n(!0)}),b.jsxs($3,{children:[b.jsx(nu,{path:"/",element:b.jsx(Q8,{isDark:t,isSignedIn:i})}),b.jsx(nu,{path:"/pricing",element:b.jsx(ck,{isDark:t,onShowAuthModal:()=>n(!0)})}),b.jsx(nu,{path:"/history",element:b.jsx(hk,{isDark:t})}),b.jsx(nu,{path:"/settings",element:b.jsx(fk,{isDark:t,onToggleDarkMode:()=>e(!t),user:c})})]}),b.jsx(pk,{isOpen:r,onClose:()=>n(!1),onSignIn:v,onSignUp:p})]})}function yk(){return b.jsx(lS,{children:b.jsx(mk,{})})}Z5(document.getElementById("root")).render(b.jsx(ae.StrictMode,{children:b.jsx(yk,{})}));export{St as _,mn as c,xb as g};
