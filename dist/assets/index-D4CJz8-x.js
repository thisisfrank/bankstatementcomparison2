(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var q2={exports:{}},ph={},H2={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),kb=Symbol.for("react.portal"),Ab=Symbol.for("react.fragment"),jb=Symbol.for("react.strict_mode"),Pb=Symbol.for("react.profiler"),Cb=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Eb=Symbol.for("react.forward_ref"),Tb=Symbol.for("react.suspense"),Fb=Symbol.for("react.memo"),Ib=Symbol.for("react.lazy"),C1=Symbol.iterator;function Ob(t){return t===null||typeof t!="object"?null:(t=C1&&t[C1]||t["@@iterator"],typeof t=="function"?t:null)}var W2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V2=Object.assign,G2={};function rl(t,e,r){this.props=t,this.context=e,this.refs=G2,this.updater=r||W2}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K2(){}K2.prototype=rl.prototype;function Gp(t,e,r){this.props=t,this.context=e,this.refs=G2,this.updater=r||W2}var Kp=Gp.prototype=new K2;Kp.constructor=Gp;V2(Kp,rl.prototype);Kp.isPureReactComponent=!0;var L1=Array.isArray,J2=Object.prototype.hasOwnProperty,Jp={current:null},Y2={key:!0,ref:!0,__self:!0,__source:!0};function Q2(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)J2.call(e,n)&&!Y2.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Du,type:t,key:s,ref:a,props:i,_owner:Jp.current}}function Rb(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function Mb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var E1=/\/+/g;function Ff(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mb(""+t.key):e.toString(36)}function md(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Du:case kb:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Ff(a,0):n,L1(i)?(r="",t!=null&&(r=t.replace(E1,"$&/")+"/"),md(i,e,r,"",function(c){return c})):i!=null&&(Yp(i)&&(i=Rb(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(E1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",L1(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Ff(s,o);a+=md(s,e,r,l,i)}else if(l=Ob(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Ff(s,o++),a+=md(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uc(t,e,r){if(t==null)return t;var n=[],i=0;return md(t,n,"","",function(s){return e.call(r,s,i++)}),n}function $b(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},yd={transition:null},Bb={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:yd,ReactCurrentOwner:Jp};function X2(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:Uc,forEach:function(t,e,r){Uc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!Yp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ht.Component=rl;ht.Fragment=Ab;ht.Profiler=Pb;ht.PureComponent=Gp;ht.StrictMode=jb;ht.Suspense=Tb;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bb;ht.act=X2;ht.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=V2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Jp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)J2.call(e,l)&&!Y2.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Du,type:t.type,key:i,ref:s,props:n,_owner:a}};ht.createContext=function(t){return t={$$typeof:Lb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cb,_context:t},t.Consumer=t};ht.createElement=Q2;ht.createFactory=function(t){var e=Q2.bind(null,t);return e.type=t,e};ht.createRef=function(){return{current:null}};ht.forwardRef=function(t){return{$$typeof:Eb,render:t}};ht.isValidElement=Yp;ht.lazy=function(t){return{$$typeof:Ib,_payload:{_status:-1,_result:t},_init:$b}};ht.memo=function(t,e){return{$$typeof:Fb,type:t,compare:e===void 0?null:e}};ht.startTransition=function(t){var e=yd.transition;yd.transition={};try{t()}finally{yd.transition=e}};ht.unstable_act=X2;ht.useCallback=function(t,e){return qr.current.useCallback(t,e)};ht.useContext=function(t){return qr.current.useContext(t)};ht.useDebugValue=function(){};ht.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};ht.useEffect=function(t,e){return qr.current.useEffect(t,e)};ht.useId=function(){return qr.current.useId()};ht.useImperativeHandle=function(t,e,r){return qr.current.useImperativeHandle(t,e,r)};ht.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};ht.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};ht.useMemo=function(t,e){return qr.current.useMemo(t,e)};ht.useReducer=function(t,e,r){return qr.current.useReducer(t,e,r)};ht.useRef=function(t){return qr.current.useRef(t)};ht.useState=function(t){return qr.current.useState(t)};ht.useSyncExternalStore=function(t,e,r){return qr.current.useSyncExternalStore(t,e,r)};ht.useTransition=function(){return qr.current.useTransition()};ht.version="18.3.1";H2.exports=ht;var se=H2.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=se,Ub=Symbol.for("react.element"),zb=Symbol.for("react.fragment"),qb=Object.prototype.hasOwnProperty,Hb=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wb={key:!0,ref:!0,__self:!0,__source:!0};function Z2(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)qb.call(e,n)&&!Wb.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Ub,type:t,key:s,ref:a,props:i,_owner:Hb.current}}ph.Fragment=zb;ph.jsx=Z2;ph.jsxs=Z2;q2.exports=ph;var m=q2.exports,ey={exports:{}},vn={},ty={exports:{}},ry={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Q){var ie=q.length;q.push(Q);e:for(;0<ie;){var me=ie-1>>>1,j=q[me];if(0<i(j,Q))q[me]=Q,q[ie]=j,ie=me;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var Q=q[0],ie=q.pop();if(ie!==Q){q[0]=ie;e:for(var me=0,j=q.length,$=j>>>1;me<$;){var V=2*(me+1)-1,J=q[V],Z=V+1,ue=q[Z];if(0>i(J,ie))Z<j&&0>i(ue,J)?(q[me]=ue,q[Z]=ie,me=Z):(q[me]=J,q[V]=ie,me=V);else if(Z<j&&0>i(ue,ie))q[me]=ue,q[Z]=ie,me=Z;else break e}}return Q}function i(q,Q){var ie=q.sortIndex-Q.sortIndex;return ie!==0?ie:q.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,w=3,p=!1,_=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(q){for(var Q=r(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=q)n(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=r(c)}}function T(q){if(N=!1,S(q),!_)if(r(l)!==null)_=!0,de(D);else{var Q=r(c);Q!==null&&re(T,Q.startTime-q)}}function D(q,Q){_=!1,N&&(N=!1,v(k),k=-1),p=!0;var ie=w;try{for(S(Q),f=r(l);f!==null&&(!(f.expirationTime>Q)||q&&!E());){var me=f.callback;if(typeof me=="function"){f.callback=null,w=f.priorityLevel;var j=me(f.expirationTime<=Q);Q=t.unstable_now(),typeof j=="function"?f.callback=j:f===r(l)&&n(l),S(Q)}else n(l);f=r(l)}if(f!==null)var $=!0;else{var V=r(c);V!==null&&re(T,V.startTime-Q),$=!1}return $}finally{f=null,w=ie,p=!1}}var Y=!1,R=null,k=-1,O=5,U=-1;function E(){return!(t.unstable_now()-U<O)}function L(){if(R!==null){var q=t.unstable_now();U=q;var Q=!0;try{Q=R(!0,q)}finally{Q?W():(Y=!1,R=null)}}else Y=!1}var W;if(typeof b=="function")W=function(){b(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,pe=K.port2;K.port1.onmessage=L,W=function(){pe.postMessage(null)}}else W=function(){A(L,0)};function de(q){R=q,Y||(Y=!0,W())}function re(q,Q){k=A(function(){q(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,de(D))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var ie=w;w=Q;try{return q()}finally{w=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=w;w=q;try{return Q()}finally{w=ie}},t.unstable_scheduleCallback=function(q,Q,ie){var me=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ie+j,q={id:h++,callback:Q,priorityLevel:q,startTime:ie,expirationTime:j,sortIndex:-1},ie>me?(q.sortIndex=ie,e(c,q),r(l)===null&&q===r(c)&&(N?(v(k),k=-1):N=!0,re(T,ie-me))):(q.sortIndex=j,e(l,q),_||p||(_=!0,de(D))),q},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(q){var Q=w;return function(){var ie=w;w=Q;try{return q.apply(this,arguments)}finally{w=ie}}}})(ry);ty.exports=ry;var Vb=ty.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb=se,yn=Vb;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ny=new Set,bu={};function La(t,e){Vo(t,e),Vo(t+"Capture",e)}function Vo(t,e){for(bu[t]=e,t=0;t<e.length;t++)ny.add(e[t])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j0=Object.prototype.hasOwnProperty,Kb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T1={},F1={};function Jb(t){return j0.call(F1,t)?!0:j0.call(T1,t)?!1:Kb.test(t)?F1[t]=!0:(T1[t]=!0,!1)}function Yb(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qb(t,e,r,n){if(e===null||typeof e>"u"||Yb(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kr[t]=new Hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kr[e]=new Hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kr[t]=new Hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kr[t]=new Hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kr[t]=new Hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kr[t]=new Hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kr[t]=new Hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kr[t]=new Hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kr[t]=new Hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qp,Xp);kr[e]=new Hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qp,Xp);kr[e]=new Hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qp,Xp);kr[e]=new Hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zp(t,e,r,n){var i=kr.hasOwnProperty(e)?kr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qb(e,r,i,n)&&(r=null),n||i===null?Jb(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var is=Gb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zc=Symbol.for("react.element"),So=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),P0=Symbol.for("react.profiler"),iy=Symbol.for("react.provider"),sy=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),C0=Symbol.for("react.suspense"),L0=Symbol.for("react.suspense_list"),rg=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),ay=Symbol.for("react.offscreen"),I1=Symbol.iterator;function Dl(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,If;function eu(t){if(If===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||""}return`
`+If+t}var Of=!1;function Rf(t,e){if(!t||Of)return"";Of=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Of=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?eu(t):""}function Xb(t){switch(t.tag){case 5:return eu(t.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return t=Rf(t.type,!1),t;case 11:return t=Rf(t.type.render,!1),t;case 1:return t=Rf(t.type,!0),t;default:return""}}function E0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case So:return"Portal";case P0:return"Profiler";case eg:return"StrictMode";case C0:return"Suspense";case L0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sy:return(t.displayName||"Context")+".Consumer";case iy:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rg:return e=t.displayName||null,e!==null?e:E0(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return E0(t(e))}catch{}}return null}function Zb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E0(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ex(t){var e=oy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=ex(t))}function ly(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=oy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function T0(t,e){var r=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function O1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uy(t,e){e=e.checked,e!=null&&Zp(t,"checked",e,!1)}function F0(t,e){uy(t,e);var r=zs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I0(t,e.type,r):e.hasOwnProperty("defaultValue")&&I0(t,e.type,zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function I0(t,e,r){(e!=="number"||Id(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var tu=Array.isArray;function Oo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function O0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(tu(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zs(r)}}function cy(t,e){var r=zs(e.value),n=zs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function $1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hc,hy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tx=["Webkit","ms","Moz","O"];Object.keys(ou).forEach(function(t){tx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ou[e]=ou[t]})});function fy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ou.hasOwnProperty(t)&&ou[t]?(""+e).trim():e+"px"}function py(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rx=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M0(t,e){if(e){if(rx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function $0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=null;function ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var D0=null,Ro=null,Mo=null;function B1(t){if(t=qu(t)){if(typeof D0!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=wh(e),D0(t.stateNode,t.type,e))}}function gy(t){Ro?Mo?Mo.push(t):Mo=[t]:Ro=t}function my(){if(Ro){var t=Ro,e=Mo;if(Mo=Ro=null,B1(t),e)for(t=0;t<e.length;t++)B1(e[t])}}function yy(t,e){return t(e)}function vy(){}var Mf=!1;function wy(t,e,r){if(Mf)return t(e,r);Mf=!0;try{return yy(t,e,r)}finally{Mf=!1,(Ro!==null||Mo!==null)&&(vy(),my())}}function Su(t,e){var r=t.stateNode;if(r===null)return null;var n=wh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var U0=!1;if(Qi)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){U0=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{U0=!1}function nx(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var lu=!1,Od=null,Rd=!1,z0=null,ix={onError:function(t){lu=!0,Od=t}};function sx(t,e,r,n,i,s,a,o,l){lu=!1,Od=null,nx.apply(ix,arguments)}function ax(t,e,r,n,i,s,a,o,l){if(sx.apply(this,arguments),lu){if(lu){var c=Od;lu=!1,Od=null}else throw Error(Le(198));Rd||(Rd=!0,z0=c)}}function Ea(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function by(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D1(t){if(Ea(t)!==t)throw Error(Le(188))}function ox(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return D1(i),t;if(s===n)return D1(i),e;s=s.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function xy(t){return t=ox(t),t!==null?Sy(t):null}function Sy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sy(t);if(e!==null)return e;t=t.sibling}return null}var _y=yn.unstable_scheduleCallback,U1=yn.unstable_cancelCallback,lx=yn.unstable_shouldYield,ux=yn.unstable_requestPaint,Xt=yn.unstable_now,cx=yn.unstable_getCurrentPriorityLevel,ig=yn.unstable_ImmediatePriority,Ny=yn.unstable_UserBlockingPriority,Md=yn.unstable_NormalPriority,dx=yn.unstable_LowPriority,ky=yn.unstable_IdlePriority,gh=null,Si=null;function hx(t){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(gh,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:gx,fx=Math.log,px=Math.LN2;function gx(t){return t>>>=0,t===0?32:31-(fx(t)/px|0)|0}var Wc=64,Vc=4194304;function ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $d(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=ru(o):(s&=a,s!==0&&(n=ru(s)))}else a=r&~i,a!==0?n=ru(a):s!==0&&(n=ru(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ei(e),i=1<<r,n|=t[r],e&=~i;return n}function mx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ei(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=mx(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function q0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ay(){var t=Wc;return Wc<<=1,!(Wc&4194240)&&(Wc=64),t}function $f(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Uu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=r}function vx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ei(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function sg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ei(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var _t=0;function jy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Py,ag,Cy,Ly,Ey,H0=!1,Gc=[],Is=null,Os=null,Rs=null,_u=new Map,Nu=new Map,js=[],wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z1(t,e){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":_u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(e.pointerId)}}function zl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=qu(e),e!==null&&ag(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bx(t,e,r,n,i){switch(e){case"focusin":return Is=zl(Is,t,e,r,n,i),!0;case"dragenter":return Os=zl(Os,t,e,r,n,i),!0;case"mouseover":return Rs=zl(Rs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return _u.set(s,zl(_u.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Nu.set(s,zl(Nu.get(s)||null,t,e,r,n,i)),!0}return!1}function Ty(t){var e=va(t.target);if(e!==null){var r=Ea(e);if(r!==null){if(e=r.tag,e===13){if(e=by(r),e!==null){t.blockedOn=e,Ey(t.priority,function(){Cy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=W0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);B0=n,r.target.dispatchEvent(n),B0=null}else return e=qu(r),e!==null&&ag(e),t.blockedOn=r,!1;e.shift()}return!0}function q1(t,e,r){vd(t)&&r.delete(e)}function xx(){H0=!1,Is!==null&&vd(Is)&&(Is=null),Os!==null&&vd(Os)&&(Os=null),Rs!==null&&vd(Rs)&&(Rs=null),_u.forEach(q1),Nu.forEach(q1)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,H0||(H0=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,xx)))}function ku(t){function e(i){return ql(i,t)}if(0<Gc.length){ql(Gc[0],t);for(var r=1;r<Gc.length;r++){var n=Gc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Is!==null&&ql(Is,t),Os!==null&&ql(Os,t),Rs!==null&&ql(Rs,t),_u.forEach(e),Nu.forEach(e),r=0;r<js.length;r++)n=js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<js.length&&(r=js[0],r.blockedOn===null);)Ty(r),r.blockedOn===null&&js.shift()}var $o=is.ReactCurrentBatchConfig,Bd=!0;function Sx(t,e,r,n){var i=_t,s=$o.transition;$o.transition=null;try{_t=1,og(t,e,r,n)}finally{_t=i,$o.transition=s}}function _x(t,e,r,n){var i=_t,s=$o.transition;$o.transition=null;try{_t=4,og(t,e,r,n)}finally{_t=i,$o.transition=s}}function og(t,e,r,n){if(Bd){var i=W0(t,e,r,n);if(i===null)Kf(t,e,n,Dd,r),z1(t,n);else if(bx(i,t,e,r,n))n.stopPropagation();else if(z1(t,n),e&4&&-1<wx.indexOf(t)){for(;i!==null;){var s=qu(i);if(s!==null&&Py(s),s=W0(t,e,r,n),s===null&&Kf(t,e,n,Dd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Kf(t,e,n,null,r)}}var Dd=null;function W0(t,e,r,n){if(Dd=null,t=ng(n),t=va(t),t!==null)if(e=Ea(t),e===null)t=null;else if(r=e.tag,r===13){if(t=by(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dd=t,null}function Fy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cx()){case ig:return 1;case Ny:return 4;case Md:case dx:return 16;case ky:return 536870912;default:return 16}default:return 16}}var Ls=null,lg=null,wd=null;function Iy(){if(wd)return wd;var t,e=lg,r=e.length,n,i="value"in Ls?Ls.value:Ls.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return wd=i.slice(t,1<n?1-n:void 0)}function bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function H1(){return!1}function wn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kc:H1,this.isPropagationStopped=H1,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=wn(nl),zu=zt({},nl,{view:0,detail:0}),Nx=wn(zu),Bf,Df,Hl,mh=zt({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(Bf=t.screenX-Hl.screenX,Df=t.screenY-Hl.screenY):Df=Bf=0,Hl=t),Bf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),W1=wn(mh),kx=zt({},mh,{dataTransfer:0}),Ax=wn(kx),jx=zt({},zu,{relatedTarget:0}),Uf=wn(jx),Px=zt({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Cx=wn(Px),Lx=zt({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ex=wn(Lx),Tx=zt({},nl,{data:0}),V1=wn(Tx),Fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ox={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ox[t])?!!e[t]:!1}function cg(){return Rx}var Mx=zt({},zu,{key:function(t){if(t.key){var e=Fx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cg,charCode:function(t){return t.type==="keypress"?bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$x=wn(Mx),Bx=zt({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G1=wn(Bx),Dx=zt({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cg}),Ux=wn(Dx),zx=zt({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qx=wn(zx),Hx=zt({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wx=wn(Hx),Vx=[9,13,27,32],dg=Qi&&"CompositionEvent"in window,uu=null;Qi&&"documentMode"in document&&(uu=document.documentMode);var Gx=Qi&&"TextEvent"in window&&!uu,Oy=Qi&&(!dg||uu&&8<uu&&11>=uu),K1=" ",J1=!1;function Ry(t,e){switch(t){case"keyup":return Vx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var No=!1;function Kx(t,e){switch(t){case"compositionend":return My(e);case"keypress":return e.which!==32?null:(J1=!0,K1);case"textInput":return t=e.data,t===K1&&J1?null:t;default:return null}}function Jx(t,e){if(No)return t==="compositionend"||!dg&&Ry(t,e)?(t=Iy(),wd=lg=Ls=null,No=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Oy&&e.locale!=="ko"?null:e.data;default:return null}}var Yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yx[t.type]:e==="textarea"}function $y(t,e,r,n){gy(n),e=Ud(e,"onChange"),0<e.length&&(r=new ug("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var cu=null,Au=null;function Qx(t){Jy(t,0)}function yh(t){var e=jo(t);if(ly(e))return t}function Xx(t,e){if(t==="change")return e}var By=!1;if(Qi){var zf;if(Qi){var qf="oninput"in document;if(!qf){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),qf=typeof Q1.oninput=="function"}zf=qf}else zf=!1;By=zf&&(!document.documentMode||9<document.documentMode)}function X1(){cu&&(cu.detachEvent("onpropertychange",Dy),Au=cu=null)}function Dy(t){if(t.propertyName==="value"&&yh(Au)){var e=[];$y(e,Au,t,ng(t)),wy(Qx,e)}}function Zx(t,e,r){t==="focusin"?(X1(),cu=e,Au=r,cu.attachEvent("onpropertychange",Dy)):t==="focusout"&&X1()}function e4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yh(Au)}function t4(t,e){if(t==="click")return yh(e)}function r4(t,e){if(t==="input"||t==="change")return yh(e)}function n4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ri=typeof Object.is=="function"?Object.is:n4;function ju(t,e){if(ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!j0.call(e,i)||!ri(t[i],e[i]))return!1}return!0}function Z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,e){var r=Z1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z1(r)}}function Uy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zy(){for(var t=window,e=Id();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Id(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i4(t){var e=zy(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Uy(r.ownerDocument.documentElement,r)){if(n!==null&&hg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=em(r,s);var a=em(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s4=Qi&&"documentMode"in document&&11>=document.documentMode,ko=null,V0=null,du=null,G0=!1;function tm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;G0||ko==null||ko!==Id(n)||(n=ko,"selectionStart"in n&&hg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),du&&ju(du,n)||(du=n,n=Ud(V0,"onSelect"),0<n.length&&(e=new ug("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ko)))}function Jc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ao={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},Hf={},qy={};Qi&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function vh(t){if(Hf[t])return Hf[t];if(!Ao[t])return t;var e=Ao[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in qy)return Hf[t]=e[r];return t}var Hy=vh("animationend"),Wy=vh("animationiteration"),Vy=vh("animationstart"),Gy=vh("transitionend"),Ky=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){Ky.set(t,e),La(e,[t])}for(var Wf=0;Wf<rm.length;Wf++){var Vf=rm[Wf],a4=Vf.toLowerCase(),o4=Vf[0].toUpperCase()+Vf.slice(1);Gs(a4,"on"+o4)}Gs(Hy,"onAnimationEnd");Gs(Wy,"onAnimationIteration");Gs(Vy,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(Gy,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l4=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function nm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ax(n,e,void 0,t),t.currentTarget=null}function Jy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;nm(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;nm(i,o,c),s=l}}}if(Rd)throw t=z0,Rd=!1,z0=null,t}function Ft(t,e){var r=e[X0];r===void 0&&(r=e[X0]=new Set);var n=t+"__bubble";r.has(n)||(Yy(e,t,2,!1),r.add(n))}function Gf(t,e,r){var n=0;e&&(n|=4),Yy(r,t,n,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Pu(t){if(!t[Yc]){t[Yc]=!0,ny.forEach(function(r){r!=="selectionchange"&&(l4.has(r)||Gf(r,!1,t),Gf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,Gf("selectionchange",!1,e))}}function Yy(t,e,r,n){switch(Fy(e)){case 1:var i=Sx;break;case 4:i=_x;break;default:i=og}r=i.bind(null,e,r,t),i=void 0,!U0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Kf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=va(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}wy(function(){var c=s,h=ng(r),f=[];e:{var w=Ky.get(t);if(w!==void 0){var p=ug,_=t;switch(t){case"keypress":if(bd(r)===0)break e;case"keydown":case"keyup":p=$x;break;case"focusin":_="focus",p=Uf;break;case"focusout":_="blur",p=Uf;break;case"beforeblur":case"afterblur":p=Uf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ux;break;case Hy:case Wy:case Vy:p=Cx;break;case Gy:p=qx;break;case"scroll":p=Nx;break;case"wheel":p=Wx;break;case"copy":case"cut":case"paste":p=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=G1}var N=(e&4)!==0,A=!N&&t==="scroll",v=N?w!==null?w+"Capture":null:w;N=[];for(var b=c,S;b!==null;){S=b;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,v!==null&&(T=Su(b,v),T!=null&&N.push(Cu(b,T,S)))),A)break;b=b.return}0<N.length&&(w=new p(w,_,null,r,h),f.push({event:w,listeners:N}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",w&&r!==B0&&(_=r.relatedTarget||r.fromElement)&&(va(_)||_[Xi]))break e;if((p||w)&&(w=h.window===h?h:(w=h.ownerDocument)?w.defaultView||w.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=c,_=_?va(_):null,_!==null&&(A=Ea(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(N=W1,T="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(N=G1,T="onPointerLeave",v="onPointerEnter",b="pointer"),A=p==null?w:jo(p),S=_==null?w:jo(_),w=new N(T,b+"leave",p,r,h),w.target=A,w.relatedTarget=S,T=null,va(h)===c&&(N=new N(v,b+"enter",_,r,h),N.target=S,N.relatedTarget=A,T=N),A=T,p&&_)t:{for(N=p,v=_,b=0,S=N;S;S=uo(S))b++;for(S=0,T=v;T;T=uo(T))S++;for(;0<b-S;)N=uo(N),b--;for(;0<S-b;)v=uo(v),S--;for(;b--;){if(N===v||v!==null&&N===v.alternate)break t;N=uo(N),v=uo(v)}N=null}else N=null;p!==null&&im(f,w,p,N,!1),_!==null&&A!==null&&im(f,A,_,N,!0)}}e:{if(w=c?jo(c):window,p=w.nodeName&&w.nodeName.toLowerCase(),p==="select"||p==="input"&&w.type==="file")var D=Xx;else if(Y1(w))if(By)D=r4;else{D=e4;var Y=Zx}else(p=w.nodeName)&&p.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(D=t4);if(D&&(D=D(t,c))){$y(f,D,r,h);break e}Y&&Y(t,w,c),t==="focusout"&&(Y=w._wrapperState)&&Y.controlled&&w.type==="number"&&I0(w,"number",w.value)}switch(Y=c?jo(c):window,t){case"focusin":(Y1(Y)||Y.contentEditable==="true")&&(ko=Y,V0=c,du=null);break;case"focusout":du=V0=ko=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,tm(f,r,h);break;case"selectionchange":if(s4)break;case"keydown":case"keyup":tm(f,r,h)}var R;if(dg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else No?Ry(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Oy&&r.locale!=="ko"&&(No||k!=="onCompositionStart"?k==="onCompositionEnd"&&No&&(R=Iy()):(Ls=h,lg="value"in Ls?Ls.value:Ls.textContent,No=!0)),Y=Ud(c,k),0<Y.length&&(k=new V1(k,t,null,r,h),f.push({event:k,listeners:Y}),R?k.data=R:(R=My(r),R!==null&&(k.data=R)))),(R=Gx?Kx(t,r):Jx(t,r))&&(c=Ud(c,"onBeforeInput"),0<c.length&&(h=new V1("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=R))}Jy(f,e)})}function Cu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ud(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Su(t,r),s!=null&&n.unshift(Cu(t,s,i)),s=Su(t,e),s!=null&&n.push(Cu(t,s,i))),t=t.return}return n}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function im(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Su(r,s),l!=null&&a.unshift(Cu(r,l,o))):i||(l=Su(r,s),l!=null&&a.push(Cu(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var u4=/\r\n?/g,c4=/\u0000|\uFFFD/g;function sm(t){return(typeof t=="string"?t:""+t).replace(u4,`
`).replace(c4,"")}function Qc(t,e,r){if(e=sm(e),sm(t)!==e&&r)throw Error(Le(425))}function zd(){}var K0=null,J0=null;function Y0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q0=typeof setTimeout=="function"?setTimeout:void 0,d4=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,h4=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(t){return am.resolve(null).then(t).catch(f4)}:Q0;function f4(t){setTimeout(function(){throw t})}function Jf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ku(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ku(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function om(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),wi="__reactFiber$"+il,Lu="__reactProps$"+il,Xi="__reactContainer$"+il,X0="__reactEvents$"+il,p4="__reactListeners$"+il,g4="__reactHandles$"+il;function va(t){var e=t[wi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xi]||r[wi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=om(t);t!==null;){if(r=t[wi])return r;t=om(t)}return e}t=r,r=t.parentNode}return null}function qu(t){return t=t[wi]||t[Xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function wh(t){return t[Lu]||null}var Z0=[],Po=-1;function Ks(t){return{current:t}}function Ot(t){0>Po||(t.current=Z0[Po],Z0[Po]=null,Po--)}function Tt(t,e){Po++,Z0[Po]=t.current,t.current=e}var qs={},Mr=Ks(qs),rn=Ks(!1),ka=qs;function Go(t,e){var r=t.type.contextTypes;if(!r)return qs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function qd(){Ot(rn),Ot(Mr)}function lm(t,e,r){if(Mr.current!==qs)throw Error(Le(168));Tt(Mr,e),Tt(rn,r)}function Qy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Le(108,Zb(t)||"Unknown",i));return zt({},r,n)}function Hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qs,ka=Mr.current,Tt(Mr,t),Tt(rn,rn.current),!0}function um(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=Qy(t,e,ka),n.__reactInternalMemoizedMergedChildContext=t,Ot(rn),Ot(Mr),Tt(Mr,t)):Ot(rn),Tt(rn,r)}var Wi=null,bh=!1,Yf=!1;function Xy(t){Wi===null?Wi=[t]:Wi.push(t)}function m4(t){bh=!0,Xy(t)}function Js(){if(!Yf&&Wi!==null){Yf=!0;var t=0,e=_t;try{var r=Wi;for(_t=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Wi=null,bh=!1}catch(i){throw Wi!==null&&(Wi=Wi.slice(t+1)),_y(ig,Js),i}finally{_t=e,Yf=!1}}return null}var Co=[],Lo=0,Wd=null,Vd=0,Cn=[],Ln=0,Aa=null,Vi=1,Gi="";function ha(t,e){Co[Lo++]=Vd,Co[Lo++]=Wd,Wd=t,Vd=e}function Zy(t,e,r){Cn[Ln++]=Vi,Cn[Ln++]=Gi,Cn[Ln++]=Aa,Aa=t;var n=Vi;t=Gi;var i=32-ei(n)-1;n&=~(1<<i),r+=1;var s=32-ei(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Vi=1<<32-ei(e)+i|r<<i|n,Gi=s+t}else Vi=1<<s|r<<i|n,Gi=t}function fg(t){t.return!==null&&(ha(t,1),Zy(t,1,0))}function pg(t){for(;t===Wd;)Wd=Co[--Lo],Co[Lo]=null,Vd=Co[--Lo],Co[Lo]=null;for(;t===Aa;)Aa=Cn[--Ln],Cn[Ln]=null,Gi=Cn[--Ln],Cn[Ln]=null,Vi=Cn[--Ln],Cn[Ln]=null}var gn=null,fn=null,Mt=!1,Zn=null;function e5(t,e){var r=En(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function cm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,fn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Aa!==null?{id:Vi,overflow:Gi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=En(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gn=t,fn=null,!0):!1;default:return!1}}function ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tp(t){if(Mt){var e=fn;if(e){var r=e;if(!cm(t,e)){if(ep(t))throw Error(Le(418));e=Ms(r.nextSibling);var n=gn;e&&cm(t,e)?e5(n,r):(t.flags=t.flags&-4097|2,Mt=!1,gn=t)}}else{if(ep(t))throw Error(Le(418));t.flags=t.flags&-4097|2,Mt=!1,gn=t}}}function dm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function Xc(t){if(t!==gn)return!1;if(!Mt)return dm(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Y0(t.type,t.memoizedProps)),e&&(e=fn)){if(ep(t))throw t5(),Error(Le(418));for(;e;)e5(t,e),e=Ms(e.nextSibling)}if(dm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fn=Ms(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=gn?Ms(t.stateNode.nextSibling):null;return!0}function t5(){for(var t=fn;t;)t=Ms(t.nextSibling)}function Ko(){fn=gn=null,Mt=!1}function gg(t){Zn===null?Zn=[t]:Zn.push(t)}var y4=is.ReactCurrentBatchConfig;function Wl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function Zc(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hm(t){var e=t._init;return e(t._payload)}function r5(t){function e(v,b){if(t){var S=v.deletions;S===null?(v.deletions=[b],v.flags|=16):S.push(b)}}function r(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Us(v,b),v.index=0,v.sibling=null,v}function s(v,b,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<b?(v.flags|=2,b):S):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,S,T){return b===null||b.tag!==6?(b=n0(S,v.mode,T),b.return=v,b):(b=i(b,S),b.return=v,b)}function l(v,b,S,T){var D=S.type;return D===_o?h(v,b,S.props.children,T,S.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ks&&hm(D)===b.type)?(T=i(b,S.props),T.ref=Wl(v,b,S),T.return=v,T):(T=jd(S.type,S.key,S.props,null,v.mode,T),T.ref=Wl(v,b,S),T.return=v,T)}function c(v,b,S,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=i0(S,v.mode,T),b.return=v,b):(b=i(b,S.children||[]),b.return=v,b)}function h(v,b,S,T,D){return b===null||b.tag!==7?(b=_a(S,v.mode,T,D),b.return=v,b):(b=i(b,S),b.return=v,b)}function f(v,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=n0(""+b,v.mode,S),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zc:return S=jd(b.type,b.key,b.props,null,v.mode,S),S.ref=Wl(v,null,b),S.return=v,S;case So:return b=i0(b,v.mode,S),b.return=v,b;case ks:var T=b._init;return f(v,T(b._payload),S)}if(tu(b)||Dl(b))return b=_a(b,v.mode,S,null),b.return=v,b;Zc(v,b)}return null}function w(v,b,S,T){var D=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:o(v,b,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zc:return S.key===D?l(v,b,S,T):null;case So:return S.key===D?c(v,b,S,T):null;case ks:return D=S._init,w(v,b,D(S._payload),T)}if(tu(S)||Dl(S))return D!==null?null:h(v,b,S,T,null);Zc(v,S)}return null}function p(v,b,S,T,D){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(S)||null,o(b,v,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zc:return v=v.get(T.key===null?S:T.key)||null,l(b,v,T,D);case So:return v=v.get(T.key===null?S:T.key)||null,c(b,v,T,D);case ks:var Y=T._init;return p(v,b,S,Y(T._payload),D)}if(tu(T)||Dl(T))return v=v.get(S)||null,h(b,v,T,D,null);Zc(b,T)}return null}function _(v,b,S,T){for(var D=null,Y=null,R=b,k=b=0,O=null;R!==null&&k<S.length;k++){R.index>k?(O=R,R=null):O=R.sibling;var U=w(v,R,S[k],T);if(U===null){R===null&&(R=O);break}t&&R&&U.alternate===null&&e(v,R),b=s(U,b,k),Y===null?D=U:Y.sibling=U,Y=U,R=O}if(k===S.length)return r(v,R),Mt&&ha(v,k),D;if(R===null){for(;k<S.length;k++)R=f(v,S[k],T),R!==null&&(b=s(R,b,k),Y===null?D=R:Y.sibling=R,Y=R);return Mt&&ha(v,k),D}for(R=n(v,R);k<S.length;k++)O=p(R,v,k,S[k],T),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?k:O.key),b=s(O,b,k),Y===null?D=O:Y.sibling=O,Y=O);return t&&R.forEach(function(E){return e(v,E)}),Mt&&ha(v,k),D}function N(v,b,S,T){var D=Dl(S);if(typeof D!="function")throw Error(Le(150));if(S=D.call(S),S==null)throw Error(Le(151));for(var Y=D=null,R=b,k=b=0,O=null,U=S.next();R!==null&&!U.done;k++,U=S.next()){R.index>k?(O=R,R=null):O=R.sibling;var E=w(v,R,U.value,T);if(E===null){R===null&&(R=O);break}t&&R&&E.alternate===null&&e(v,R),b=s(E,b,k),Y===null?D=E:Y.sibling=E,Y=E,R=O}if(U.done)return r(v,R),Mt&&ha(v,k),D;if(R===null){for(;!U.done;k++,U=S.next())U=f(v,U.value,T),U!==null&&(b=s(U,b,k),Y===null?D=U:Y.sibling=U,Y=U);return Mt&&ha(v,k),D}for(R=n(v,R);!U.done;k++,U=S.next())U=p(R,v,k,U.value,T),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?k:U.key),b=s(U,b,k),Y===null?D=U:Y.sibling=U,Y=U);return t&&R.forEach(function(L){return e(v,L)}),Mt&&ha(v,k),D}function A(v,b,S,T){if(typeof S=="object"&&S!==null&&S.type===_o&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zc:e:{for(var D=S.key,Y=b;Y!==null;){if(Y.key===D){if(D=S.type,D===_o){if(Y.tag===7){r(v,Y.sibling),b=i(Y,S.props.children),b.return=v,v=b;break e}}else if(Y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ks&&hm(D)===Y.type){r(v,Y.sibling),b=i(Y,S.props),b.ref=Wl(v,Y,S),b.return=v,v=b;break e}r(v,Y);break}else e(v,Y);Y=Y.sibling}S.type===_o?(b=_a(S.props.children,v.mode,T,S.key),b.return=v,v=b):(T=jd(S.type,S.key,S.props,null,v.mode,T),T.ref=Wl(v,b,S),T.return=v,v=T)}return a(v);case So:e:{for(Y=S.key;b!==null;){if(b.key===Y)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(v,b.sibling),b=i(b,S.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else e(v,b);b=b.sibling}b=i0(S,v.mode,T),b.return=v,v=b}return a(v);case ks:return Y=S._init,A(v,b,Y(S._payload),T)}if(tu(S))return _(v,b,S,T);if(Dl(S))return N(v,b,S,T);Zc(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,S),b.return=v,v=b):(r(v,b),b=n0(S,v.mode,T),b.return=v,v=b),a(v)):r(v,b)}return A}var Jo=r5(!0),n5=r5(!1),Gd=Ks(null),Kd=null,Eo=null,mg=null;function yg(){mg=Eo=Kd=null}function vg(t){var e=Gd.current;Ot(Gd),t._currentValue=e}function rp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Bo(t,e){Kd=t,mg=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(mg!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(Kd===null)throw Error(Le(308));Eo=t,Kd.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var wa=null;function wg(t){wa===null?wa=[t]:wa.push(t)}function i5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,wg(e)):(r.next=i.next,i.next=r),e.interleaved=r,Zi(t,n)}function Zi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var As=!1;function bg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $s(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Zi(t,r)}return i=n.interleaved,i===null?(e.next=e,wg(n)):(e.next=i.next,i.next=e),n.interleaved=e,Zi(t,r)}function xd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sg(t,r)}}function fm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Jd(t,e,r,n){var i=t.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=c=l=null,o=s;do{var w=o.lane,p=o.eventTime;if((n&w)===w){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,N=o;switch(w=e,p=r,N.tag){case 1:if(_=N.payload,typeof _=="function"){f=_.call(p,f,w);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=N.payload,w=typeof _=="function"?_.call(p,f,w):_,w==null)break e;f=zt({},f,w);break e;case 2:As=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[o]:w.push(o))}else p={eventTime:p,lane:w,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,a|=w;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;w=o,o=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pa|=a,t.lanes=a,t.memoizedState=f}}function pm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var Hu={},_i=Ks(Hu),Eu=Ks(Hu),Tu=Ks(Hu);function ba(t){if(t===Hu)throw Error(Le(174));return t}function xg(t,e){switch(Tt(Tu,e),Tt(Eu,t),Tt(_i,Hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:R0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=R0(e,t)}Ot(_i),Tt(_i,e)}function Yo(){Ot(_i),Ot(Eu),Ot(Tu)}function a5(t){ba(Tu.current);var e=ba(_i.current),r=R0(e,t.type);e!==r&&(Tt(Eu,t),Tt(_i,r))}function Sg(t){Eu.current===t&&(Ot(_i),Ot(Eu))}var Bt=Ks(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qf=[];function _g(){for(var t=0;t<Qf.length;t++)Qf[t]._workInProgressVersionPrimary=null;Qf.length=0}var Sd=is.ReactCurrentDispatcher,Xf=is.ReactCurrentBatchConfig,ja=0,Dt=null,dr=null,yr=null,Qd=!1,hu=!1,Fu=0,v4=0;function Pr(){throw Error(Le(321))}function Ng(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ri(t[r],e[r]))return!1;return!0}function kg(t,e,r,n,i,s){if(ja=s,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sd.current=t===null||t.memoizedState===null?S4:_4,t=r(n,i),hu){s=0;do{if(hu=!1,Fu=0,25<=s)throw Error(Le(301));s+=1,yr=dr=null,e.updateQueue=null,Sd.current=N4,t=r(n,i)}while(hu)}if(Sd.current=Xd,e=dr!==null&&dr.next!==null,ja=0,yr=dr=Dt=null,Qd=!1,e)throw Error(Le(300));return t}function Ag(){var t=Fu!==0;return Fu=0,t}function vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Dt.memoizedState=yr=t:yr=yr.next=t,yr}function In(){if(dr===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=yr===null?Dt.memoizedState:yr.next;if(e!==null)yr=e,dr=t;else{if(t===null)throw Error(Le(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},yr===null?Dt.memoizedState=yr=t:yr=yr.next=t}return yr}function Iu(t,e){return typeof e=="function"?e(t):e}function Zf(t){var e=In(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=dr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((ja&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,Dt.lanes|=h,Pa|=h}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,ri(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Dt.lanes|=s,Pa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function e0(t){var e=In(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ri(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function o5(){}function l5(t,e){var r=Dt,n=In(),i=e(),s=!ri(n.memoizedState,i);if(s&&(n.memoizedState=i,tn=!0),n=n.queue,jg(d5.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||yr!==null&&yr.memoizedState.tag&1){if(r.flags|=2048,Ou(9,c5.bind(null,r,n,i,e),void 0,null),wr===null)throw Error(Le(349));ja&30||u5(r,e,i)}return i}function u5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function c5(t,e,r,n){e.value=r,e.getSnapshot=n,h5(e)&&f5(t)}function d5(t,e,r){return r(function(){h5(e)&&f5(t)})}function h5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ri(t,r)}catch{return!0}}function f5(t){var e=Zi(t,1);e!==null&&ti(e,t,1,-1)}function gm(t){var e=vi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:t},e.queue=t,t=t.dispatch=x4.bind(null,Dt,t),[e.memoizedState,t]}function Ou(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function p5(){return In().memoizedState}function _d(t,e,r,n){var i=vi();Dt.flags|=t,i.memoizedState=Ou(1|e,r,void 0,n===void 0?null:n)}function xh(t,e,r,n){var i=In();n=n===void 0?null:n;var s=void 0;if(dr!==null){var a=dr.memoizedState;if(s=a.destroy,n!==null&&Ng(n,a.deps)){i.memoizedState=Ou(e,r,s,n);return}}Dt.flags|=t,i.memoizedState=Ou(1|e,r,s,n)}function mm(t,e){return _d(8390656,8,t,e)}function jg(t,e){return xh(2048,8,t,e)}function g5(t,e){return xh(4,2,t,e)}function m5(t,e){return xh(4,4,t,e)}function y5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v5(t,e,r){return r=r!=null?r.concat([t]):null,xh(4,4,y5.bind(null,e,t),r)}function Pg(){}function w5(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ng(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function b5(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ng(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function x5(t,e,r){return ja&21?(ri(r,e)||(r=Ay(),Dt.lanes|=r,Pa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function w4(t,e){var r=_t;_t=r!==0&&4>r?r:4,t(!0);var n=Xf.transition;Xf.transition={};try{t(!1),e()}finally{_t=r,Xf.transition=n}}function S5(){return In().memoizedState}function b4(t,e,r){var n=Ds(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_5(t))N5(e,r);else if(r=i5(t,e,r,n),r!==null){var i=zr();ti(r,t,n,i),k5(r,e,n)}}function x4(t,e,r){var n=Ds(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_5(t))N5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ri(o,a)){var l=e.interleaved;l===null?(i.next=i,wg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=i5(t,e,i,n),r!==null&&(i=zr(),ti(r,t,n,i),k5(r,e,n))}}function _5(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function N5(t,e){hu=Qd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function k5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sg(t,r)}}var Xd={readContext:Fn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},S4={readContext:Fn,useCallback:function(t,e){return vi().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:mm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_d(4194308,4,y5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _d(4194308,4,t,e)},useInsertionEffect:function(t,e){return _d(4,2,t,e)},useMemo:function(t,e){var r=vi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=b4.bind(null,Dt,t),[n.memoizedState,t]},useRef:function(t){var e=vi();return t={current:t},e.memoizedState=t},useState:gm,useDebugValue:Pg,useDeferredValue:function(t){return vi().memoizedState=t},useTransition:function(){var t=gm(!1),e=t[0];return t=w4.bind(null,t[1]),vi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Dt,i=vi();if(Mt){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),wr===null)throw Error(Le(349));ja&30||u5(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,mm(d5.bind(null,n,s,t),[t]),n.flags|=2048,Ou(9,c5.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=vi(),e=wr.identifierPrefix;if(Mt){var r=Gi,n=Vi;r=(n&~(1<<32-ei(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=v4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_4={readContext:Fn,useCallback:w5,useContext:Fn,useEffect:jg,useImperativeHandle:v5,useInsertionEffect:g5,useLayoutEffect:m5,useMemo:b5,useReducer:Zf,useRef:p5,useState:function(){return Zf(Iu)},useDebugValue:Pg,useDeferredValue:function(t){var e=In();return x5(e,dr.memoizedState,t)},useTransition:function(){var t=Zf(Iu)[0],e=In().memoizedState;return[t,e]},useMutableSource:o5,useSyncExternalStore:l5,useId:S5,unstable_isNewReconciler:!1},N4={readContext:Fn,useCallback:w5,useContext:Fn,useEffect:jg,useImperativeHandle:v5,useInsertionEffect:g5,useLayoutEffect:m5,useMemo:b5,useReducer:e0,useRef:p5,useState:function(){return e0(Iu)},useDebugValue:Pg,useDeferredValue:function(t){var e=In();return dr===null?e.memoizedState=t:x5(e,dr.memoizedState,t)},useTransition:function(){var t=e0(Iu)[0],e=In().memoizedState;return[t,e]},useMutableSource:o5,useSyncExternalStore:l5,useId:S5,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function np(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:zt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sh={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zr(),i=Ds(t),s=Ji(n,i);s.payload=e,r!=null&&(s.callback=r),e=$s(t,s,i),e!==null&&(ti(e,t,i,n),xd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zr(),i=Ds(t),s=Ji(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=$s(t,s,i),e!==null&&(ti(e,t,i,n),xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zr(),n=Ds(t),i=Ji(r,n);i.tag=2,e!=null&&(i.callback=e),e=$s(t,i,n),e!==null&&(ti(e,t,n,r),xd(e,t,n))}};function ym(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!ju(r,n)||!ju(i,s):!0}function A5(t,e,r){var n=!1,i=qs,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=nn(e)?ka:Mr.current,n=e.contextTypes,s=(n=n!=null)?Go(t,i):qs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Sh.enqueueReplaceState(e,e.state,null)}function ip(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},bg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=nn(e)?ka:Mr.current,i.context=Go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(np(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sh.enqueueReplaceState(i,i.state,null),Jd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qo(t,e){try{var r="",n=e;do r+=Xb(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function t0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function sp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var k4=typeof WeakMap=="function"?WeakMap:Map;function j5(t,e,r){r=Ji(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){eh||(eh=!0,gp=n),sp(t,e)},r}function P5(t,e,r){r=Ji(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){sp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sp(t,e),typeof n!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function wm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new k4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=B4.bind(null,t,e,r),e.then(t,t))}function bm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xm(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ji(-1,1),e.tag=2,$s(r,e,1))),r.lanes|=1),t)}var A4=is.ReactCurrentOwner,tn=!1;function Ur(t,e,r,n){e.child=t===null?n5(e,null,r,n):Jo(e,t.child,r,n)}function Sm(t,e,r,n,i){r=r.render;var s=e.ref;return Bo(e,i),n=kg(t,e,r,n,s,i),r=Ag(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,es(t,e,i)):(Mt&&r&&fg(e),e.flags|=1,Ur(t,e,n,i),e.child)}function _m(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Rg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,C5(t,e,s,n,i)):(t=jd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:ju,r(a,n)&&t.ref===e.ref)return es(t,e,i)}return e.flags|=1,t=Us(s,n),t.ref=e.ref,t.return=e,e.child=t}function C5(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ju(s,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,es(t,e,i)}return ap(t,e,r,n,i)}function L5(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Fo,hn),hn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(Fo,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Tt(Fo,hn),hn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Tt(Fo,hn),hn|=n;return Ur(t,e,i,r),e.child}function E5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ap(t,e,r,n,i){var s=nn(r)?ka:Mr.current;return s=Go(e,s),Bo(e,i),r=kg(t,e,r,n,s,i),n=Ag(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,es(t,e,i)):(Mt&&n&&fg(e),e.flags|=1,Ur(t,e,r,i),e.child)}function Nm(t,e,r,n,i){if(nn(r)){var s=!0;Hd(e)}else s=!1;if(Bo(e,i),e.stateNode===null)Nd(t,e),A5(e,r,n),ip(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=nn(r)?ka:Mr.current,c=Go(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&vm(e,a,n,c),As=!1;var w=e.memoizedState;a.state=w,Jd(e,n,a,i),l=e.memoizedState,o!==n||w!==l||rn.current||As?(typeof h=="function"&&(np(e,r,h,n),l=e.memoizedState),(o=As||ym(e,r,o,n,w,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,s5(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Jn(e.type,o),a.props=c,f=e.pendingProps,w=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=nn(r)?ka:Mr.current,l=Go(e,l));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||w!==l)&&vm(e,a,n,l),As=!1,w=e.memoizedState,a.state=w,Jd(e,n,a,i);var _=e.memoizedState;o!==f||w!==_||rn.current||As?(typeof p=="function"&&(np(e,r,p,n),_=e.memoizedState),(c=As||ym(e,r,c,n,w,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),n=!1)}return op(t,e,r,n,s,i)}function op(t,e,r,n,i,s){E5(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&um(e,r,!1),es(t,e,s);n=e.stateNode,A4.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Jo(e,t.child,null,s),e.child=Jo(e,null,o,s)):Ur(t,e,o,s),e.memoizedState=n.state,i&&um(e,r,!0),e.child}function T5(t){var e=t.stateNode;e.pendingContext?lm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lm(t,e.context,!1),xg(t,e.containerInfo)}function km(t,e,r,n,i){return Ko(),gg(i),e.flags|=256,Ur(t,e,r,n),e.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function up(t){return{baseLanes:t,cachePool:null,transitions:null}}function F5(t,e,r){var n=e.pendingProps,i=Bt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt(Bt,i&1),t===null)return tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=kh(a,n,0,null),t=_a(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=up(r),e.memoizedState=lp,t):Cg(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return j4(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Us(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Us(o,s):(s=_a(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?up(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=lp,n}return s=t.child,t=s.sibling,n=Us(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Cg(t,e){return e=kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,r,n){return n!==null&&gg(n),Jo(e,t.child,null,r),t=Cg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j4(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=t0(Error(Le(422))),ed(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=kh({mode:"visible",children:n.children},i,0,null),s=_a(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Jo(e,t.child,null,a),e.child.memoizedState=up(a),e.memoizedState=lp,s);if(!(e.mode&1))return ed(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Le(419)),n=t0(s,n,void 0),ed(t,e,a,n)}if(o=(a&t.childLanes)!==0,tn||o){if(n=wr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zi(t,i),ti(n,t,i,-1))}return Og(),n=t0(Error(Le(421))),ed(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Ms(i.nextSibling),gn=e,Mt=!0,Zn=null,t!==null&&(Cn[Ln++]=Vi,Cn[Ln++]=Gi,Cn[Ln++]=Aa,Vi=t.id,Gi=t.overflow,Aa=e),e=Cg(e,n.children),e.flags|=4096,e)}function Am(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),rp(t.return,e,r)}function r0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function I5(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ur(t,e,n.children,r),n=Bt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Am(t,r,e);else if(t.tag===19)Am(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Tt(Bt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Yd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),r0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}r0(e,!0,r,null,s);break;case"together":r0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function es(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Pa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=Us(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Us(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function P4(t,e,r){switch(e.tag){case 3:T5(e),Ko();break;case 5:a5(e);break;case 1:nn(e.type)&&Hd(e);break;case 4:xg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Tt(Gd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Tt(Bt,Bt.current&1),e.flags|=128,null):r&e.child.childLanes?F5(t,e,r):(Tt(Bt,Bt.current&1),t=es(t,e,r),t!==null?t.sibling:null);Tt(Bt,Bt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return I5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Bt,Bt.current),n)break;return null;case 22:case 23:return e.lanes=0,L5(t,e,r)}return es(t,e,r)}var O5,cp,R5,M5;O5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cp=function(){};R5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ba(_i.current);var s=null;switch(r){case"input":i=T0(t,i),n=T0(t,n),s=[];break;case"select":i=zt({},i,{value:void 0}),n=zt({},n,{value:void 0}),s=[];break;case"textarea":i=O0(t,i),n=O0(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zd)}M0(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ft("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};M5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vl(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function C4(t,e,r){var n=e.pendingProps;switch(pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return nn(e.type)&&qd(),Cr(e),null;case 3:return n=e.stateNode,Yo(),Ot(rn),Ot(Mr),_g(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(vp(Zn),Zn=null))),cp(t,e),Cr(e),null;case 5:Sg(e);var i=ba(Tu.current);if(r=e.type,t!==null&&e.stateNode!=null)R5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return Cr(e),null}if(t=ba(_i.current),Xc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[wi]=e,n[Lu]=s,t=(e.mode&1)!==0,r){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(i=0;i<nu.length;i++)Ft(nu[i],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":O1(n,s),Ft("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",n);break;case"textarea":M1(n,s),Ft("invalid",n)}M0(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Qc(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Qc(n.textContent,o,t),i=["children",""+o]):bu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ft("scroll",n)}switch(r){case"input":qc(n),R1(n,s,!0);break;case"textarea":qc(n),$1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=zd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dy(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[wi]=e,t[Lu]=n,O5(t,e,!1,!1),e.stateNode=t;e:{switch(a=$0(r,n),r){case"dialog":Ft("cancel",t),Ft("close",t),i=n;break;case"iframe":case"object":case"embed":Ft("load",t),i=n;break;case"video":case"audio":for(i=0;i<nu.length;i++)Ft(nu[i],t);i=n;break;case"source":Ft("error",t),i=n;break;case"img":case"image":case"link":Ft("error",t),Ft("load",t),i=n;break;case"details":Ft("toggle",t),i=n;break;case"input":O1(t,n),i=T0(t,n),Ft("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=zt({},n,{value:void 0}),Ft("invalid",t);break;case"textarea":M1(t,n),i=O0(t,n),Ft("invalid",t);break;default:i=n}M0(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?py(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hy(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xu(t,l):typeof l=="number"&&xu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ft("scroll",t):l!=null&&Zp(t,s,l,a))}switch(r){case"input":qc(t),R1(t,n,!1);break;case"textarea":qc(t),$1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Oo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Oo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)M5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=ba(Tu.current),ba(_i.current),Xc(e)){if(n=e.stateNode,r=e.memoizedProps,n[wi]=e,(s=n.nodeValue!==r)&&(t=gn,t!==null))switch(t.tag){case 3:Qc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wi]=e,e.stateNode=n}return Cr(e),null;case 13:if(Ot(Bt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&fn!==null&&e.mode&1&&!(e.flags&128))t5(),Ko(),e.flags|=98560,s=!1;else if(s=Xc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[wi]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),s=!1}else Zn!==null&&(vp(Zn),Zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Bt.current&1?hr===0&&(hr=3):Og())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return Yo(),cp(t,e),t===null&&Pu(e.stateNode.containerInfo),Cr(e),null;case 10:return vg(e.type._context),Cr(e),null;case 17:return nn(e.type)&&qd(),Cr(e),null;case 19:if(Ot(Bt),s=e.memoizedState,s===null)return Cr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Vl(s,!1);else{if(hr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yd(t),a!==null){for(e.flags|=128,Vl(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Tt(Bt,Bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>Xo&&(e.flags|=128,n=!0,Vl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Yd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Mt)return Cr(e),null}else 2*Xt()-s.renderingStartTime>Xo&&r!==1073741824&&(e.flags|=128,n=!0,Vl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,r=Bt.current,Tt(Bt,n?r&1|2:r&1),e):(Cr(e),null);case 22:case 23:return Ig(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?hn&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function L4(t,e){switch(pg(e),e.tag){case 1:return nn(e.type)&&qd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Ot(rn),Ot(Mr),_g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sg(e),null;case 13:if(Ot(Bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ot(Bt),null;case 4:return Yo(),null;case 10:return vg(e.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var td=!1,Or=!1,E4=typeof WeakSet=="function"?WeakSet:Set,De=null;function To(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kt(t,e,n)}else r.current=null}function dp(t,e,r){try{r()}catch(n){Kt(t,e,n)}}var jm=!1;function T4(t,e){if(K0=Bd,t=zy(),hg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=t,w=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)w=f,f=p;for(;;){if(f===t)break t;if(w===r&&++c===i&&(o=a),w===s&&++h===n&&(l=a),(p=f.nextSibling)!==null)break;f=w,w=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(J0={focusedElem:t,selectionRange:r},Bd=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var N=_.memoizedProps,A=_.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?N:Jn(e.type,N),A);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(T){Kt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return _=jm,jm=!1,_}function fu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dp(e,r,s)}i=i.next}while(i!==n)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function hp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $5(t){var e=t.alternate;e!==null&&(t.alternate=null,$5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wi],delete e[Lu],delete e[X0],delete e[p4],delete e[g4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B5(t){return t.tag===5||t.tag===3||t.tag===4}function Pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zd));else if(n!==4&&(t=t.child,t!==null))for(fp(t,e,r),t=t.sibling;t!==null;)fp(t,e,r),t=t.sibling}function pp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(pp(t,e,r),t=t.sibling;t!==null;)pp(t,e,r),t=t.sibling}var _r=null,Qn=!1;function bs(t,e,r){for(r=r.child;r!==null;)D5(t,e,r),r=r.sibling}function D5(t,e,r){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(gh,r)}catch{}switch(r.tag){case 5:Or||To(r,e);case 6:var n=_r,i=Qn;_r=null,bs(t,e,r),_r=n,Qn=i,_r!==null&&(Qn?(t=_r,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_r.removeChild(r.stateNode));break;case 18:_r!==null&&(Qn?(t=_r,r=r.stateNode,t.nodeType===8?Jf(t.parentNode,r):t.nodeType===1&&Jf(t,r),ku(t)):Jf(_r,r.stateNode));break;case 4:n=_r,i=Qn,_r=r.stateNode.containerInfo,Qn=!0,bs(t,e,r),_r=n,Qn=i;break;case 0:case 11:case 14:case 15:if(!Or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dp(r,e,a),i=i.next}while(i!==n)}bs(t,e,r);break;case 1:if(!Or&&(To(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Kt(r,e,o)}bs(t,e,r);break;case 21:bs(t,e,r);break;case 22:r.mode&1?(Or=(n=Or)||r.memoizedState!==null,bs(t,e,r),Or=n):bs(t,e,r);break;default:bs(t,e,r)}}function Cm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new E4),e.forEach(function(n){var i=U4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Wn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:_r=o.stateNode,Qn=!1;break e;case 3:_r=o.stateNode.containerInfo,Qn=!0;break e;case 4:_r=o.stateNode.containerInfo,Qn=!0;break e}o=o.return}if(_r===null)throw Error(Le(160));D5(s,a,i),_r=null,Qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U5(e,t),e=e.sibling}function U5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),mi(t),n&4){try{fu(3,t,t.return),_h(3,t)}catch(N){Kt(t,t.return,N)}try{fu(5,t,t.return)}catch(N){Kt(t,t.return,N)}}break;case 1:Wn(e,t),mi(t),n&512&&r!==null&&To(r,r.return);break;case 5:if(Wn(e,t),mi(t),n&512&&r!==null&&To(r,r.return),t.flags&32){var i=t.stateNode;try{xu(i,"")}catch(N){Kt(t,t.return,N)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&uy(i,s),$0(o,a);var c=$0(o,s);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?py(i,f):h==="dangerouslySetInnerHTML"?hy(i,f):h==="children"?xu(i,f):Zp(i,h,f,c)}switch(o){case"input":F0(i,s);break;case"textarea":cy(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Oo(i,!!s.multiple,p,!1):w!==!!s.multiple&&(s.defaultValue!=null?Oo(i,!!s.multiple,s.defaultValue,!0):Oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lu]=s}catch(N){Kt(t,t.return,N)}}break;case 6:if(Wn(e,t),mi(t),n&4){if(t.stateNode===null)throw Error(Le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Kt(t,t.return,N)}}break;case 3:if(Wn(e,t),mi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ku(e.containerInfo)}catch(N){Kt(t,t.return,N)}break;case 4:Wn(e,t),mi(t);break;case 13:Wn(e,t),mi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tg=Xt())),n&4&&Cm(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Or=(c=Or)||h,Wn(e,t),Or=c):Wn(e,t),mi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(De=t,h=t.child;h!==null;){for(f=De=h;De!==null;){switch(w=De,p=w.child,w.tag){case 0:case 11:case 14:case 15:fu(4,w,w.return);break;case 1:To(w,w.return);var _=w.stateNode;if(typeof _.componentWillUnmount=="function"){n=w,r=w.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(N){Kt(n,r,N)}}break;case 5:To(w,w.return);break;case 22:if(w.memoizedState!==null){Em(f);continue}}p!==null?(p.return=w,De=p):Em(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fy("display",a))}catch(N){Kt(t,t.return,N)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(N){Kt(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wn(e,t),mi(t),n&4&&Cm(t);break;case 21:break;default:Wn(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(B5(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xu(i,""),n.flags&=-33);var s=Pm(t);pp(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Pm(t);fp(t,o,a);break;default:throw Error(Le(161))}}catch(l){Kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F4(t,e,r){De=t,z5(t)}function z5(t,e,r){for(var n=(t.mode&1)!==0;De!==null;){var i=De,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||td;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Or;o=td;var c=Or;if(td=a,(Or=l)&&!c)for(De=i;De!==null;)a=De,l=a.child,a.tag===22&&a.memoizedState!==null?Tm(i):l!==null?(l.return=a,De=l):Tm(i);for(;s!==null;)De=s,z5(s),s=s.sibling;De=i,td=o,Or=c}Lm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,De=s):Lm(t)}}function Lm(t){for(;De!==null;){var e=De;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||_h(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Or)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Jn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pm(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}pm(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ku(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Or||e.flags&512&&hp(e)}catch(w){Kt(e,e.return,w)}}if(e===t){De=null;break}if(r=e.sibling,r!==null){r.return=e.return,De=r;break}De=e.return}}function Em(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var r=e.sibling;if(r!==null){r.return=e.return,De=r;break}De=e.return}}function Tm(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{_h(4,e)}catch(l){Kt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Kt(e,i,l)}}var s=e.return;try{hp(e)}catch(l){Kt(e,s,l)}break;case 5:var a=e.return;try{hp(e)}catch(l){Kt(e,a,l)}}}catch(l){Kt(e,e.return,l)}if(e===t){De=null;break}var o=e.sibling;if(o!==null){o.return=e.return,De=o;break}De=e.return}}var I4=Math.ceil,Zd=is.ReactCurrentDispatcher,Lg=is.ReactCurrentOwner,Tn=is.ReactCurrentBatchConfig,mt=0,wr=null,or=null,Nr=0,hn=0,Fo=Ks(0),hr=0,Ru=null,Pa=0,Nh=0,Eg=0,pu=null,Zr=null,Tg=0,Xo=1/0,zi=null,eh=!1,gp=null,Bs=null,rd=!1,Es=null,th=0,gu=0,mp=null,kd=-1,Ad=0;function zr(){return mt&6?Xt():kd!==-1?kd:kd=Xt()}function Ds(t){return t.mode&1?mt&2&&Nr!==0?Nr&-Nr:y4.transition!==null?(Ad===0&&(Ad=Ay()),Ad):(t=_t,t!==0||(t=window.event,t=t===void 0?16:Fy(t.type)),t):1}function ti(t,e,r,n){if(50<gu)throw gu=0,mp=null,Error(Le(185));Uu(t,r,n),(!(mt&2)||t!==wr)&&(t===wr&&(!(mt&2)&&(Nh|=r),hr===4&&Ps(t,Nr)),sn(t,n),r===1&&mt===0&&!(e.mode&1)&&(Xo=Xt()+500,bh&&Js()))}function sn(t,e){var r=t.callbackNode;yx(t,e);var n=$d(t,t===wr?Nr:0);if(n===0)r!==null&&U1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&U1(r),e===1)t.tag===0?m4(Fm.bind(null,t)):Xy(Fm.bind(null,t)),h4(function(){!(mt&6)&&Js()}),r=null;else{switch(jy(n)){case 1:r=ig;break;case 4:r=Ny;break;case 16:r=Md;break;case 536870912:r=ky;break;default:r=Md}r=Y5(r,q5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function q5(t,e){if(kd=-1,Ad=0,mt&6)throw Error(Le(327));var r=t.callbackNode;if(Do()&&t.callbackNode!==r)return null;var n=$d(t,t===wr?Nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=rh(t,n);else{e=n;var i=mt;mt|=2;var s=W5();(wr!==t||Nr!==e)&&(zi=null,Xo=Xt()+500,Sa(t,e));do try{M4();break}catch(o){H5(t,o)}while(!0);yg(),Zd.current=s,mt=i,or!==null?e=0:(wr=null,Nr=0,e=hr)}if(e!==0){if(e===2&&(i=q0(t),i!==0&&(n=i,e=yp(t,i))),e===1)throw r=Ru,Sa(t,0),Ps(t,n),sn(t,Xt()),r;if(e===6)Ps(t,n);else{if(i=t.current.alternate,!(n&30)&&!O4(i)&&(e=rh(t,n),e===2&&(s=q0(t),s!==0&&(n=s,e=yp(t,s))),e===1))throw r=Ru,Sa(t,0),Ps(t,n),sn(t,Xt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:fa(t,Zr,zi);break;case 3:if(Ps(t,n),(n&130023424)===n&&(e=Tg+500-Xt(),10<e)){if($d(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Q0(fa.bind(null,t,Zr,zi),e);break}fa(t,Zr,zi);break;case 4:if(Ps(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ei(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I4(n/1960))-n,10<n){t.timeoutHandle=Q0(fa.bind(null,t,Zr,zi),n);break}fa(t,Zr,zi);break;case 5:fa(t,Zr,zi);break;default:throw Error(Le(329))}}}return sn(t,Xt()),t.callbackNode===r?q5.bind(null,t):null}function yp(t,e){var r=pu;return t.current.memoizedState.isDehydrated&&(Sa(t,e).flags|=256),t=rh(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&vp(e)),t}function vp(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function O4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ri(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ps(t,e){for(e&=~Eg,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ei(e),n=1<<r;t[r]=-1,e&=~n}}function Fm(t){if(mt&6)throw Error(Le(327));Do();var e=$d(t,0);if(!(e&1))return sn(t,Xt()),null;var r=rh(t,e);if(t.tag!==0&&r===2){var n=q0(t);n!==0&&(e=n,r=yp(t,n))}if(r===1)throw r=Ru,Sa(t,0),Ps(t,e),sn(t,Xt()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fa(t,Zr,zi),sn(t,Xt()),null}function Fg(t,e){var r=mt;mt|=1;try{return t(e)}finally{mt=r,mt===0&&(Xo=Xt()+500,bh&&Js())}}function Ca(t){Es!==null&&Es.tag===0&&!(mt&6)&&Do();var e=mt;mt|=1;var r=Tn.transition,n=_t;try{if(Tn.transition=null,_t=1,t)return t()}finally{_t=n,Tn.transition=r,mt=e,!(mt&6)&&Js()}}function Ig(){hn=Fo.current,Ot(Fo)}function Sa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,d4(r)),or!==null)for(r=or.return;r!==null;){var n=r;switch(pg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qd();break;case 3:Yo(),Ot(rn),Ot(Mr),_g();break;case 5:Sg(n);break;case 4:Yo();break;case 13:Ot(Bt);break;case 19:Ot(Bt);break;case 10:vg(n.type._context);break;case 22:case 23:Ig()}r=r.return}if(wr=t,or=t=Us(t.current,null),Nr=hn=e,hr=0,Ru=null,Eg=Nh=Pa=0,Zr=pu=null,wa!==null){for(e=0;e<wa.length;e++)if(r=wa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}wa=null}return t}function H5(t,e){do{var r=or;try{if(yg(),Sd.current=Xd,Qd){for(var n=Dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Qd=!1}if(ja=0,yr=dr=Dt=null,hu=!1,Fu=0,Lg.current=null,r===null||r.return===null){hr=1,Ru=e,or=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Nr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var w=h.alternate;w?(h.updateQueue=w.updateQueue,h.memoizedState=w.memoizedState,h.lanes=w.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=bm(a);if(p!==null){p.flags&=-257,xm(p,a,o,s,e),p.mode&1&&wm(s,c,e),e=p,l=c;var _=e.updateQueue;if(_===null){var N=new Set;N.add(l),e.updateQueue=N}else _.add(l);break e}else{if(!(e&1)){wm(s,c,e),Og();break e}l=Error(Le(426))}}else if(Mt&&o.mode&1){var A=bm(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),xm(A,a,o,s,e),gg(Qo(l,o));break e}}s=l=Qo(l,o),hr!==4&&(hr=2),pu===null?pu=[s]:pu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=j5(s,l,e);fm(s,v);break e;case 1:o=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Bs===null||!Bs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=P5(s,o,e);fm(s,T);break e}}s=s.return}while(s!==null)}G5(r)}catch(D){e=D,or===r&&r!==null&&(or=r=r.return);continue}break}while(!0)}function W5(){var t=Zd.current;return Zd.current=Xd,t===null?Xd:t}function Og(){(hr===0||hr===3||hr===2)&&(hr=4),wr===null||!(Pa&268435455)&&!(Nh&268435455)||Ps(wr,Nr)}function rh(t,e){var r=mt;mt|=2;var n=W5();(wr!==t||Nr!==e)&&(zi=null,Sa(t,e));do try{R4();break}catch(i){H5(t,i)}while(!0);if(yg(),mt=r,Zd.current=n,or!==null)throw Error(Le(261));return wr=null,Nr=0,hr}function R4(){for(;or!==null;)V5(or)}function M4(){for(;or!==null&&!lx();)V5(or)}function V5(t){var e=J5(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?G5(t):or=e,Lg.current=null}function G5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=L4(r,e),r!==null){r.flags&=32767,or=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hr=6,or=null;return}}else if(r=C4(r,e,hn),r!==null){or=r;return}if(e=e.sibling,e!==null){or=e;return}or=e=t}while(e!==null);hr===0&&(hr=5)}function fa(t,e,r){var n=_t,i=Tn.transition;try{Tn.transition=null,_t=1,$4(t,e,r,n)}finally{Tn.transition=i,_t=n}return null}function $4(t,e,r,n){do Do();while(Es!==null);if(mt&6)throw Error(Le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(vx(t,s),t===wr&&(or=wr=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rd||(rd=!0,Y5(Md,function(){return Do(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var a=_t;_t=1;var o=mt;mt|=4,Lg.current=null,T4(t,r),U5(r,t),i4(J0),Bd=!!K0,J0=K0=null,t.current=r,F4(r),ux(),mt=o,_t=a,Tn.transition=s}else t.current=r;if(rd&&(rd=!1,Es=t,th=i),s=t.pendingLanes,s===0&&(Bs=null),hx(r.stateNode),sn(t,Xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(eh)throw eh=!1,t=gp,gp=null,t;return th&1&&t.tag!==0&&Do(),s=t.pendingLanes,s&1?t===mp?gu++:(gu=0,mp=t):gu=0,Js(),null}function Do(){if(Es!==null){var t=jy(th),e=Tn.transition,r=_t;try{if(Tn.transition=null,_t=16>t?16:t,Es===null)var n=!1;else{if(t=Es,Es=null,th=0,mt&6)throw Error(Le(331));var i=mt;for(mt|=4,De=t.current;De!==null;){var s=De,a=s.child;if(De.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(De=c;De!==null;){var h=De;switch(h.tag){case 0:case 11:case 15:fu(8,h,s)}var f=h.child;if(f!==null)f.return=h,De=f;else for(;De!==null;){h=De;var w=h.sibling,p=h.return;if($5(h),h===c){De=null;break}if(w!==null){w.return=p,De=w;break}De=p}}}var _=s.alternate;if(_!==null){var N=_.child;if(N!==null){_.child=null;do{var A=N.sibling;N.sibling=null,N=A}while(N!==null)}}De=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,De=a;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,De=v;break e}De=s.return}}var b=t.current;for(De=b;De!==null;){a=De;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,De=S;else e:for(a=b;De!==null;){if(o=De,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_h(9,o)}}catch(D){Kt(o,o.return,D)}if(o===a){De=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,De=T;break e}De=o.return}}if(mt=i,Js(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(gh,t)}catch{}n=!0}return n}finally{_t=r,Tn.transition=e}}return!1}function Im(t,e,r){e=Qo(r,e),e=j5(t,e,1),t=$s(t,e,1),e=zr(),t!==null&&(Uu(t,1,e),sn(t,e))}function Kt(t,e,r){if(t.tag===3)Im(t,t,r);else for(;e!==null;){if(e.tag===3){Im(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bs===null||!Bs.has(n))){t=Qo(r,t),t=P5(e,t,1),e=$s(e,t,1),t=zr(),e!==null&&(Uu(e,1,t),sn(e,t));break}}e=e.return}}function B4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&r,wr===t&&(Nr&r)===r&&(hr===4||hr===3&&(Nr&130023424)===Nr&&500>Xt()-Tg?Sa(t,0):Eg|=r),sn(t,e)}function K5(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var r=zr();t=Zi(t,e),t!==null&&(Uu(t,e,r),sn(t,r))}function D4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),K5(t,r)}function U4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),K5(t,r)}var J5;J5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,P4(t,e,r);tn=!!(t.flags&131072)}else tn=!1,Mt&&e.flags&1048576&&Zy(e,Vd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Nd(t,e),t=e.pendingProps;var i=Go(e,Mr.current);Bo(e,r),i=kg(null,e,n,t,i,r);var s=Ag();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(n)?(s=!0,Hd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bg(e),i.updater=Sh,e.stateNode=i,i._reactInternals=e,ip(e,n,t,r),e=op(null,e,n,!0,s,r)):(e.tag=0,Mt&&s&&fg(e),Ur(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=q4(n),t=Jn(n,t),i){case 0:e=ap(null,e,n,t,r);break e;case 1:e=Nm(null,e,n,t,r);break e;case 11:e=Sm(null,e,n,t,r);break e;case 14:e=_m(null,e,n,Jn(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),ap(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),Nm(t,e,n,i,r);case 3:e:{if(T5(e),t===null)throw Error(Le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,s5(t,e),Jd(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qo(Error(Le(423)),e),e=km(t,e,n,r,i);break e}else if(n!==i){i=Qo(Error(Le(424)),e),e=km(t,e,n,r,i);break e}else for(fn=Ms(e.stateNode.containerInfo.firstChild),gn=e,Mt=!0,Zn=null,r=n5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ko(),n===i){e=es(t,e,r);break e}Ur(t,e,n,r)}e=e.child}return e;case 5:return a5(e),t===null&&tp(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Y0(n,i)?a=null:s!==null&&Y0(n,s)&&(e.flags|=32),E5(t,e),Ur(t,e,a,r),e.child;case 6:return t===null&&tp(e),null;case 13:return F5(t,e,r);case 4:return xg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jo(e,null,n,r):Ur(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),Sm(t,e,n,i,r);case 7:return Ur(t,e,e.pendingProps,r),e.child;case 8:return Ur(t,e,e.pendingProps.children,r),e.child;case 12:return Ur(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Tt(Gd,n._currentValue),n._currentValue=a,s!==null)if(ri(s.value,a)){if(s.children===i.children&&!rn.current){e=es(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ji(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),rp(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Le(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),rp(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ur(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Bo(e,r),i=Fn(i),n=n(i),e.flags|=1,Ur(t,e,n,r),e.child;case 14:return n=e.type,i=Jn(n,e.pendingProps),i=Jn(n.type,i),_m(t,e,n,i,r);case 15:return C5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),Nd(t,e),e.tag=1,nn(n)?(t=!0,Hd(e)):t=!1,Bo(e,r),A5(e,n,i),ip(e,n,i,r),op(null,e,n,!0,t,r);case 19:return I5(t,e,r);case 22:return L5(t,e,r)}throw Error(Le(156,e.tag))};function Y5(t,e){return _y(t,e)}function z4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,r,n){return new z4(t,e,r,n)}function Rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q4(t){if(typeof t=="function")return Rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===rg)return 14}return 2}function Us(t,e){var r=t.alternate;return r===null?(r=En(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function jd(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Rg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _o:return _a(r.children,i,s,e);case eg:a=8,i|=8;break;case P0:return t=En(12,r,e,i|2),t.elementType=P0,t.lanes=s,t;case C0:return t=En(13,r,e,i),t.elementType=C0,t.lanes=s,t;case L0:return t=En(19,r,e,i),t.elementType=L0,t.lanes=s,t;case ay:return kh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iy:a=10;break e;case sy:a=9;break e;case tg:a=11;break e;case rg:a=14;break e;case ks:a=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=En(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function _a(t,e,r,n){return t=En(7,t,n,e),t.lanes=r,t}function kh(t,e,r,n){return t=En(22,t,n,e),t.elementType=ay,t.lanes=r,t.stateNode={isHidden:!1},t}function n0(t,e,r){return t=En(6,t,null,e),t.lanes=r,t}function i0(t,e,r){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mg(t,e,r,n,i,s,a,o,l){return t=new H4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bg(s),t}function W4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Q5(t){if(!t)return qs;t=t._reactInternals;e:{if(Ea(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(nn(r))return Qy(t,r,e)}return e}function X5(t,e,r,n,i,s,a,o,l){return t=Mg(r,n,!0,t,i,s,a,o,l),t.context=Q5(null),r=t.current,n=zr(),i=Ds(r),s=Ji(n,i),s.callback=e??null,$s(r,s,i),t.current.lanes=i,Uu(t,i,n),sn(t,n),t}function Ah(t,e,r,n){var i=e.current,s=zr(),a=Ds(i);return r=Q5(r),e.context===null?e.context=r:e.pendingContext=r,e=Ji(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$s(i,e,a),t!==null&&(ti(t,i,a,s),xd(t,i,a)),a}function nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Om(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $g(t,e){Om(t,e),(t=t.alternate)&&Om(t,e)}function V4(){return null}var Z5=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bg(t){this._internalRoot=t}jh.prototype.render=Bg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));Ah(t,e,null,null)};jh.prototype.unmount=Bg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ca(function(){Ah(null,t,null,null)}),e[Xi]=null}};function jh(t){this._internalRoot=t}jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ly();t={blockedOn:null,target:t,priority:e};for(var r=0;r<js.length&&e!==0&&e<js[r].priority;r++);js.splice(r,0,t),r===0&&Ty(t)}};function Dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function G4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=nh(a);s.call(c)}}var a=X5(e,n,t,0,null,!1,!1,"",Rm);return t._reactRootContainer=a,t[Xi]=a.current,Pu(t.nodeType===8?t.parentNode:t),Ca(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=nh(l);o.call(c)}}var l=Mg(t,0,!1,null,null,!1,!1,"",Rm);return t._reactRootContainer=l,t[Xi]=l.current,Pu(t.nodeType===8?t.parentNode:t),Ca(function(){Ah(e,l,r,n)}),l}function Ch(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=nh(a);o.call(l)}}Ah(e,a,t,i)}else a=G4(r,e,t,i,n);return nh(a)}Py=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ru(e.pendingLanes);r!==0&&(sg(e,r|1),sn(e,Xt()),!(mt&6)&&(Xo=Xt()+500,Js()))}break;case 13:Ca(function(){var n=Zi(t,1);if(n!==null){var i=zr();ti(n,t,1,i)}}),$g(t,1)}};ag=function(t){if(t.tag===13){var e=Zi(t,134217728);if(e!==null){var r=zr();ti(e,t,134217728,r)}$g(t,134217728)}};Cy=function(t){if(t.tag===13){var e=Ds(t),r=Zi(t,e);if(r!==null){var n=zr();ti(r,t,e,n)}$g(t,e)}};Ly=function(){return _t};Ey=function(t,e){var r=_t;try{return _t=t,e()}finally{_t=r}};D0=function(t,e,r){switch(e){case"input":if(F0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=wh(n);if(!i)throw Error(Le(90));ly(n),F0(n,i)}}}break;case"textarea":cy(t,r);break;case"select":e=r.value,e!=null&&Oo(t,!!r.multiple,e,!1)}};yy=Fg;vy=Ca;var K4={usingClientEntryPoint:!1,Events:[qu,jo,wh,gy,my,Fg]},Gl={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J4={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xy(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||V4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{gh=nd.inject(J4),Si=nd}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K4;vn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dg(e))throw Error(Le(200));return W4(t,e,null,r)};vn.createRoot=function(t,e){if(!Dg(t))throw Error(Le(299));var r=!1,n="",i=Z5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mg(t,1,!1,null,null,r,!1,n,i),t[Xi]=e.current,Pu(t.nodeType===8?t.parentNode:t),new Bg(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=xy(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Ca(t)};vn.hydrate=function(t,e,r){if(!Ph(e))throw Error(Le(200));return Ch(null,t,e,!0,r)};vn.hydrateRoot=function(t,e,r){if(!Dg(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Z5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=X5(e,null,t,1,r??null,i,!1,s,a),t[Xi]=e.current,Pu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new jh(e)};vn.render=function(t,e,r){if(!Ph(e))throw Error(Le(200));return Ch(null,t,e,!1,r)};vn.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(Le(40));return t._reactRootContainer?(Ca(function(){Ch(null,null,t,!1,function(){t._reactRootContainer=null,t[Xi]=null})}),!0):!1};vn.unstable_batchedUpdates=Fg;vn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ph(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return Ch(t,e,r,!1,n)};vn.version="18.3.1-next-f1338f8080-20240426";function ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ev)}catch(t){console.error(t)}}ev(),ey.exports=vn;var Y4=ey.exports,tv,Mm=Y4;tv=Mm.createRoot,Mm.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $m="popstate";function Q4(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return wp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Mu(i)}return Z4(e,r,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ni(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X4(){return Math.random().toString(36).substring(2,10)}function Bm(t,e){return{usr:t.state,key:t.key,idx:e}}function wp(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:r,key:e&&e.key||n||X4()}}function Mu({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Z4(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function f(){o="POP";let A=h(),v=A==null?null:A-c;c=A,l&&l({action:o,location:N.location,delta:v})}function w(A,v){o="PUSH";let b=wp(N.location,A,v);c=h()+1;let S=Bm(b,c),T=N.createHref(b);try{a.pushState(S,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(T)}s&&l&&l({action:o,location:N.location,delta:1})}function p(A,v){o="REPLACE";let b=wp(N.location,A,v);c=h();let S=Bm(b,c),T=N.createHref(b);a.replaceState(S,"",T),s&&l&&l({action:o,location:N.location,delta:0})}function _(A){return e3(A)}let N={get action(){return o},get location(){return t(i,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($m,f),l=A,()=>{i.removeEventListener($m,f),l=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let v=_(A);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:w,replace:p,go(A){return a.go(A)}};return N}function e3(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Mu(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function rv(t,e,r="/"){return t3(t,e,r,!1)}function t3(t,e,r,n){let i=typeof e=="string"?sl(e):e,s=ts(i.pathname||"/",r);if(s==null)return null;let a=nv(t);r3(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=f3(s);o=d3(a[l],c,n)}return o}function nv(t,e=[],r=[],n=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ut(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=Yi([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(Ut(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),nv(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:u3(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of iv(s.path))i(s,a,l)}),e}function iv(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=iv(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function r3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:c3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var n3=/^:[\w-]+$/,i3=3,s3=2,a3=1,o3=10,l3=-2,Dm=t=>t==="*";function u3(t,e){let r=t.split("/"),n=r.length;return r.some(Dm)&&(n+=l3),e&&(n+=s3),r.filter(i=>!Dm(i)).reduce((i,s)=>i+(n3.test(s)?i3:s===""?a3:o3),n)}function c3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function d3(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=ih({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),w=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=ih({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Yi([s,f.pathname]),pathnameBase:y3(Yi([s,f.pathnameBase])),route:w}),f.pathnameBase!=="/"&&(s=Yi([s,f.pathnameBase]))}return a}function ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=h3(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:h,isOptional:f},w)=>{if(h==="*"){let _=o[w]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const p=o[w];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function h3(t,e=!1,r=!0){ni(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function f3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ts(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function p3(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?sl(t):t;return{pathname:r?r.startsWith("/")?r:g3(r,e):e,search:v3(n),hash:w3(i)}}function g3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function s0(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sv(t){let e=m3(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function av(t,e,r,n=!1){let i;typeof t=="string"?i=sl(t):(i={...t},Ut(!i.pathname||!i.pathname.includes("?"),s0("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),s0("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),s0("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),f-=1;i.pathname=w.join("/")}o=f>=0?e[f]:"/"}let l=p3(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),y3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ov=["POST","PUT","PATCH","DELETE"];new Set(ov);var x3=["GET",...ov];new Set(x3);var al=se.createContext(null);al.displayName="DataRouter";var Lh=se.createContext(null);Lh.displayName="DataRouterState";se.createContext(!1);var lv=se.createContext({isTransitioning:!1});lv.displayName="ViewTransition";var S3=se.createContext(new Map);S3.displayName="Fetchers";var _3=se.createContext(null);_3.displayName="Await";var Ai=se.createContext(null);Ai.displayName="Navigation";var Wu=se.createContext(null);Wu.displayName="Location";var ss=se.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var Ug=se.createContext(null);Ug.displayName="RouteError";function N3(t,{relative:e}={}){Ut(Vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=se.useContext(Ai),{hash:i,pathname:s,search:a}=Gu(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:Yi([r,s])),n.createHref({pathname:o,search:a,hash:i})}function Vu(){return se.useContext(Wu)!=null}function ji(){return Ut(Vu(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(Wu).location}var uv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cv(t){se.useContext(Ai).static||se.useLayoutEffect(t)}function Eh(){let{isDataRoute:t}=se.useContext(ss);return t?M3():k3()}function k3(){Ut(Vu(),"useNavigate() may be used only in the context of a <Router> component.");let t=se.useContext(al),{basename:e,navigator:r}=se.useContext(Ai),{matches:n}=se.useContext(ss),{pathname:i}=ji(),s=JSON.stringify(sv(n)),a=se.useRef(!1);return cv(()=>{a.current=!0}),se.useCallback((l,c={})=>{if(ni(a.current,uv),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=av(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yi([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,i,t])}se.createContext(null);function Gu(t,{relative:e}={}){let{matches:r}=se.useContext(ss),{pathname:n}=ji(),i=JSON.stringify(sv(r));return se.useMemo(()=>av(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function A3(t,e){return dv(t,e)}function dv(t,e,r,n){var v;Ut(Vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=se.useContext(Ai),{matches:s}=se.useContext(ss),a=s[s.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let b=h&&h.path||"";hv(l,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=ji(),w;if(e){let b=typeof e=="string"?sl(e):e;Ut(c==="/"||((v=b.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${b.pathname}" was given in the \`location\` prop.`),w=b}else w=f;let p=w.pathname||"/",_=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let N=rv(t,{pathname:_});ni(h||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ni(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=E3(N&&N.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Yi([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Yi([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&A?se.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function j3(){let t=R3(),e=b3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=se.createElement(se.Fragment,null,se.createElement("p",null,"💿 Hey developer 👋"),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:s},"ErrorBoundary")," or"," ",se.createElement("code",{style:s},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),r?se.createElement("pre",{style:i},r):null,a)}var P3=se.createElement(j3,null),C3=class extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?se.createElement(ss.Provider,{value:this.props.routeContext},se.createElement(Ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L3({routeContext:t,match:e,children:r}){let n=se.useContext(al);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(ss.Provider,{value:t},r)}function E3(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Ut(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(r)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:f}=r,w=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||w){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,c,h)=>{let f,w=!1,p=null,_=null;r&&(f=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||P3,a&&(o<0&&h===0?(hv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):o===h&&(w=!0,_=c.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,h+1)),A=()=>{let v;return f?v=p:w?v=_:c.route.Component?v=se.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,se.createElement(L3,{match:c,routeContext:{outlet:l,matches:N,isDataRoute:r!=null},children:v})};return r&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?se.createElement(C3,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}function zg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T3(t){let e=se.useContext(al);return Ut(e,zg(t)),e}function F3(t){let e=se.useContext(Lh);return Ut(e,zg(t)),e}function I3(t){let e=se.useContext(ss);return Ut(e,zg(t)),e}function qg(t){let e=I3(t),r=e.matches[e.matches.length-1];return Ut(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function O3(){return qg("useRouteId")}function R3(){var n;let t=se.useContext(Ug),e=F3("useRouteError"),r=qg("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function M3(){let{router:t}=T3("useNavigate"),e=qg("useNavigate"),r=se.useRef(!1);return cv(()=>{r.current=!0}),se.useCallback(async(i,s={})=>{ni(r.current,uv),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Um={};function hv(t,e,r){!e&&!Um[t]&&(Um[t]=!0,ni(!1,r))}se.memo($3);function $3({routes:t,future:e,state:r}){return dv(t,void 0,r,e)}function iu(t){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B3({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Ut(!Vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=se.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=sl(r));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:w="default"}=r,p=se.useMemo(()=>{let _=ts(l,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:w},navigationType:n}},[a,l,c,h,f,w,n]);return ni(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:se.createElement(Ai.Provider,{value:o},se.createElement(Wu.Provider,{children:e,value:p}))}function D3({children:t,location:e}){return A3(bp(t),e)}function bp(t,e=[]){let r=[];return se.Children.forEach(t,(n,i)=>{if(!se.isValidElement(n))return;let s=[...e,i];if(n.type===se.Fragment){r.push.apply(r,bp(n.props.children,s));return}Ut(n.type===iu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=bp(n.props.children,s)),r.push(a)}),r}var Pd="get",Cd="application/x-www-form-urlencoded";function Th(t){return t!=null&&typeof t.tagName=="string"}function U3(t){return Th(t)&&t.tagName.toLowerCase()==="button"}function z3(t){return Th(t)&&t.tagName.toLowerCase()==="form"}function q3(t){return Th(t)&&t.tagName.toLowerCase()==="input"}function H3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W3(t,e){return t.button===0&&(!e||e==="_self")&&!H3(t)}function xp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function V3(t,e){let r=xp(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var id=null;function G3(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var K3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a0(t){return t!=null&&!K3.has(t)?(ni(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cd}"`),null):t}function J3(t,e){let r,n,i,s,a;if(z3(t)){let o=t.getAttribute("action");n=o?ts(o,e):null,r=t.getAttribute("method")||Pd,i=a0(t.getAttribute("enctype"))||Cd,s=new FormData(t)}else if(U3(t)||q3(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?ts(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||Pd,i=a0(t.getAttribute("formenctype"))||a0(o.getAttribute("enctype"))||Cd,s=new FormData(o,t),!G3()){let{name:c,type:h,value:f}=t;if(h==="image"){let w=c?`${c}.`:"";s.append(`${w}x`,"0"),s.append(`${w}y`,"0")}else c&&s.append(c,f)}}else{if(Th(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pd,n=null,i=Cd,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y3(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&ts(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Q3(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Z3(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Q3(s,r);return a.links?a.links():[]}return[]}));return n6(n.flat(1).filter(X3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zm(t,e,r,n,i,s){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var h;return r[c].pathname!==l.pathname||((h=r[c].route.path)==null?void 0:h.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let w=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function e6(t,e,{includeHydrateFallback:r}={}){return t6(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function t6(t){return[...new Set(t)]}function r6(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function n6(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(r6(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function fv(){let t=se.useContext(al);return Hg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function i6(){let t=se.useContext(Lh);return Hg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wg=se.createContext(void 0);Wg.displayName="FrameworkContext";function pv(){let t=se.useContext(Wg);return Hg(t,"You must render this element inside a <HydratedRouter> element"),t}function s6(t,e){let r=se.useContext(Wg),[n,i]=se.useState(!1),[s,a]=se.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,w=se.useRef(null);se.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let N=v=>{v.forEach(b=>{a(b.isIntersecting)})},A=new IntersectionObserver(N,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[t]),se.useEffect(()=>{if(n){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[n]);let p=()=>{i(!0)},_=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,w,{}]:[s,w,{onFocus:Kl(o,p),onBlur:Kl(l,_),onMouseEnter:Kl(c,p),onMouseLeave:Kl(h,_),onTouchStart:Kl(f,p)}]:[!1,w,{}]}function Kl(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function a6({page:t,...e}){let{router:r}=fv(),n=se.useMemo(()=>rv(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?se.createElement(l6,{page:t,matches:n,...e}):null}function o6(t){let{manifest:e,routeModules:r}=pv(),[n,i]=se.useState([]);return se.useEffect(()=>{let s=!1;return Z3(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function l6({page:t,matches:e,...r}){let n=ji(),{manifest:i,routeModules:s}=pv(),{basename:a}=fv(),{loaderData:o,matches:l}=i6(),c=se.useMemo(()=>zm(t,e,l,i,n,"data"),[t,e,l,i,n]),h=se.useMemo(()=>zm(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=se.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,N=!1;if(e.forEach(v=>{var S;let b=i.routes[v.route.id];!b||!b.hasLoader||(!c.some(T=>T.route.id===v.route.id)&&v.route.id in o&&((S=s[v.route.id])!=null&&S.shouldRevalidate)||b.hasClientLoader?N=!0:_.add(v.route.id))}),_.size===0)return[];let A=Y3(t,a,"data");return N&&_.size>0&&A.searchParams.set("_routes",e.filter(v=>_.has(v.route.id)).map(v=>v.route.id).join(",")),[A.pathname+A.search]},[a,o,n,i,c,e,t,s]),w=se.useMemo(()=>e6(h,i),[h,i]),p=o6(h);return se.createElement(se.Fragment,null,f.map(_=>se.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),w.map(_=>se.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),p.map(({key:_,link:N})=>se.createElement("link",{key:_,...N})))}function u6(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gv&&(window.__reactRouterVersion="7.7.1")}catch{}function c6({basename:t,children:e,window:r}){let n=se.useRef();n.current==null&&(n.current=Q4({window:r,v5Compat:!0}));let i=n.current,[s,a]=se.useState({action:i.action,location:i.location}),o=se.useCallback(l=>{se.startTransition(()=>a(l))},[a]);return se.useLayoutEffect(()=>i.listen(o),[i,o]),se.createElement(B3,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=se.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f,...w},p){let{basename:_}=se.useContext(Ai),N=typeof c=="string"&&mv.test(c),A,v=!1;if(typeof c=="string"&&N&&(A=c,gv))try{let O=new URL(window.location.href),U=c.startsWith("//")?new URL(O.protocol+c):new URL(c),E=ts(U.pathname,_);U.origin===O.origin&&E!=null?c=E+U.search+U.hash:v=!0}catch{ni(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=N3(c,{relative:i}),[S,T,D]=s6(n,w),Y=p6(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:f});function R(O){e&&e(O),O.defaultPrevented||Y(O)}let k=se.createElement("a",{...w,...D,href:A||b,onClick:v||s?e:R,ref:u6(p,T),target:l,"data-discover":!N&&r==="render"?"true":void 0});return S&&!N?se.createElement(se.Fragment,null,k,se.createElement(a6,{page:b})):k});Pn.displayName="Link";var d6=se.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},h){let f=Gu(a,{relative:c.relative}),w=ji(),p=se.useContext(Lh),{navigator:_,basename:N}=se.useContext(Ai),A=p!=null&&w6(f)&&o===!0,v=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,b=w.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&N&&(S=ts(S,N)||S);const T=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=b===v||!i&&b.startsWith(v)&&b.charAt(T)==="/",Y=S!=null&&(S===v||!i&&S.startsWith(v)&&S.charAt(v.length)==="/"),R={isActive:D,isPending:Y,isTransitioning:A},k=D?e:void 0,O;typeof n=="function"?O=n(R):O=[n,D?"active":null,Y?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(R):s;return se.createElement(Pn,{...c,"aria-current":k,className:O,ref:h,style:U,to:a,viewTransition:o},typeof l=="function"?l(R):l)});d6.displayName="NavLink";var h6=se.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=Pd,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,...w},p)=>{let _=y6(),N=v6(o,{relative:c}),A=a.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&mv.test(o),b=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,D=(T==null?void 0:T.getAttribute("formmethod"))||a;_(T||S.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return se.createElement("form",{ref:p,method:A,action:N,onSubmit:n?l:b,...w,"data-discover":!v&&t==="render"?"true":void 0})});h6.displayName="Form";function f6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yv(t){let e=se.useContext(al);return Ut(e,f6(t)),e}function p6(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Eh(),l=ji(),c=Gu(t,{relative:s});return se.useCallback(h=>{if(W3(h,e)){h.preventDefault();let f=r!==void 0?r:Mu(l)===Mu(c);o(t,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,r,n,e,t,i,s,a])}function vv(t){ni(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=se.useRef(xp(t)),r=se.useRef(!1),n=ji(),i=se.useMemo(()=>V3(n.search,r.current?null:e.current),[n.search]),s=Eh(),a=se.useCallback((o,l)=>{const c=xp(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var g6=0,m6=()=>`__${String(++g6)}__`;function y6(){let{router:t}=yv("useSubmit"),{basename:e}=se.useContext(Ai),r=O3();return se.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=J3(n,e);if(i.navigate===!1){let h=i.fetcherKey||m6();await t.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function v6(t,{relative:e}={}){let{basename:r}=se.useContext(Ai),n=se.useContext(ss);Ut(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Gu(t||".",{relative:e})},a=ji();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Yi([r,s.pathname])),Mu(s)}function w6(t,{relative:e}={}){let r=se.useContext(lv);Ut(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=yv("useViewTransitionState"),i=Gu(t,{relative:e});if(!r.isTransitioning)return!1;let s=ts(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ts(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ih(i.pathname,a)!=null||ih(i.pathname,s)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ze=(t,e)=>{const r=se.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},h)=>se.createElement("svg",{ref:h,...b6,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${x6(t)}`,o].join(" "),...c},[...e.map(([f,w])=>se.createElement(f,w)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Ze("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Ze("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Ze("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Ze("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ze("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Ze("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Ze("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Ze("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=Ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Ze("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cr="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJiYW5rc3RhdGVtZW50Y29udmVydGVyLmNvbSIsInVzZXJJZCI6OTE5NTAsImVtYWlsIjoidGhpc2lzZnJhbmtnb256YWxlekBnbWFpbC5jb20ifQ.rJl8RzEt_8if8MJ0ivqWcGTdvOSQ1F0NLKLI4F01my8",jv="https://api2.bankstatementconverter.com/api/v1";console.log("🔧 API Configuration Debug:",{hasApiKey:!0,apiKeyLength:68,apiKeyPrefix:"api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH".substring(0,20)+"...",hasAuthToken:!!cr,authTokenLength:(cr==null?void 0:cr.length)||0,authTokenPrefix:cr.substring(0,20)+"...",apiBaseUrl:jv});class V6{constructor(){this.uploadedFiles=new Map}async makeRequest(e,r={},n=0,i){const s="api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH".trim()!=="",a=cr.trim()!=="";if(!s&&!a)throw new Error("Neither API key nor JWT authentication token configured");const o=`${jv}${e}`,l=[];if(s){const h="api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH";l.push({name:"Direct API Key",headers:{Authorization:h}},{name:"Bearer + API Key",headers:{Authorization:`Bearer ${h}`}},{name:"X-API-Key Header",headers:{"X-API-Key":h}},{name:"apiKey Query Param",headers:{},queryParam:`?apiKey=${encodeURIComponent(h)}`},{name:"Custom API Key Header",headers:{"X-Auth-Key":h}},{name:"API Key in Body",headers:{},bodyOverride:{apiKey:h}})}a&&l.push({name:"Bearer JWT",headers:{Authorization:`Bearer ${cr}`}},{name:"Direct JWT",headers:{Authorization:cr}},{name:"X-Auth-Token Header",headers:{"X-Auth-Token":cr}},{name:"JWT Query Param",headers:{},queryParam:`?token=${encodeURIComponent(cr)}`},{name:"Custom JWT Header",headers:{"X-JWT-Token":cr}}),console.log("🔑 API Request:",{url:o,method:r.method||"GET",hasApiKey:s,hasJwtToken:a,apiKeyLength:68,jwtTokenLength:(cr==null?void 0:cr.length)||0,authPatternsCount:l.length,retryCount:n,processStep:i});for(let h=0;h<l.length;h++){const f=l[h],w=f.queryParam?`${o}${f.queryParam}`:o;console.log(`🔑 Trying authentication pattern ${h+1}/${l.length}: ${f.name}`);try{const p={...r};if(p.headers={...f.headers,...r.headers||{}},f.bodyOverride)if(r.body){if(r.body instanceof FormData)p.body=r.body,p.body.append("apiKey",f.bodyOverride.apiKey);else if(typeof r.body=="string")try{const A=JSON.parse(r.body);A.apiKey=f.bodyOverride.apiKey,p.body=JSON.stringify(A)}catch{p.body=`${r.body}&apiKey=${f.bodyOverride.apiKey}`}}else p.body=JSON.stringify(f.bodyOverride),p.headers&&(p.headers["Content-Type"]="application/json");console.log("🔍 Pattern Debug:",{pattern:f.name,url:w,headers:p.headers,hasBody:!!p.body,bodyType:p.body?p.body instanceof FormData?"FormData":"Other":"None"});const _=await fetch(w,p);if(console.log("📡 Pattern Response:",{pattern:f.name,status:_.status,statusText:_.statusText,url:_.url}),_.ok)return console.log(`✅ Authentication pattern "${f.name}" SUCCESSFUL!`),await _.json();const N=await _.text();console.log(`⚠️ Pattern "${f.name}" failed with status ${_.status}: ${N}`),_.status===401||_.status===403?console.log(`🔒 Pattern "${f.name}" failed due to authentication (${_.status})`):_.status===400&&console.log(`📝 Pattern "${f.name}" failed due to request format (${_.status})`)}catch(p){console.log(`❌ Pattern "${f.name}" failed with error:`,p)}}const c=`All ${l.length} authentication patterns failed. This suggests either:
1. All authentication methods are invalid
2. There's a server-side bug (most likely)
3. The API expects a different format not covered here`;throw console.error("💥 All authentication patterns exhausted:",c),new Error(c)}async uploadBankStatement(e){const r=new FormData;r.append("file",e),console.log("📤 Uploading file:",e.name,e.size);const n=await this.makeRequest("/BankStatement",{method:"POST",body:r},0,"File Upload");return n.forEach(i=>{this.uploadedFiles.set(i.uuid,{uuid:i.uuid,filename:i.filename,uploadTime:new Date,status:i.state})}),console.log("📊 Tracked uploaded files:",this.uploadedFiles.size),n}async checkUploadStatus(e){console.log("🔍 Checking status for:",e);const r=await this.makeRequest("/BankStatement/status",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},0,"Status Check");return r.forEach(n=>{const i=this.uploadedFiles.get(n.uuid);i&&(i.status=n.state)}),r}async convertStatements(e){console.log("🔄 Converting statements:",e);try{const r=await this.makeRequest("/BankStatement/convert?format=JSON",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},0,"Statement Conversion");return console.log("✅ Conversion successful for",e.length,"statements"),r}catch(r){throw console.error("❌ Statement conversion failed:",r),r}}async setPassword(e){return console.log("🔑 Setting passwords for PDFs"),this.makeRequest("/BankStatement/setPassword",{method:"POST",body:JSON.stringify({passwords:e}),headers:{"Content-Type":"application/json"}},0,"Password Setting")}async getUserCredits(){return this.makeRequest("/user",{method:"GET"},0,"Credits Check")}getUploadedFiles(){return Array.from(this.uploadedFiles.values())}getUploadedFileCount(){return this.uploadedFiles.size}clearUploadedFile(e){this.uploadedFiles.delete(e),console.log("🗑️ Cleared uploaded file:",e)}clearAllUploadedFiles(){const e=this.uploadedFiles.size;this.uploadedFiles.clear(),console.log("🗑️ Cleared all uploaded files:",e)}getOldFiles(e=24){const r=new Date(Date.now()-e*60*60*1e3);return Array.from(this.uploadedFiles.values()).filter(n=>n.uploadTime<r)}autoCleanup(){const e=this.getOldFiles(24);e.forEach(r=>{this.uploadedFiles.delete(r.uuid)}),e.length>0&&console.log("🧹 Auto-cleaned up old files:",e.length)}async processTwoStatements(e,r){console.log("📤 Processing two statements following API documentation"),this.autoCleanup();try{console.log("📤 Step 1: Uploading files...");const[n,i]=await Promise.all([this.uploadBankStatement(e),this.uploadBankStatement(r)]),s=n[0].uuid,a=i[0].uuid;console.log("✅ Step 1 completed: Uploaded with UUIDs:",{uuid1:s,uuid2:a}),console.log("⏳ Step 2: Waiting for processing to complete...");const o=[s,a],l=await this.waitForProcessingComplete(o);console.log("✅ Step 2 completed: Processing finished"),console.log("🔄 Step 3: Converting statements...");const[c,h]=await Promise.all([this.convertStatements([s]),this.convertStatements([a])]),f=l.find(A=>A.uuid===s),w=l.find(A=>A.uuid===a),p=(f==null?void 0:f.numberOfPages)||1,_=(w==null?void 0:w.numberOfPages)||1,N=p+_;return console.log("📊 Page counts:",{file1Pages:p,file2Pages:_,totalPages:N}),console.log("✅ Step 3 completed: Conversion finished"),console.log("✅ All steps completed successfully"),{file1Result:c[0],file2Result:h[0],file1Name:e.name,file2Name:r.name,file1Pages:p,file2Pages:_,totalPages:N}}catch(n){throw n instanceof Error?n:new Error("Unknown error during statement processing")}}async waitForProcessingComplete(e,r=30){for(let n=0;n<r;n++)try{const i=await this.checkUploadStatus(e);if(i.every(o=>o.state==="READY"))return console.log("✅ All files ready for conversion"),i;if(i.some(o=>o.state==="ERROR")){const o=i.filter(l=>l.state==="ERROR");throw new Error(`PDF processing failed for files: ${o.map(l=>l.filename).join(", ")}`)}console.log(`⏳ Files still processing, waiting 10 seconds... (attempt ${n+1}/${r})`),await new Promise(o=>setTimeout(o,1e4))}catch(i){throw i instanceof Error?new Error(`Status Check failed: ${i.message}`):new Error("Status Check failed: Unknown error during status polling")}throw new Error("Status Check failed: PDF processing timed out after 5 minutes")}validatePdfFile(e){return e.type!=="application/pdf"?{isValid:!1,error:"Please upload a PDF file"}:e.size>10*1024*1024?{isValid:!1,error:"File size must be less than 10MB"}:e.size===0?{isValid:!1,error:"File is empty"}:{isValid:!0}}async testApiKey(){try{console.log("🧪 Testing API key validity...");const e=await this.getUserCredits();return console.log("✅ API key is valid, credits available:",e.credits.paidCredits+e.credits.freeCredits),{isValid:!0,credits:e.credits.paidCredits+e.credits.freeCredits}}catch(e){return console.error("❌ API key test failed:",e),{isValid:!1,error:e instanceof Error?e.message:"Unknown error"}}}getAuthInfo(){return{hasApiKey:!0,apiKeyLength:68,apiKeyPrefix:"api-AB7psQuumDdjVHLTPYMDghH2xUgaKcuJZVvwReMMsxM9iQBaYJg/BrelRUX07neH".substring(0,20)+"...",hasJwtToken:!!cr,jwtTokenLength:(cr==null?void 0:cr.length)||0,jwtTokenPrefix:cr.substring(0,20)+"...",isApiKeyEnvVar:!0,isJwtEnvVar:!0}}async getAccountInfo(){try{const e=await this.makeRequest("/user",{},0,"Account Info");let r="anonymous";return e.unlimitedCredits?r="unlimited":e.credits.paidCredits>0?r="paid":e.credits.freeCredits>0&&(r="free_tier"),console.log("🔍 Account Info:",{accountType:r,unlimitedCredits:e.unlimitedCredits,paidCredits:e.credits.paidCredits,freeCredits:e.credits.freeCredits,subscriptionCount:e.subscriptionCount,user:e.user}),{accountType:r,unlimitedCredits:e.unlimitedCredits,paidCredits:e.credits.paidCredits,freeCredits:e.credits.freeCredits,subscriptionCount:e.subscriptionCount,userInfo:e.user}}catch(e){throw console.error("❌ Failed to get account info:",e),e}}async checkCreditsBeforeProcessing(e=2){try{const r=await this.getUserCredits(),n=r.credits.paidCredits+r.credits.freeCredits,i=e;let s="unknown";return r.unlimitedCredits?s="unlimited":r.credits.paidCredits>0?s="paid":r.credits.freeCredits>0?s="free_tier":s="anonymous",console.log("💳 Credits check:",{available:n,required:i,hasEnough:n>=i,accountType:s,unlimitedCredits:r.unlimitedCredits,paidCredits:r.credits.paidCredits,freeCredits:r.credits.freeCredits}),{hasEnoughCredits:r.unlimitedCredits||n>=i,availableCredits:n,requiredCredits:i,accountType:s,paidCredits:r.credits.paidCredits,freeCredits:r.credits.freeCredits}}catch(r){return console.error("❌ Failed to check credits:",r),{hasEnoughCredits:!1,availableCredits:0,requiredCredits:e,accountType:"unknown",paidCredits:0,freeCredits:0,error:r instanceof Error?r.message:"Unknown error"}}}async deductCreditsAfterProcessing(e=2){try{console.log("💳 Deducting credits after successful processing..."),console.log(`📊 Deducting ${e} credits for ${e} processed files`),console.log("✅ Credit deduction logged (API endpoint to be implemented)")}catch(r){throw console.error("❌ Failed to deduct credits:",r),r}}}const bi=new V6;class Pv{static categorizeTransaction(e){const r=e.toLowerCase();return r.includes("upwork")||r.includes("stripe")||r.includes("paypal transfer")||r.includes("atm cash deposit")||r.includes("direct deposit")?"Income":r.includes("starbucks")||r.includes("coffee")||r.includes("mcdonald")||r.includes("restaurant")||r.includes("shake shack")||r.includes("tacos el gordo")||r.includes("salad and go")||r.includes("wingstop")||r.includes("chick-fil-a")||r.includes("raising canes")||r.includes("papa chevos")||r.includes("panda express")||r.includes("buffalo wild")||r.includes("popeyes")||r.includes("filibertos")||r.includes("kfc")||r.includes("shakeshack")||r.includes("new asian fusion")||r.includes("az pho grill")?"Food & Dining":r.includes("shell")||r.includes("arco")||r.includes("circle k")||r.includes("uber")||r.includes("lyft")||r.includes("autozone")||r.includes("los perez tire")||r.includes("clean freak")||r.includes("ls bikemasters")||r.includes("ace parking")||r.includes("parking")||r.includes("car wash")||r.includes("auto parts")||r.includes("oreilly")||r.includes("advance auto")||r.includes("napa auto")?"Transportation":r.includes("walmart")||r.includes("target")||r.includes("barnes and noble")||r.includes("dollartree")||r.includes("dollar tr")||r.includes("amazon")||r.includes("gravitate smoke")||r.includes("misc")||r.includes("costco")||r.includes("home depot")||r.includes("lowes")||r.includes("best buy")||r.includes("macy")||r.includes("kohl")||r.includes("tj maxx")||r.includes("marshalls")?"Shopping":r.includes("amazon prime")||r.includes("apple.com")||r.includes("netflix")||r.includes("spotify")||r.includes("verizon")||r.includes("centurylink")||r.includes("progressive")||r.includes("eos fitness")||r.includes("hulu")||r.includes("disney")||r.includes("youtube")||r.includes("peacock")||r.includes("adobe")||r.includes("anthropic")||r.includes("dropbox")||r.includes("x corp")||r.includes("office")||r.includes("zoom")||r.includes("slack")||r.includes("notion")?"Subscriptions":r.includes("frys food")||r.includes("safeway")||r.includes("albertsons")||r.includes("kroger")||r.includes("whole foods")||r.includes("trader joe")||r.includes("sprouts")||r.includes("winco")?"Groceries":"Other"}static getAvailableCategories(){return["Income","Food & Dining","Transportation","Shopping","Subscriptions","Groceries","Other"]}}class ad{static convertToInternalFormat(e,r){if(!e||!e.normalised||!Array.isArray(e.normalised))throw new Error("Invalid API response: missing or malformed normalised transactions");const n=e.normalised.map(a=>this.convertApiTransactionToTransaction(a)).filter(a=>a!==null);if(n.length===0)throw new Error("No valid transactions found in statement");const i=this.calculateSummary(n,r),s=this.groupTransactionsByCategory(n);return{summary:i,transactions:n,categories:s}}static convertApiTransactionToTransaction(e){try{if(!e.description||e.amount===void 0)return console.warn("Skipping transaction with missing required fields:",e),null;const r=parseFloat(e.amount);if(isNaN(r))return console.warn("Skipping transaction with invalid amount:",e),null;const n=new Date(e.date);if(isNaN(n.getTime()))return console.warn("Skipping transaction with invalid date:",e),null;const i=r<0;let s="income";return i&&(s=Pv.categorizeTransaction(e.description),s==="income"&&(s="shopping")),{date:e.date,description:e.description.trim(),amount:Math.abs(r),category:s,type:r<0?"debit":"credit"}}catch(r){return console.warn("Error converting transaction:",r,e),null}}static calculateSummary(e,r){const n=e.filter(l=>l.type==="credit").reduce((l,c)=>l+c.amount,0),i=e.filter(l=>l.type==="debit").reduce((l,c)=>l+c.amount,0),s=e.map(l=>new Date(l.date)).filter(l=>!isNaN(l.getTime())).sort((l,c)=>l.getTime()-c.getTime()),a=s.length>0?s[0].toISOString().split("T")[0]:new Date().toISOString().split("T")[0],o=s.length>0?s[s.length-1].toISOString().split("T")[0]:new Date().toISOString().split("T")[0];return{totalDeposits:Math.round(n*100)/100,totalWithdrawals:Math.round(i*100)/100,startDate:a,endDate:o,bankName:this.extractBankName(r),accountNumber:this.extractAccountNumber(e)}}static groupTransactionsByCategory(e){const r=new Map;return e.forEach(n=>{r.has(n.category)||r.set(n.category,[]),r.get(n.category).push(n)}),Array.from(r.entries()).map(([n,i])=>({category:n,totalAmount:Math.round(i.reduce((s,a)=>s+a.amount,0)*100)/100,transactionCount:i.length,transactions:i.sort((s,a)=>new Date(a.date).getTime()-new Date(s.date).getTime())})).sort((n,i)=>i.totalAmount-n.totalAmount)}static extractBankName(e){const r=e.toLowerCase(),n={chase:"Chase Bank",wellsfargo:"Wells Fargo",bofa:"Bank of America",bankofamerica:"Bank of America",citi:"Citibank",usbank:"US Bank",pnc:"PNC Bank",regions:"Regions Bank",suntrust:"SunTrust Bank",ally:"Ally Bank",schwab:"Charles Schwab",fidelity:"Fidelity",amex:"American Express"};for(const[i,s]of Object.entries(n))if(r.includes(i))return s;return"Unknown Bank"}static extractAccountNumber(e){for(const r of e.slice(0,5)){const i=r.description.toLowerCase().match(/(?:ending|ending in|acct|account).*?(\d{4})/);if(i)return`****${i[1]}`}return"Unknown"}static validateParsedStatement(e){const r=[];if(e.summary||r.push("Missing statement summary"),(!e.transactions||e.transactions.length===0)&&r.push("No transactions found"),(!e.categories||e.categories.length===0)&&r.push("No categories generated"),e.summary&&e.transactions){const n=e.transactions.filter(o=>o.type==="credit").reduce((o,l)=>o+l.amount,0),i=e.transactions.filter(o=>o.type==="debit").reduce((o,l)=>o+l.amount,0),s=Math.abs(n-e.summary.totalDeposits),a=Math.abs(i-e.summary.totalWithdrawals);s>.01&&r.push(`Deposit calculation mismatch: expected ${n}, got ${e.summary.totalDeposits}`),a>.01&&r.push(`Withdrawal calculation mismatch: expected ${i}, got ${e.summary.totalWithdrawals}`)}if(e.summary){const n=new Date(e.summary.startDate),i=new Date(e.summary.endDate);isNaN(n.getTime())&&r.push("Invalid start date format"),isNaN(i.getTime())&&r.push("Invalid end date format"),n.getTime()>i.getTime()&&r.push("Start date is after end date")}return{isValid:r.length===0,errors:r}}static getProcessingStats(e){const r=e.categories.slice(0,5).map(s=>({category:s.category,amount:s.totalAmount,count:s.transactionCount})),n=e.transactions.reduce((s,a)=>s+a.amount,0),i=e.transactions.length>0?Math.round(n/e.transactions.length*100)/100:0;return{totalTransactions:e.transactions.length,dateRange:`${e.summary.startDate} to ${e.summary.endDate}`,topCategories:r,averageTransactionAmount:i}}}class G6{static compareStatements(e,r,n={}){this.validateStatements(e,r);const i=this.applyFilters(e,n),s=this.applyFilters(r,n),o=this.getAllUniqueCategories(i,s).map(l=>{const c=i.categories.find(N=>N.category===l),h=s.categories.find(N=>N.category===l),f=(c==null?void 0:c.totalAmount)||0,w=(h==null?void 0:h.totalAmount)||0,p=w-f;let _=0;return f>0?_=p/f*100:f===0&&w>0?_=1/0:f>0&&w===0&&(_=-100),{category:l,statement1Total:Math.round(f*100)/100,statement2Total:Math.round(w*100)/100,difference:Math.round(p*100)/100,percentChange:isFinite(_)?Math.round(_*100)/100:_,transactions1:(c==null?void 0:c.transactions)||[],transactions2:(h==null?void 0:h.transactions)||[]}});return o.sort((l,c)=>Math.abs(c.difference)-Math.abs(l.difference)),{statement1:i,statement2:s,comparison:o}}static generateInsights(e){const{statement1:r,statement2:n,comparison:i}=e,s=i.filter(R=>!["Income","Transfers & Investments"].includes(R.category)),a=i.filter(R=>R.category==="Income"),o=s.reduce((R,k)=>R+k.statement1Total,0),c=s.reduce((R,k)=>R+k.statement2Total,0)-o,h=o>0?c/o*100:0,f=a.reduce((R,k)=>R+k.statement1Total,0),p=a.reduce((R,k)=>R+k.statement2Total,0)-f,_=f>0?p/f*100:0,N=p-c,A=f-o>0?N/(f-o)*100:0,v=i.filter(R=>isFinite(R.percentChange)&&R.category!=="Other"),b=v.filter(R=>R.difference>0).sort((R,k)=>k.difference-R.difference)[0]||{category:"None",amount:0,percent:0},S=v.filter(R=>R.difference<0).sort((R,k)=>R.difference-k.difference)[0]||{category:"None",amount:0,percent:0},T=i.filter(R=>R.statement1Total===0&&R.statement2Total>0).map(R=>R.category),D=i.filter(R=>R.statement1Total>0&&R.statement2Total===0).map(R=>R.category),Y=this.generateRecommendations(e);return{summary:{totalSpendingChange:Math.round(c*100)/100,totalSpendingChangePercent:Math.round(h*100)/100,totalIncomeChange:Math.round(p*100)/100,totalIncomeChangePercent:Math.round(_*100)/100,netChange:Math.round(N*100)/100,netChangePercent:Math.round(A*100)/100},trends:{biggestIncrease:{category:b.category,amount:b.difference,percent:b.percentChange},biggestDecrease:{category:S.category,amount:S.difference,percent:S.percentChange},newCategories:T,disappearedCategories:D},recommendations:Y}}static generateRecommendations(e){const r=[],{comparison:n}=e,i=n.filter(c=>c.difference>100&&c.percentChange>20&&!["Income","Transfers & Investments"].includes(c.category)),s=n.filter(c=>c.difference<-100&&c.percentChange<-20&&!["Income","Transfers & Investments"].includes(c.category));if(i.length>0){const c=i[0];r.push(`Consider reviewing your ${c.category} spending - it increased by $${Math.abs(c.difference).toFixed(2)} (${c.percentChange.toFixed(1)}%)`)}if(s.length>0){const c=s[0];r.push(`Great job reducing ${c.category} spending by $${Math.abs(c.difference).toFixed(2)} (${Math.abs(c.percentChange).toFixed(1)}%)`)}const a=n.filter(c=>c.statement1Total===0&&c.statement2Total>200);a.length>0&&r.push(`New spending area detected: ${a[0].category} ($${a[0].statement2Total.toFixed(2)})`);const o=n.filter(c=>!["Income","Transfers & Investments"].includes(c.category)).reduce((c,h)=>c+h.difference,0);o>500?r.push(`Overall spending increased by $${o.toFixed(2)} - consider creating a budget plan`):o<-500&&r.push(`Excellent! You reduced overall spending by $${Math.abs(o).toFixed(2)}`);const l=n.filter(c=>c.category==="Income").reduce((c,h)=>c+h.difference,0);return l>1e3?r.push(`Income increased by $${l.toFixed(2)} - consider increasing savings or investments`):l<-1e3&&r.push(`Income decreased by $${Math.abs(l).toFixed(2)} - review spending priorities`),r.slice(0,5)}static getAllUniqueCategories(e,r){const n=new Set([...e.categories.map(i=>i.category),...r.categories.map(i=>i.category)]);return Array.from(n)}static applyFilters(e,r){let n=[...e.transactions];if(r.excludeCategories&&r.excludeCategories.length>0&&(n=n.filter(c=>!r.excludeCategories.includes(c.category))),r.includeOnlyCategories&&r.includeOnlyCategories.length>0&&(n=n.filter(c=>r.includeOnlyCategories.includes(c.category))),r.minimumAmount!==void 0&&(n=n.filter(c=>c.amount>=r.minimumAmount)),r.dateRange){const c=new Date(r.dateRange.start),h=new Date(r.dateRange.end);n=n.filter(f=>{const w=new Date(f.date);return w>=c&&w<=h})}const i=new Map;n.forEach(c=>{i.has(c.category)||i.set(c.category,[]),i.get(c.category).push(c)});const s=Array.from(i.entries()).map(([c,h])=>({category:c,totalAmount:Math.round(h.reduce((f,w)=>f+w.amount,0)*100)/100,transactionCount:h.length,transactions:h})),a=n.filter(c=>c.type==="credit").reduce((c,h)=>c+h.amount,0),o=n.filter(c=>c.type==="debit").reduce((c,h)=>c+h.amount,0);return{summary:{...e.summary,totalDeposits:Math.round(a*100)/100,totalWithdrawals:Math.round(o*100)/100},transactions:n,categories:s}}static validateStatements(e,r){if(!e||!r)throw new Error("Both statements are required for comparison");if(!e.transactions||e.transactions.length===0)throw new Error("Statement 1 has no transactions");if(!r.transactions||r.transactions.length===0)throw new Error("Statement 2 has no transactions");if(!e.categories||e.categories.length===0)throw new Error("Statement 1 has no categories");if(!r.categories||r.categories.length===0)throw new Error("Statement 2 has no categories")}static exportComparisonData(e){const{comparison:r}=e,n=`Category,Statement1Total,Statement2Total,Difference,PercentChange,TransactionCount1,TransactionCount2
`,i=r.map(o=>`"${o.category}",${o.statement1Total},${o.statement2Total},${o.difference},${o.percentChange},${o.transactions1.length},${o.transactions2.length}`).join(`
`),s=n+i,a=JSON.stringify(e,null,2);return{csv:s,json:a}}}const K6="modulepreload",J6=function(t){return"/"+t},Gm={},Hs=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=J6(l),l in Gm)return;Gm[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":K6,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((w,p)=>{f.addEventListener("load",w),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Y6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>ll);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Gg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Q6 extends Gg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Km extends Gg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jm extends Gg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _p;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_p||(_p={}));var X6=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class Z6{constructor(e,{headers:r={},customFetch:n,region:i=_p.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Y6(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return X6(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(o["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(o["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:h}).catch(N=>{throw new Q6(N)}),w=f.headers.get("x-relay-error");if(w&&w==="true")throw new Km(f);if(!f.ok)throw new Jm(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield f.json():p==="application/octet-stream"?_=yield f.blob():p==="text/event-stream"?_=f:p==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Jm||i instanceof Km?i.context:void 0}}})}}var en={},Kg={},Fh={},Ku={},Ih={},Oh={},eS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tl=eS();const tS=tl.fetch,Cv=tl.fetch.bind(tl),Lv=tl.Headers,rS=tl.Request,nS=tl.Response,ll=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lv,Request:rS,Response:nS,default:Cv,fetch:tS},Symbol.toStringTag,{value:"Module"})),iS=Nb(ll);var Rh={};Object.defineProperty(Rh,"__esModule",{value:!0});let sS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Rh.default=sS;var Ev=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oh,"__esModule",{value:!0});const aS=Ev(iS),oS=Ev(Rh);let lS=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=aS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let c=null,h=null,f=null,w=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=v:h=JSON.parse(v))}const N=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),A=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");N&&A&&A.length>1&&(f=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,w=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const N=await s.text();try{c=JSON.parse(N),Array.isArray(c)&&s.status===404&&(h=[],c=null,w=200,p="OK")}catch{s.status===404&&N===""?(w=204,p="No Content"):c={message:N}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,w=200,p="OK"),c&&this.shouldThrowOnError)throw new oS.default(c)}return{error:c,data:h,count:f,status:w,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Oh.default=lS;var uS=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ih,"__esModule",{value:!0});const cS=uS(Oh);let dS=class extends cS.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ih.default=dS;var hS=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ku,"__esModule",{value:!0});const fS=hS(Ih);let pS=class extends fS.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ku.default=pS;var gS=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fh,"__esModule",{value:!0});const Jl=gS(Ku);let mS=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Jl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Jl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Jl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Jl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Jl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Fh.default=mS;var Mh={},$h={};Object.defineProperty($h,"__esModule",{value:!0});$h.version=void 0;$h.version="0.0.0-automated";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.DEFAULT_HEADERS=void 0;const yS=$h;Mh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yS.version}`};var Tv=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kg,"__esModule",{value:!0});const vS=Tv(Fh),wS=Tv(Ku),bS=Mh;let xS=class Fv{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},bS.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new vS.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Fv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{o.searchParams.append(h,f)})):(a="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new wS.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Kg.default=xS;var ul=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});en.PostgrestError=en.PostgrestBuilder=en.PostgrestTransformBuilder=en.PostgrestFilterBuilder=en.PostgrestQueryBuilder=en.PostgrestClient=void 0;const Iv=ul(Kg);en.PostgrestClient=Iv.default;const Ov=ul(Fh);en.PostgrestQueryBuilder=Ov.default;const Rv=ul(Ku);en.PostgrestFilterBuilder=Rv.default;const Mv=ul(Ih);en.PostgrestTransformBuilder=Mv.default;const $v=ul(Oh);en.PostgrestBuilder=$v.default;const Bv=ul(Rh);en.PostgrestError=Bv.default;var SS=en.default={PostgrestClient:Iv.default,PostgrestQueryBuilder:Ov.default,PostgrestFilterBuilder:Rv.default,PostgrestTransformBuilder:Mv.default,PostgrestBuilder:$v.default,PostgrestError:Bv.default};const{PostgrestClient:_S,PostgrestQueryBuilder:Pk,PostgrestFilterBuilder:Ck,PostgrestTransformBuilder:Lk,PostgrestBuilder:Ek,PostgrestError:Tk}=SS;function NS(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const kS=NS(),AS="2.11.15",jS=`realtime-js/${AS}`,PS="1.0.0",Dv=1e4,CS=1e3;var mu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(mu||(mu={}));var Ir;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ir||(Ir={}));var Xn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xn||(Xn={}));var Np;(function(t){t.websocket="websocket"})(Np||(Np={}));var ma;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ma||(ma={}));class LS{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Uv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Et||(Et={}));const Ym=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=ES(a,t,e,i),s),{})},ES=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?zv(s,a):kp(a)},zv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return OS(e,r)}switch(t){case Et.bool:return TS(e);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return FS(e);case Et.json:case Et.jsonb:return IS(e);case Et.timestamp:return RS(e);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return kp(e);default:return kp(e)}},kp=t=>t,TS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},IS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},OS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>zv(e,o))}return t},RS=t=>typeof t=="string"?t.replace(" ","T"):t,qv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class o0{constructor(e,r,n={},i=Dv){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qm||(Qm={}));class yu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yu.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=yu.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yu.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(c,h)=>{a[c]||(l[c]=h)}),this.map(a,(c,h)=>{const f=s[c];if(f){const w=h.map(A=>A.presence_ref),p=f.map(A=>A.presence_ref),_=h.filter(A=>p.indexOf(A.presence_ref)<0),N=f.filter(A=>w.indexOf(A.presence_ref)<0);_.length>0&&(o[c]=_),N.length>0&&(l[c]=N)}else o[c]=h}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const h=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),h.length>0){const f=e[o].map(p=>p.presence_ref),w=h.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...w)}n(o,h,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const h=l.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Xm||(Xm={}));var Zm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zm||(Zm={}));var qi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qi||(qi={}));class Jg{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new o0(this,Xn.join,this.params,this.timeout),this.rejoinTimer=new Uv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new yu(this),this.broadcastEndpointURL=qv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(h=>e==null?void 0:e(qi.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(qi.CLOSED));const l={},c={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){e==null||e(qi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,p=(f=w==null?void 0:w.length)!==null&&f!==void 0?f:0,_=[];for(let N=0;N<p;N++){const A=w[N],{filter:{event:v,schema:b,table:S,filter:T}}=A,D=h&&h[N];if(D&&D.event===v&&D.schema===b&&D.table===S&&D.filter===T)_.push(Object.assign(Object.assign({},A),{id:D.id}));else{this.unsubscribe(),this.state=Ir.errored,e==null||e(qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(qi.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ir.errored,e==null||e(qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new o0(this,Xn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new o0(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:h}=Xn;if(n&&[o,l,c,h].indexOf(a)>=0&&n!==this._joinRef())return;let w=this._onMessage(a,r,n);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var _,N,A;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(N=p.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===a}).map(p=>p.callback(w,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var _,N,A,v,b,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const T=p.id,D=(_=p.filter)===null||_===void 0?void 0:_.event;return T&&((N=r.ids)===null||N===void 0?void 0:N.includes(T))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const T=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:N,table:A,commit_timestamp:v,type:b,errors:S}=_;w=Object.assign(Object.assign({},{schema:N,table:A,commit_timestamp:v,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(_))}p.callback(w,n)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Jg.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xn.close,{},e)}_onError(e){this._on(Xn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ym(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ym(e.columns,e.old_record)),r}}const e2=()=>{},MS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $S{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=e2,this.ref=0,this.logger=e2,this.conn=null,this.sendBuffer=[],this.serializer=new LS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Hs(async()=>{const{default:l}=await Promise.resolve().then(()=>ll);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Np.websocket}`,this.httpEndpoint=qv(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Uv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=kS),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PS}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case mu.connecting:return ma.Connecting;case mu.open:return ma.Open;case mu.closing:return ma.Closing;default:return ma.Closed}}isConnected(){return this.connectionState()===ma.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Jg(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:jS};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Xn.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(CS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([MS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Yg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class BS extends Yg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ap extends Yg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var DS=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Hv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>ll);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},US=()=>DS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hs(()=>Promise.resolve().then(()=>ll),void 0)).Response:Response}),jp=t=>{if(Array.isArray(t))return t.map(r=>jp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=jp(n)}),e},zS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ta=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const l0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qS=(t,e,r)=>Ta(void 0,void 0,void 0,function*(){const n=yield US();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new BS(l0(i),s,a))}).catch(i=>{e(new Ap(l0(i),i))}):e(new Ap(l0(t),t))}),HS=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(zS(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Ju(t,e,r,n,i,s){return Ta(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,HS(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>qS(l,o,n))})})}function lh(t,e,r,n){return Ta(this,void 0,void 0,function*(){return Ju(t,"GET",e,r,n)})}function Hi(t,e,r,n,i){return Ta(this,void 0,void 0,function*(){return Ju(t,"POST",e,n,i,r)})}function Pp(t,e,r,n,i){return Ta(this,void 0,void 0,function*(){return Ju(t,"PUT",e,n,i,r)})}function WS(t,e,r,n){return Ta(this,void 0,void 0,function*(){return Ju(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Wv(t,e,r,n,i){return Ta(this,void 0,void 0,function*(){return Ju(t,"DELETE",e,n,i,r)})}var Xr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const VS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},t2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GS{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Hv(i)}uploadOrUpdate(e,r,n,i){return Xr(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},t2),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),f=yield(e=="PUT"?Pp:Hi)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(mr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Xr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:t2.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield Pp(this.fetch,o.toString(),l,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(mr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Xr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Hi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Yg("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xr(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Xr(this,void 0,void 0,function*(){try{return{data:{path:(yield Hi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Xr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Hi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Xr(this,void 0,void 0,function*(){try{const i=yield Hi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}download(e,r){return Xr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield lh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(mr(o))return{data:null,error:o};throw o}})}info(e){return Xr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield lh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jp(n),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}exists(e){return Xr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield WS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(mr(n)&&n instanceof Ap){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Xr(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},VS),r),{prefix:e||""});return{data:yield Hi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const KS="2.10.4",JS={"X-Client-Info":`storage-js/${KS}`};var co=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class YS{constructor(e,r={},n,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},JS),r),this.fetch=Hv(n)}listBuckets(){return co(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mr(e))return{data:null,error:e};throw e}})}getBucket(e){return co(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return co(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return co(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return co(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return co(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}})}}class QS extends YS{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new GS(this.url,this.headers,e,this.fetch)}}const XS="2.53.0";let au="";typeof Deno<"u"?au="deno":typeof document<"u"?au="web":typeof navigator<"u"&&navigator.product==="ReactNative"?au="react-native":au="node";const ZS={"X-Client-Info":`supabase-js-${au}/${XS}`},e_={headers:ZS},t_={schema:"public"},r_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n_={};var i_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const s_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Cv:e=fetch,(...r)=>e(...r)},a_=()=>typeof Headers>"u"?Lv:Headers,o_=(t,e,r)=>{const n=s_(r),i=a_();return(s,a)=>i_(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))})};var l_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function u_(t){return t.endsWith("/")?t:t+"/"}function c_(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:h,global:f}=e,w={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>l_(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}const Vv="2.71.1",vo=30*1e3,Cp=3,u0=Cp*vo,d_="http://localhost:9999",h_="supabase.auth.token",f_={"X-Client-Info":`gotrue-js/${Vv}`},Lp="X-Supabase-Api-Version",Gv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g_=10*60*1e3;class Qg extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class m_ extends Qg{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function y_(t){return ot(t)&&t.name==="AuthApiError"}class Kv extends Qg{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ys extends Qg{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ns extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v_(t){return ot(t)&&t.name==="AuthSessionMissingError"}class od extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ld extends Ys{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ud extends Ys{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function w_(t){return ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class r2 extends Ys{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ep extends Ys{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function c0(t){return ot(t)&&t.name==="AuthRetryableFetchError"}class n2 extends Ys{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Tp extends Ys{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i2=` 	
\r=`.split(""),b_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<i2.length;e+=1)t[i2[e].charCodeAt(0)]=-2;for(let e=0;e<uh.length;e+=1)t[uh[e].charCodeAt(0)]=e;return t})();function s2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(uh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(uh[n]),e.queuedBits-=6}}function Jv(t,e,r){const n=b_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function a2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{__(a,n,r)};for(let a=0;a<t.length;a+=1)Jv(t.charCodeAt(a),i,s);return e.join("")}function x_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function S_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}x_(n,e)}}function __(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function N_(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Jv(t.charCodeAt(i),r,n);return new Uint8Array(e)}function k_(t){const e=[];return S_(t,r=>e.push(r)),new Uint8Array(e)}function A_(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>s2(i,r,n)),s2(null,r,n),e.join("")}function j_(t){return Math.round(Date.now()/1e3)+t}function P_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},Yv=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function C_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Qv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>ll);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},L_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},da=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xs=async(t,e)=>{await t.removeItem(e)};class Bh{constructor(){this.promise=new Bh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Bh.promiseConstructor=Promise;function d0(t){const e=t.split(".");if(e.length!==3)throw new Tp("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!p_.test(e[n]))throw new Tp("JWT not in base64url format");return{header:JSON.parse(a2(e[0])),payload:JSON.parse(a2(e[1])),signature:N_(e[2]),raw:{header:e[0],payload:e[1]}}}async function E_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function T_(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function F_(t){return("0"+t.toString(16)).substr(-2)}function I_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,F_).join("")}async function O_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function R_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await O_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ho(t,e,r=!1){const n=I_();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await wo(t,`${e}-code-verifier`,i);const s=await R_(n);return[s,n===s?"plain":"s256"]}const M_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $_(t){const e=t.headers.get(Lp);if(!e||!e.match(M_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function B_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function D_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(t){if(!U_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function h0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o2(t){return JSON.parse(JSON.stringify(t))}var z_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const pa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q_=[502,503,504];async function l2(t){var e;if(!L_(t))throw new Ep(pa(t),0);if(q_.includes(t.status))throw new Ep(pa(t),t.status);let r;try{r=await t.json()}catch(s){throw new Kv(pa(s),s)}let n;const i=$_(t);if(i&&i.getTime()>=Gv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new n2(pa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new n2(pa(r),t.status,r.weak_password.reasons);throw new m_(pa(r),t.status||500,n)}const H_=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function dt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Lp]||(s[Lp]=Gv["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await W_(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function W_(t,e,r,n,i,s){const a=H_(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Ep(pa(l),0)}if(o.ok||await l2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await l2(l)}}function Ui(t){var e;let r=null;J_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=j_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function u2(t){const e=Ui(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Cs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function V_(t){return{data:t,error:null}}function G_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=z_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function K_(t){return t}function J_(t){return t.access_token&&t.refresh_token&&t.expires_in}const f0=["global","local","others"];var Y_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class Q_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Qv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=f0[0]){if(f0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${f0.join(", ")}`);try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cs})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Y_(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:G_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ot(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cs})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},h=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:K_});if(h.error)throw h.error;const f=await h.json(),w=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);c[`${A}Page`]=N}),c.total=parseInt(w)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ot(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fo(e);try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cs})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fo(e);try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Cs})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fo(e);try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cs})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fo(e.userId);try{const{data:r,error:n}=await dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}}function c2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function X_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const po={debug:!!(globalThis&&Yv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Z_ extends Xv{}async function eN(t,e,r){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Z_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(po.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}X_();const tN={url:d_,storageKey:h_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function d2(t,e,r){return await r()}const go={};class $u{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$u.nextInstanceID,$u.nextInstanceID+=1,this.instanceID>0&&Kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},tN),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Q_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Qv(i.fetch),this.lock=i.lock||d2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Kn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=eN:this.lock=d2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Yv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=c2(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=go[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=go[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=C_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),w_(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ot(r)?{error:r}:{error:new Kv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ui}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ot(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:h,password:f,options:w}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await ho(this.storage,this.storageKey)),s=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:h,password:f,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:p,code_challenge_method:_},xform:Ui})}else if("phone"in e){const{phone:h,password:f,options:w}=e;s=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Ui})}else throw new ld("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ot(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:u2})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:u2})}else throw new ld("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new od}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,a,o,l,c,h,f,w,p;let _,N;if("message"in e)_=e.message,N=e.signature;else{const{chain:A,wallet:v,statement:b,options:S}=e;let T;if(Kn())if(typeof v=="object")T=v;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))T=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const D=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const Y=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),b?{statement:b}:null));let R;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")R=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)R=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)_=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),N=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(h=S==null?void 0:S.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const Y=await T.signMessage(new TextEncoder().encode(_),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Y}}try{const{data:A,error:v}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:A_(N)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ui});if(v)throw v;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new od}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:v})}catch(A){if(ot(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const r=await da(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ui});if(await xs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new od}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(ot(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ui}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new od}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await ho(this.storage,this.storageKey));const{error:f}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:h}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new ld("You must provide either an email or phone number.")}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ui});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ot(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ho(this.storage,this.storageKey)),await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:V_})}catch(s){if(ot(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ns;const{error:i}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ot(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await dt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await dt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new ld("You must provide either an email or phone number and a type")}catch(r){if(ot(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<u0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await da(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=h0()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,h)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cs}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Cs})})}catch(r){if(ot(r))return v_(r)&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ns;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ho(this.storage,this.storageKey));const{data:c,error:h}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Cs});if(h)throw h;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=d0(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ot(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ns;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ot(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Kn())throw new ud("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ud(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new r2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ud("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new r2("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new ud("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(o);let w=h+f;l&&(w=parseInt(l));const p=w-h;p*1e3<=vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const _=w-f;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,h);const{data:N,error:A}=await this._getUser(s);if(A)throw A;const v={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:w,refresh_token:a,token_type:c,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(ot(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await da(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(y_(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=P_(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ho(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ot(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,h;const{data:f,error:w}=s;if(w)throw w;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Kn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ot(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await T_(async i=>(i>0&&await E_(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ui})),(i,s)=>{const a=200*Math.pow(2,i);return s&&c0(s)&&Date.now()+a-n<vo})}catch(n){if(this._debug(r,"error",n),ot(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await da(this.storage,this.storageKey);if(i&&this.userStorage){let a=await da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await wo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:h0()}else if(i&&!i.user&&!i.user){const a=await da(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await xs(this.storage,this.storageKey+"-user"),await wo(this.storage,this.storageKey,i)):i.user=h0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<u0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${u0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),c0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Bh;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ns;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),ot(s)){const a={session:null,error:s};return c0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=o2(i);await wo(this.storage,this.storageKey,s)}else{const i=o2(r);await wo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await xs(this.storage,this.storageKey),await xs(this.storage,this.storageKey+"-code-verifier"),await xs(this.storage,this.storageKey+"-user"),this.userStorage&&await xs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vo}ms, refresh threshold is ${Cp} ticks`),i<=Cp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ho(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ot(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ot(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=d0(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const h=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+g_>i)return n;const{data:s,error:a}=await dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=d0(n);r!=null&&r.allowExpired||B_(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const h=D_(i.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,k_(`${o}.${l}`)))throw new Tp("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}}$u.nextInstanceID=0;const rN=$u;class nN extends rN{constructor(e){super(e)}}var iN=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class sN{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=u_(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:t_,realtime:n_,auth:Object.assign(Object.assign({},r_),{storageKey:c}),global:e_},f=c_(n??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(w,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=o_(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new _S(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new QS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Z6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return iN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nN({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new $S(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aN=(t,e,r)=>new sN(t,e,r);function oN(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}oN()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Zv="https://srbfsweiwiqbkjajkbng.supabase.co",ew="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNyYmZzd2Vpd2lxYmtqYWprYm5nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NjgzMTIsImV4cCI6MjA3MDI0NDMxMn0.W5Bo4ci22563qkqzx8ycZI83B_1BOEkUY8JuQs9EINE";console.log("Supabase config check:",{url:`${Zv.substring(0,20)}...`,key:`${ew.substring(0,20)}...`});const ar=aN(Zv,ew,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});console.log("Supabase client created successfully");async function lN(t,e){try{console.log("💳 Updating user subscription pages for user:",t,"consumed:",e);const{data:r,error:n}=await ar.from("user_subscriptions").select("id, pages_remaining, pages_used").eq("user_id",t).eq("status","active").maybeSingle();if(n)throw new Error(`Failed to fetch user subscription: ${n.message}`);if(!r){console.warn("No active subscription found for user:",t);return}const i=Math.max(0,r.pages_remaining-e),s=r.pages_used+e;console.log("📊 Page calculation:",{current:{remaining:r.pages_remaining,used:r.pages_used},consumed:e,new:{remaining:i,used:s}});const{error:a}=await ar.from("user_subscriptions").update({pages_remaining:i,pages_used:s}).eq("id",r.id);if(a)throw new Error(`Failed to update subscription: ${a.message}`);console.log("✅ Successfully updated user subscription pages")}catch(r){throw console.error("❌ Error updating user subscription pages:",r),r}}function uN(){const[t,e]=se.useState(!1),[r,n]=se.useState(null),[i,s]=se.useState(null),[a,o]=se.useState(0),l=se.useCallback((N,A)=>{const v=[];return N.name===A.name&&N.size===A.size&&v.push("Please select two different files for comparison"),{isValid:v.length===0,errors:v}},[]),c=se.useCallback(async(N,A,v)=>{n(null),s(null),o(0);const b=l(N,A);if(!b.isValid){n(b.errors.join("; "));return}console.log("🚀 Starting comparison process"),e(!0);try{o(10),console.log("💳 Checking available credits...");const S=await bi.checkCreditsBeforeProcessing(2);if(!S.hasEnoughCredits&&S.accountType!=="free_tier")throw new Error(`Insufficient credits: ${S.availableCredits} available, ${S.requiredCredits} required. Please add more credits or try again tomorrow.`);if(S.accountType==="free_tier"&&console.log("⚠️ Free tier account detected - daily page limits may apply"),S.accountType==="paid"&&S.paidCredits>0&&(o(15),console.log("💳 Paid account detected with",S.paidCredits,"credits")),console.log("✅ Credits check passed"),v){o(20),console.log("💳 Checking user subscription pages...");try{const{data:U,error:E}=await ar.from("user_subscriptions").select("pages_remaining, tier_id").eq("user_id",v).eq("status","active").maybeSingle();if(E)console.warn("Failed to check user subscription pages:",E);else if(U){if(U.pages_remaining<2)throw new Error(`Insufficient pages remaining: ${U.pages_remaining} available, need at least 2 for comparison. Please upgrade your subscription or wait for next month's allocation.`);console.log("✅ User subscription check passed:",{pagesRemaining:U.pages_remaining,tierId:U.tier_id})}else console.log("⚠️ No active subscription found, proceeding with external credit check")}catch(U){if(U instanceof Error)throw U;console.warn("Subscription check failed, proceeding with external credit check")}}o(25),console.log("📊 Processing statements through API...");const T=await bi.processTwoStatements(N,A);console.log("✅ API processing completed"),o(50),console.log("🔄 Converting to internal format...");const D=ad.convertToInternalFormat(T.file1Result,T.file1Name),Y=ad.convertToInternalFormat(T.file2Result,T.file2Name);console.log("✅ Format conversion completed"),o(75),console.log("🔄 Generating comparison...");const R=G6.compareStatements(D,Y);if(console.log("✅ Comparison completed"),!R||!R.comparison)throw new Error("Failed to generate comparison data");const k=ad.validateParsedStatement(R.statement1),O=ad.validateParsedStatement(R.statement2);if(!k.isValid)throw new Error(`Statement 1: ${k.errors.join("; ")}`);if(!O.isValid)throw new Error(`Statement 2: ${O.errors.join("; ")}`);if(o(100),s(R),v)try{const U=T.totalPages||2;console.log("📊 Using actual page counts:",{file1Pages:T.file1Pages,file2Pages:T.file2Pages,totalPages:T.totalPages,pagesConsumed:U});const E={statement1:{name:T.file1Name,pages:T.file1Pages,transactions:R.statement1.transactions.length,fullData:R.statement1},statement2:{name:T.file2Name,pages:T.file2Pages,transactions:R.statement2.transactions.length,fullData:R.statement2},comparison:{totalCategories:R.comparison.length,totalTransactions:R.statement1.transactions.length+R.statement2.transactions.length,fullComparison:R.comparison}},{error:L}=await ar.from("usage_logs").insert({user_id:v,pages_consumed:U,created_at:new Date().toISOString(),statement1_name:T.file1Name,statement2_name:T.file2Name,file1_pages:T.file1Pages,file2_pages:T.file2Pages,comparison_summary:E,status:"completed"});if(L)console.error("Failed to save usage log to Supabase:",L);else{console.log("💾 Saved complete comparison data to Supabase usage_logs");try{await lN(v,U),console.log("💳 Updated user subscription: deducted",U,"pages")}catch(W){console.error("Failed to update user subscription pages:",W)}}}catch(U){console.error("Failed to save comparison data to Supabase:",U)}else console.log("⚠️ No userId provided, skipping Supabase save");try{console.log("💳 Deducting credits after successful comparison...");const U=T.totalPages||2;await bi.deductCreditsAfterProcessing(U),console.log(`✅ Credits deducted successfully: ${U} credits for ${U} pages`)}catch(U){console.error("Failed to deduct credits:",U)}}catch(S){console.error("Comparison error:",S),S instanceof Error?n(S.message):n("Unknown error occurred")}finally{e(!1),o(0)}},[l]),h=se.useCallback(N=>{n(N)},[]),f=se.useCallback(()=>{n(null)},[]),w=se.useCallback(()=>{s(null)},[]),p=se.useCallback(N=>{s(N)},[]),_=se.useCallback(()=>{e(!1),n(null),s(null),o(0)},[]);return{isLoading:t,error:r,result:i,progress:a,compareStatements:c,setError:h,clearError:f,clearResult:w,setResult:p,reset:_,validateFiles:l}}function Yu(){const[t,e]=se.useState(null),[r,n]=se.useState(null),[i,s]=se.useState(null),[a,o]=se.useState(null),[l,c]=se.useState(!0),[h,f]=se.useState(!1);se.useEffect(()=>{console.log("🔐 useAuth: useEffect triggered, starting auth initialization..."),console.log("🔐 useAuth: Getting initial session..."),ar.auth.getSession().then(({data:{session:b},error:S})=>{var T;console.log("🔐 useAuth: Initial session result:",{hasSession:!!b,userId:(T=b==null?void 0:b.user)==null?void 0:T.id,error:S==null?void 0:S.message}),e((b==null?void 0:b.user)??null),b!=null&&b.user?(console.log("🔐 useAuth: User found, fetching profile and subscription..."),Promise.allSettled([w(b.user.id),p(b.user.id)]).then(()=>{console.log("🔐 useAuth: All fetches completed, setting loading to false"),c(!1)})):(console.log("🔐 useAuth: No user session, setting loading to false"),c(!1))}).catch(b=>{console.error("🔐 useAuth: Error getting initial session:",b),c(!1)}),console.log("🔐 useAuth: Setting up auth state change listener...");const{data:{subscription:v}}=ar.auth.onAuthStateChange(async(b,S)=>{var T;console.log("🔐 useAuth: Auth state change event:",b,{hasSession:!!S,userId:(T=S==null?void 0:S.user)==null?void 0:T.id}),e((S==null?void 0:S.user)??null),S!=null&&S.user?(console.log("🔐 useAuth: User authenticated, fetching profile and subscription..."),Promise.allSettled([w(S.user.id),p(S.user.id)]).then(()=>{console.log("🔐 useAuth: All fetches completed after auth state change, setting loading to false"),c(!1)})):(console.log("🔐 useAuth: User signed out, clearing data..."),n(null),s(null),o(null),c(!1))});return()=>{console.log("🔐 useAuth: Cleaning up auth subscription"),v.unsubscribe()}},[]);const w=async v=>{if(h){console.log("👤 useAuth: Profile fetch already in progress, skipping...");return}try{f(!0),console.log("👤 useAuth: Starting profile fetch for user:",v);const b=Date.now(),S=new Promise((k,O)=>{setTimeout(()=>O(new Error("Profile fetch timeout after 10 seconds")),1e4)}),T=ar.from("profiles").select("*").eq("id",v).maybeSingle(),{data:D,error:Y}=await Promise.race([T,S]),R=Date.now()-b;if(console.log("👤 useAuth: Profile fetch completed in",R,"ms:",{hasData:!!D,error:Y==null?void 0:Y.message,profileData:D}),Y){console.error("👤 useAuth: Profile fetch error:",Y);return}D?(console.log("👤 useAuth: Profile fetched successfully:",D),n(D)):(console.log("👤 useAuth: No profile found for user:",v),n(null))}catch(b){console.error("👤 useAuth: Error fetching profile:",b),n(null)}finally{f(!1)}},p=async v=>{if(h){console.log("💳 useAuth: Subscription fetch already in progress, skipping...");return}try{f(!0),console.log("💳 useAuth: Starting subscription fetch for user:",v);const b=Date.now(),S=new Promise((k,O)=>{setTimeout(()=>O(new Error("Subscription fetch timeout after 10 seconds")),1e4)}),T=ar.from("user_subscriptions").select(`
          *,
          subscription_tiers (*)
        `).eq("user_id",v).eq("status","active").maybeSingle(),{data:D,error:Y}=await Promise.race([T,S]),R=Date.now()-b;if(console.log("💳 useAuth: Subscription fetch completed in",R,"ms:",{hasData:!!D,error:Y==null?void 0:Y.message,subscriptionData:D}),Y){console.error("💳 useAuth: Subscription fetch error:",Y);return}D?(console.log("💳 useAuth: Subscription fetched successfully:",D),s(D),o(D.subscription_tiers)):(console.log("💳 useAuth: No active subscription found for user:",v),s(null),o(null))}catch(b){console.error("💳 useAuth: Error fetching subscription:",b),s(null),o(null)}finally{f(!1)}};return{user:t,profile:r,subscription:i,tier:a,loading:l,signUp:async(v,b,S)=>{try{console.log("Attempting signup with:",{email:v,password:"***",fullName:S});const{data:T,error:D}=await ar.auth.signUp({email:v,password:b,options:{data:{full_name:S}}});if(D)throw console.error("Signup error details:",D),D;if(T.user){const{data:{session:Y}}=await ar.auth.getSession();if(!Y)throw new Error("Session not established after signup");const{error:R}=await ar.from("profiles").insert({id:T.user.id,email:T.user.email,full_name:S});if(R)throw R;const{error:k}=await ar.from("user_subscriptions").insert({user_id:T.user.id,tier_id:1,pages_remaining:40});if(k)throw k}return{data:T,error:null}}catch(T){return{data:null,error:T}}},signIn:async(v,b)=>{try{const{data:S,error:T}=await ar.auth.signInWithPassword({email:v,password:b});if(T)throw T;return{data:S,error:null}}catch(S){return{data:null,error:S}}},signOut:async()=>{try{console.log("useAuth signOut called, attempting to sign out from Supabase..."),console.log("Current user state before signOut:",t),console.log("Testing Supabase connection...");try{const{data:T,error:D}=await ar.auth.getSession();console.log("Supabase connection test result:",{testData:T,testError:D})}catch(T){console.error("Supabase connection test failed:",T)}console.log("Attempting Supabase signOut...");const v=Date.now(),b=new AbortController,S=setTimeout(()=>b.abort(),5e3);try{const{error:T}=await ar.auth.signOut(),D=Date.now();if(console.log(`Supabase signOut completed in ${D-v}ms`),T)throw console.error("Supabase signOut error:",T),T;console.log("Supabase signOut successful")}catch(T){if(T.name==="AbortError"){console.warn("Supabase signOut timed out, attempting manual session clear...");try{await ar.auth.refreshSession(),console.log("Manually refreshed session")}catch(D){console.warn("Failed to manually refresh session:",D)}try{await ar.auth.signOut({scope:"local"}),console.log("Local signOut successful")}catch(D){console.warn("Local signOut failed:",D)}}else throw T}finally{clearTimeout(S)}console.log("User state after signOut should be null"),e(null),n(null),s(null),o(null)}catch(v){throw console.error("Error signing out:",v),v}},isSignedIn:!!t}}function cN({size:t="md",text:e,progress:r,isDark:n=!1}){const i={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},s={sm:"text-sm",md:"text-base",lg:"text-lg"};return m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx(L6,{className:`${i[t]} animate-spin ${n?"text-blue-400":"text-blue-600"}`}),e&&m.jsx("p",{className:`${s[t]} font-medium ${n?"text-gray-200":"text-gray-700"}`,children:e}),typeof r=="number"&&r>0&&m.jsxs("div",{className:"w-full max-w-xs",children:[m.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2 ${n?"bg-gray-700":"bg-gray-200"}`,children:m.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${Math.min(100,Math.max(0,r))}%`}})}),m.jsxs("p",{className:`text-xs text-center mt-1 ${n?"text-gray-400":"text-gray-500"}`,children:[Math.round(r),"% complete"]})]})]})}function dN({error:t,onDismiss:e,onRetry:r,isDark:n=!1,className:i=""}){return m.jsx("div",{className:`rounded-lg border-2 p-4 ${n?"bg-red-900/20 border-red-600 text-red-400":"bg-red-50 border-red-300 text-red-700"} ${i}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"flex-shrink-0 mt-0.5",children:m.jsx(xa,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Error"}),m.jsx("p",{className:"text-xs opacity-80 mb-2",children:t})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[r&&m.jsx("button",{onClick:r,className:`p-1 rounded transition-colors ${n?"hover:bg-white/10 text-current":"hover:bg-black/10 text-current"}`,title:"Retry",children:m.jsx(Nv,{className:"h-4 w-4"})}),e&&m.jsx("button",{onClick:e,className:`p-1 rounded transition-colors ${n?"hover:bg-white/10 text-current":"hover:bg-black/10 text-current"}`,title:"Dismiss",children:m.jsx(rs,{className:"h-4 w-4"})})]})]})})}function hN({isDark:t}){const[e,r]=se.useState([]);se.useState(!1);const n=()=>{const c=bi.getUploadedFiles();r(c)},i=()=>{bi.clearAllUploadedFiles(),n()},s=()=>{bi.getOldFiles(24).forEach(h=>{bi.clearUploadedFile(h.uuid)}),n()},a=c=>{switch(c){case"READY":return m.jsx(Zo,{className:"h-4 w-4 text-green-500"});case"PROCESSING":return m.jsx(Nv,{className:"h-4 w-4 text-blue-500 animate-spin"});case"ERROR":return m.jsx(xa,{className:"h-4 w-4 text-red-500"});default:return m.jsx(sh,{className:"h-4 w-4 text-gray-500"})}},o=c=>{switch(c){case"READY":return"Ready";case"PROCESSING":return"Processing";case"ERROR":return"Error";default:return"Unknown"}},l=c=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c);return se.useEffect(()=>{n();const c=setInterval(n,3e4);return()=>clearInterval(c)},[]),e.length===0?null:m.jsxs("div",{className:`rounded-lg border p-4 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:["Uploaded Files (",e.length,")"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:s,className:`px-3 py-1.5 text-sm rounded-md transition-colors ${t?"bg-orange-600 hover:bg-orange-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:"Clear Old"}),m.jsx("button",{onClick:i,className:`px-3 py-1.5 text-sm rounded-md transition-colors ${t?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:m.jsx(el,{className:"h-4 w-4"})})]})]}),m.jsx("div",{className:"space-y-2",children:e.map(c=>m.jsxs("div",{className:`flex items-center justify-between p-3 rounded-md ${t?"bg-gray-700":"bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[a(c.status),m.jsxs("div",{children:[m.jsx("p",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-800"}`,children:c.filename}),m.jsxs("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:[o(c.status)," • ",l(c.uploadTime)]})]})]}),m.jsx("button",{onClick:()=>{bi.clearUploadedFile(c.uuid),n()},className:`p-1 rounded-md transition-colors ${t?"text-gray-400 hover:text-red-400 hover:bg-gray-600":"text-gray-500 hover:text-red-500 hover:bg-gray-100"}`,children:m.jsx(el,{className:"h-4 w-4"})})]},c.uuid))}),m.jsx("div",{className:`mt-4 text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"💡 Files are automatically cleaned up after 24 hours. You can manually clear them to free up API storage."})]})}function fN({isDark:t}){return m.jsxs("div",{className:"text-center mb-12",children:[m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[m.jsx("div",{className:"p-4 rounded-2xl bg-blue-600",children:m.jsx(ol,{className:"h-8 w-8 text-white"})}),m.jsx("h1",{className:`text-4xl md:text-5xl font-bold ${t?"text-gray-100":"text-gray-800"}`,children:"Bank Statement Comparison"})]}),m.jsxs("div",{className:"space-y-2 text-lg",children:[m.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Upload two bank statements and get instant spending comparisons by category."}),m.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Perfect for co-parents, roommates, and couples splitting expenses."}),m.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Or for keeping tabs of your month to month spending."})]})]})}function h2({title:t,onFileSelect:e,uploadedFile:r,isDark:n,isSignedIn:i}){const s=o=>{if(o.preventDefault(),!i){e(new File([],""));return}const l=Array.from(o.dataTransfer.files);l.length>0&&l[0].type==="application/pdf"&&e(l[0])},a=o=>{if(!i){e(new File([],""));return}const l=Array.from(o.target.files||[]);l.length>0&&e(l[0])};return r?m.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${n?"border-green-600 bg-green-900/20":"border-green-500 bg-green-50"}`,children:[m.jsx(Zo,{className:`h-12 w-12 mx-auto mb-4 ${n?"text-green-400":"text-green-600"}`}),m.jsx("h3",{className:`text-lg font-semibold mb-2 ${n?"text-gray-200":"text-gray-800"}`,children:r.name}),m.jsx("p",{className:`text-sm mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Ready for comparison"}),m.jsx("input",{type:"file",accept:".pdf",onChange:a,className:"hidden",id:`file-${t.replace(/\s+/g,"-").toLowerCase()}-uploaded`,disabled:!i}),m.jsxs("label",{htmlFor:i?`file-${t.replace(/\s+/g,"-").toLowerCase()}-uploaded`:void 0,onClick:i?void 0:()=>e(new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${i?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${n?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[m.jsx(ki,{className:"h-4 w-4"}),"Change File"]})]}):m.jsxs("div",{onDrop:s,onDragOver:o=>o.preventDefault(),onClick:i?void 0:()=>e(new File([],"")),className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors cursor-pointer ${i?n?"border-gray-600 hover:border-blue-500 bg-gray-800/50 hover:bg-gray-800":"border-gray-300 hover:border-blue-500 bg-gray-50 hover:bg-gray-100":n?"border-gray-700 hover:border-gray-600 bg-gray-800/30 opacity-60":"border-gray-200 hover:border-gray-300 bg-gray-25 opacity-60"}`,children:[m.jsx(q6,{className:`h-12 w-12 mx-auto mb-4 ${n?"text-gray-400":"text-gray-500"}`}),m.jsx("h3",{className:`text-lg font-semibold mb-2 ${n?"text-gray-200":"text-gray-800"}`,children:t}),m.jsx("p",{className:`text-sm mb-4 ${n?"text-gray-400":"text-gray-600"}`,children:"Drag and drop your PDF bank statement here"}),m.jsx("input",{type:"file",accept:".pdf",onChange:a,className:"hidden",id:`file-${t.replace(/\s+/g,"-").toLowerCase()}`,disabled:!i}),m.jsxs("label",{htmlFor:i?`file-${t.replace(/\s+/g,"-").toLowerCase()}`:void 0,onClick:i?void 0:()=>e(new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${i?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${n?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[m.jsx(ki,{className:"h-4 w-4"}),"Choose File"]})]})}function pN({isDark:t,isSignedIn:e,uploadedFiles:r,statementLabels:n,editingLabel:i,bothFilesUploaded:s,previewButtonGlowing:a,apiLoading:o,onFileUpload:l,onLabelEdit:c,onLabelSave:h,onGenerateComparison:f,onUseSampleData:w,setEditingLabel:p}){var _,N;return s?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement1"?m.jsx("input",{type:"text",value:n.statement1,onChange:A=>c("statement1",A.target.value),onBlur:h,onKeyDown:A=>A.key==="Enter"&&h(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):m.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement1}),m.jsx(su,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement1")})]}),m.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center ${t?"border-green-600 bg-green-900/20":"border-green-500 bg-green-50"}`,children:[m.jsx(Zo,{className:`h-12 w-12 mx-auto mb-4 ${t?"text-green-400":"text-green-600"}`}),m.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:(_=r.statement1)==null?void 0:_.name}),m.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Ready for comparison"}),m.jsx("input",{type:"file",accept:".pdf",onChange:A=>{const v=Array.from(A.target.files||[]);v.length>0&&l("statement1",v[0])},className:"hidden",id:"file-statement1-uploaded-post",disabled:!e}),m.jsxs("label",{htmlFor:e?"file-statement1-uploaded-post":void 0,onClick:e?void 0:()=>l("statement1",new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${t?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[m.jsx(ki,{className:"h-4 w-4"}),"Change File"]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement2"?m.jsx("input",{type:"text",value:n.statement2,onChange:A=>c("statement2",A.target.value),onBlur:h,onKeyDown:A=>A.key==="Enter"&&h(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):m.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement2}),m.jsx(su,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement2")})]}),m.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center ${t?"border-green-600 bg-green-900/20":"border-green-500 bg-green-50"}`,children:[m.jsx(Zo,{className:`h-12 w-12 mx-auto mb-4 ${t?"text-green-400":"text-green-600"}`}),m.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:(N=r.statement2)==null?void 0:N.name}),m.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Ready for comparison"}),m.jsx("input",{type:"file",accept:".pdf",onChange:A=>{const v=Array.from(A.target.files||[]);v.length>0&&l("statement2",v[0])},className:"hidden",id:"file-statement2-uploaded-post",disabled:!e}),m.jsxs("label",{htmlFor:e?"file-statement2-uploaded-post":void 0,onClick:e?void 0:()=>l("statement2",new File([],"")),className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white":`cursor-pointer ${t?"bg-gray-600 hover:bg-gray-500 text-gray-300":"bg-gray-400 hover:bg-gray-500 text-gray-600"}`}`,children:[m.jsx(ki,{className:"h-4 w-4"}),"Change File"]})]})]})]}),m.jsxs("div",{className:"text-center mb-12",children:[m.jsxs("button",{onClick:f,disabled:o||e&&!s,className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${o||e&&!s?t?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} ${a&&!e?"animate-pulse ring-4 ring-blue-300":""}`,children:[m.jsx(oh,{className:"h-5 w-5"}),o?"Processing...":e&&!s?"Waiting for files...":e?"Generate Results":"Preview Results"]}),e&&m.jsx("p",{className:`mt-3 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:s?"This will process all categories and charge based on pages processed":"Upload both bank statement files above to begin your comparison"})]}),m.jsx("div",{className:"mb-16"})]}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement1"?m.jsx("input",{type:"text",value:n.statement1,onChange:A=>c("statement1",A.target.value),onBlur:h,onKeyDown:A=>A.key==="Enter"&&h(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):m.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement1}),m.jsx(su,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement1")})]}),m.jsx(h2,{title:n.statement1,onFileSelect:A=>l("statement1",A),uploadedFile:r.statement1,isDark:t,isSignedIn:e})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i==="statement2"?m.jsx("input",{type:"text",value:n.statement2,onChange:A=>c("statement2",A.target.value),onBlur:h,onKeyDown:A=>A.key==="Enter"&&h(),className:`text-lg font-semibold bg-transparent border-b-2 border-blue-500 outline-none ${t?"text-gray-200":"text-gray-800"}`,autoFocus:!0}):m.jsx("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:n.statement2}),m.jsx(su,{className:`h-4 w-4 cursor-pointer transition-colors ${t?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-blue-500"}`,onClick:()=>p("statement2")})]}),m.jsx(h2,{title:n.statement2,onFileSelect:A=>l("statement2",A),uploadedFile:r.statement2,isDark:t,isSignedIn:e})]})]}),!e&&m.jsx("div",{className:"text-center mb-12",children:m.jsxs("button",{onClick:w,className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors bg-blue-600 hover:bg-blue-700 text-white ${a?"animate-pulse ring-4 ring-blue-300":""}`,children:[m.jsx(oh,{className:"h-5 w-5"}),o?"Processing...":"Preview Results"]})}),m.jsx("div",{className:"mb-16"})]})}function f2({isDark:t,transactions:e,onTransactionsChange:r,category:n}){const[i,s]=se.useState(null),[a,o]=se.useState({}),[l,c]=se.useState(!1),[h,f]=se.useState({}),w=Pv.getAvailableCategories(),p=S=>{s(S.id),o({...S})},_=()=>{if(i){const S=e.map(T=>T.id===i?{...T,...a}:T);r(S),s(null),o({})}},N=()=>{s(null),o({}),c(!1),f({})},A=S=>{const T=e.filter(D=>D.id!==S);r(T)},v=()=>{if(h.date&&h.description&&h.amount){const S={id:Date.now().toString(),date:h.date,description:h.description,amount:h.amount,category:h.category||n,type:h.type||"debit"};r([...e,S]),c(!1),f({})}},b=(S,T)=>{const D=e.map(Y=>Y.id===S?{...Y,category:T}:Y);r(D)};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h4",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:["Transactions (",e.length,")"]}),m.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-blue-600 hover:bg-blue-700 text-white",children:[m.jsx(O6,{className:"h-4 w-4"}),"Add Transaction"]})]}),l&&m.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[m.jsx("input",{type:"date",value:h.date||"",onChange:S=>f({...h,date:S.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Date"}),m.jsx("input",{type:"text",value:h.description||"",onChange:S=>f({...h,description:S.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Description"}),m.jsx("input",{type:"number",step:"0.01",value:h.amount||"",onChange:S=>f({...h,amount:parseFloat(S.target.value)}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Amount"}),m.jsxs("select",{value:h.type||"debit",onChange:S=>f({...h,type:S.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[m.jsx("option",{value:"debit",children:"Debit"}),m.jsx("option",{value:"credit",children:"Credit"})]})]}),m.jsxs("div",{className:"flex gap-2 mt-3",children:[m.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-green-600 hover:bg-green-700 text-white",children:[m.jsx(Vg,{className:"h-4 w-4"}),"Add"]}),m.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-gray-600 hover:bg-gray-700 text-white",children:[m.jsx(rs,{className:"h-4 w-4"}),"Cancel"]})]})]}),m.jsx("div",{className:"space-y-2",children:e.map(S=>m.jsx("div",{className:`p-3 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i===S.id?m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[m.jsx("input",{type:"date",value:a.date||"",onChange:T=>o({...a,date:T.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),m.jsx("input",{type:"text",value:a.description||"",onChange:T=>o({...a,description:T.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),m.jsx("input",{type:"number",step:"0.01",value:a.amount||"",onChange:T=>o({...a,amount:parseFloat(T.target.value)}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),m.jsxs("select",{value:a.type||"debit",onChange:T=>o({...a,type:T.target.value}),className:`px-3 py-2 rounded-md border text-sm ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[m.jsx("option",{value:"debit",children:"Debit"}),m.jsx("option",{value:"credit",children:"Credit"})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:_,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-green-600 hover:bg-green-700 text-white",children:[m.jsx(R6,{className:"h-4 w-4"}),"Save"]}),m.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-colors bg-gray-600 hover:bg-gray-700 text-white",children:[m.jsx(rs,{className:"h-4 w-4"}),"Cancel"]})]})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:S.date}),m.jsx("span",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:S.description}),m.jsxs("span",{className:`text-sm font-bold ${S.type==="credit"?t?"text-green-400":"text-green-600":t?"text-red-400":"text-red-600"}`,children:["$",S.amount.toFixed(2)]})]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("select",{value:S.category,onChange:T=>b(S.id,T.target.value),className:`px-2 py-1 rounded text-xs border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:w.map(T=>m.jsx("option",{value:T,children:T},T))}),m.jsx("button",{onClick:()=>p(S),className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-900"}`,children:m.jsx(su,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>A(S.id),className:`p-1 rounded transition-colors ${t?"hover:bg-red-900 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-600 hover:text-red-700"}`,children:m.jsx(el,{className:"h-4 w-4"})})]})]})},S.id))})]})}function St(t){"@babel/helpers - typeof";return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(t)}var Rr=Uint8Array,pn=Uint16Array,Xg=Int32Array,Dh=new Rr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Uh=new Rr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fp=new Rr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tw=function(t,e){for(var r=new pn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Xg(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},rw=tw(Dh,2),nw=rw.b,Ip=rw.r;nw[28]=258,Ip[258]=28;var iw=tw(Uh,0),gN=iw.b,p2=iw.r,Op=new pn(32768);for(var It=0;It<32768;++It){var Ss=(It&43690)>>1|(It&21845)<<1;Ss=(Ss&52428)>>2|(Ss&13107)<<2,Ss=(Ss&61680)>>4|(Ss&3855)<<4,Op[It]=((Ss&65280)>>8|(Ss&255)<<8)>>1}var Ni=function(t,e,r){for(var n=t.length,i=0,s=new pn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new pn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new pn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],h=e-t[i],f=a[t[i]-1]++<<h,w=f|(1<<h)-1;f<=w;++f)o[Op[f]>>l]=c}else for(o=new pn(n),i=0;i<n;++i)t[i]&&(o[i]=Op[a[t[i]-1]++]>>15-t[i]);return o},Ws=new Rr(288);for(var It=0;It<144;++It)Ws[It]=8;for(var It=144;It<256;++It)Ws[It]=9;for(var It=256;It<280;++It)Ws[It]=7;for(var It=280;It<288;++It)Ws[It]=8;var Bu=new Rr(32);for(var It=0;It<32;++It)Bu[It]=5;var mN=Ni(Ws,9,0),yN=Ni(Ws,9,1),vN=Ni(Bu,5,0),wN=Ni(Bu,5,1),p0=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Vn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},g0=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Zg=function(t){return(t+7)/8|0},sw=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Rr(t.subarray(e,r))},bN=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Yn=function(t,e,r){var n=new Error(e||bN[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Yn),!r)throw n;return n},xN=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Rr(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new Rr(i*3));var c=function(ye){var Pe=r.length;if(ye>Pe){var Ce=new Rr(Math.max(Pe*2,ye));Ce.set(r),r=Ce}},h=e.f||0,f=e.p||0,w=e.b||0,p=e.l,_=e.d,N=e.m,A=e.n,v=i*8;do{if(!p){h=Vn(t,f,1);var b=Vn(t,f+1,3);if(f+=3,b)if(b==1)p=yN,_=wN,N=9,A=5;else if(b==2){var Y=Vn(t,f,31)+257,R=Vn(t,f+10,15)+4,k=Y+Vn(t,f+5,31)+1;f+=14;for(var O=new Rr(k),U=new Rr(19),E=0;E<R;++E)U[Fp[E]]=Vn(t,f+E*3,7);f+=R*3;for(var L=p0(U),W=(1<<L)-1,K=Ni(U,L,1),E=0;E<k;){var pe=K[Vn(t,f,W)];f+=pe&15;var S=pe>>4;if(S<16)O[E++]=S;else{var de=0,re=0;for(S==16?(re=3+Vn(t,f,3),f+=2,de=O[E-1]):S==17?(re=3+Vn(t,f,7),f+=3):S==18&&(re=11+Vn(t,f,127),f+=7);re--;)O[E++]=de}}var q=O.subarray(0,Y),Q=O.subarray(Y);N=p0(q),A=p0(Q),p=Ni(q,N,1),_=Ni(Q,A,1)}else Yn(1);else{var S=Zg(f)+4,T=t[S-4]|t[S-3]<<8,D=S+T;if(D>i){l&&Yn(0);break}o&&c(w+T),r.set(t.subarray(S,D),w),e.b=w+=T,e.p=f=D*8,e.f=h;continue}if(f>v){l&&Yn(0);break}}o&&c(w+131072);for(var ie=(1<<N)-1,me=(1<<A)-1,j=f;;j=f){var de=p[g0(t,f)&ie],$=de>>4;if(f+=de&15,f>v){l&&Yn(0);break}if(de||Yn(2),$<256)r[w++]=$;else if($==256){j=f,p=null;break}else{var V=$-254;if($>264){var E=$-257,J=Dh[E];V=Vn(t,f,(1<<J)-1)+nw[E],f+=J}var Z=_[g0(t,f)&me],ue=Z>>4;Z||Yn(3),f+=Z&15;var Q=gN[ue];if(ue>3){var J=Uh[ue];Q+=g0(t,f)&(1<<J)-1,f+=J}if(f>v){l&&Yn(0);break}o&&c(w+131072);var oe=w+V;if(w<Q){var le=s-Q,Ne=Math.min(Q,oe);for(le+w<0&&Yn(3);w<Ne;++w)r[w]=n[le+w]}for(;w<oe;++w)r[w]=r[w-Q]}}e.l=p,e.p=j,e.b=w,e.f=h,p&&(h=1,e.m=N,e.d=_,e.n=A)}while(!h);return w!=r.length&&a?sw(r,0,w):r.subarray(0,w)},Di=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Yl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},m0=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:ow,l:0};if(i==1){var a=new Rr(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(D,Y){return D.f-Y.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,h=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=h&&r[c].f<r[f].f?c++:f++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var w=s[0].s,n=1;n<i;++n)s[n].s>w&&(w=s[n].s);var p=new pn(w+1),_=Rp(r[h-1],p,0);if(_>e){var n=0,N=0,A=_-e,v=1<<A;for(s.sort(function(Y,R){return p[R.s]-p[Y.s]||Y.f-R.f});n<i;++n){var b=s[n].s;if(p[b]>e)N+=v-(1<<_-p[b]),p[b]=e;else break}for(N>>=A;N>0;){var S=s[n].s;p[S]<e?N-=1<<e-p[S]++-1:++n}for(;n>=0&&N;--n){var T=s[n].s;p[T]==e&&(--p[T],++N)}_=e}return{t:new Rr(p),l:_}},Rp=function(t,e,r){return t.s==-1?Math.max(Rp(t.l,e,r+1),Rp(t.r,e,r+1)):e[t.s]=r},g2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new pn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Ql=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},aw=function(t,e,r){var n=r.length,i=Zg(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},m2=function(t,e,r,n,i,s,a,o,l,c,h){Di(e,h++,r),++i[256];for(var f=m0(i,15),w=f.t,p=f.l,_=m0(s,15),N=_.t,A=_.l,v=g2(w),b=v.c,S=v.n,T=g2(N),D=T.c,Y=T.n,R=new pn(19),k=0;k<b.length;++k)++R[b[k]&31];for(var k=0;k<D.length;++k)++R[D[k]&31];for(var O=m0(R,7),U=O.t,E=O.l,L=19;L>4&&!U[Fp[L-1]];--L);var W=c+5<<3,K=Ql(i,Ws)+Ql(s,Bu)+a,pe=Ql(i,w)+Ql(s,N)+a+14+3*L+Ql(R,U)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&W<=K&&W<=pe)return aw(e,h,t.subarray(l,l+c));var de,re,q,Q;if(Di(e,h,1+(pe<K)),h+=2,pe<K){de=Ni(w,p,0),re=w,q=Ni(N,A,0),Q=N;var ie=Ni(U,E,0);Di(e,h,S-257),Di(e,h+5,Y-1),Di(e,h+10,L-4),h+=14;for(var k=0;k<L;++k)Di(e,h+3*k,U[Fp[k]]);h+=3*L;for(var me=[b,D],j=0;j<2;++j)for(var $=me[j],k=0;k<$.length;++k){var V=$[k]&31;Di(e,h,ie[V]),h+=U[V],V>15&&(Di(e,h,$[k]>>5&127),h+=$[k]>>12)}}else de=mN,re=Ws,q=vN,Q=Bu;for(var k=0;k<o;++k){var J=n[k];if(J>255){var V=J>>18&31;Yl(e,h,de[V+257]),h+=re[V+257],V>7&&(Di(e,h,J>>23&31),h+=Dh[V]);var Z=J&31;Yl(e,h,q[Z]),h+=Q[Z],Z>3&&(Yl(e,h,J>>5&8191),h+=Uh[Z])}else Yl(e,h,de[J]),h+=re[J]}return Yl(e,h,de[256]),h+re[256]},SN=new Xg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ow=new Rr(0),_N=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Rr(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var f=SN[e-1],w=f>>13,p=f&8191,_=(1<<r)-1,N=s.p||new pn(32768),A=s.h||new pn(_+1),v=Math.ceil(r/3),b=2*v,S=function(Re){return(t[Re]^t[Re+1]<<v^t[Re+2]<<b)&_},T=new Xg(25e3),D=new pn(288),Y=new pn(32),R=0,k=0,O=s.i||0,U=0,E=s.w||0,L=0;O+2<a;++O){var W=S(O),K=O&32767,pe=A[W];if(N[K]=pe,A[W]=K,E<=O){var de=a-O;if((R>7e3||U>24576)&&(de>423||!c)){h=m2(t,l,0,T,D,Y,k,U,L,O-L,h),U=R=k=0,L=O;for(var re=0;re<286;++re)D[re]=0;for(var re=0;re<30;++re)Y[re]=0}var q=2,Q=0,ie=p,me=K-pe&32767;if(de>2&&W==S(O-me))for(var j=Math.min(w,de)-1,$=Math.min(32767,O),V=Math.min(258,de);me<=$&&--ie&&K!=pe;){if(t[O+q]==t[O+q-me]){for(var J=0;J<V&&t[O+J]==t[O+J-me];++J);if(J>q){if(q=J,Q=me,J>j)break;for(var Z=Math.min(me,J-2),ue=0,re=0;re<Z;++re){var oe=O-me+re&32767,le=N[oe],Ne=oe-le&32767;Ne>ue&&(ue=Ne,pe=oe)}}}K=pe,pe=N[K],me+=K-pe&32767}if(Q){T[U++]=268435456|Ip[q]<<18|p2[Q];var ye=Ip[q]&31,Pe=p2[Q]&31;k+=Dh[ye]+Uh[Pe],++D[257+ye],++Y[Pe],E=O+q,++R}else T[U++]=t[O],++D[t[O]]}}for(O=Math.max(O,E);O<a;++O)T[U++]=t[O],++D[t[O]];h=m2(t,l,c,T,D,Y,k,U,L,O-L,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=A,s.p=N,s.i=O,s.w=E)}else{for(var O=s.w||0;O<a+c;O+=65535){var Ce=O+65535;Ce>=a&&(l[h/8|0]=c,Ce=a),h=aw(l,h+1,t.subarray(O,Ce))}s.i=a}return sw(o,0,n+Zg(h)+i)},lw=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},NN=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Rr(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return _N(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},uw=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},kN=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=lw();i.p(e.dictionary),uw(t,2,i.d())}},AN=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Yn(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Yn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Mp(t,e){e||(e={});var r=lw();r.p(t);var n=NN(t,e,e.dictionary?6:2,4);return kN(n,e),uw(n,n.length-4,r.d()),n}function jN(t,e){return xN(t.subarray(AN(t,e),-4),{i:2},e,e)}var PN=typeof TextDecoder<"u"&&new TextDecoder,CN=0;try{PN.decode(ow,{stream:!0}),CN=1}catch{}var Xe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function y0(){Xe.console&&typeof Xe.console.log=="function"&&Xe.console.log.apply(Xe.console,arguments)}var Pt={log:y0,warn:function(t){Xe.console&&(typeof Xe.console.warn=="function"?Xe.console.warn.apply(Xe.console,arguments):y0.call(null,arguments))},error:function(t){Xe.console&&(typeof Xe.console.error=="function"?Xe.console.error.apply(Xe.console,arguments):y0(t))}};function v0(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ga(n.response,e,r)},n.onerror=function(){Pt.error("could not download file")},n.send()}function y2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function cd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var vu,$p,ga=Xe.saveAs||((typeof window>"u"?"undefined":St(window))!=="object"||window!==Xe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Xe.URL||Xe.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?y2(i.href)?v0(t,e,r):cd(i,i.target="_blank"):cd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){cd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(y2(t))v0(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){cd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:St(s)!=="object"&&(Pt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return v0(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Xe.HTMLElement)||Xe.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":St(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=Xe.URL||Xe.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function w0(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Lr(r,n,i,s,e[0],7,-680876936),s=Lr(s,r,n,i,e[1],12,-389564586),i=Lr(i,s,r,n,e[2],17,606105819),n=Lr(n,i,s,r,e[3],22,-1044525330),r=Lr(r,n,i,s,e[4],7,-176418897),s=Lr(s,r,n,i,e[5],12,1200080426),i=Lr(i,s,r,n,e[6],17,-1473231341),n=Lr(n,i,s,r,e[7],22,-45705983),r=Lr(r,n,i,s,e[8],7,1770035416),s=Lr(s,r,n,i,e[9],12,-1958414417),i=Lr(i,s,r,n,e[10],17,-42063),n=Lr(n,i,s,r,e[11],22,-1990404162),r=Lr(r,n,i,s,e[12],7,1804603682),s=Lr(s,r,n,i,e[13],12,-40341101),i=Lr(i,s,r,n,e[14],17,-1502002290),r=Er(r,n=Lr(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Er(s,r,n,i,e[6],9,-1069501632),i=Er(i,s,r,n,e[11],14,643717713),n=Er(n,i,s,r,e[0],20,-373897302),r=Er(r,n,i,s,e[5],5,-701558691),s=Er(s,r,n,i,e[10],9,38016083),i=Er(i,s,r,n,e[15],14,-660478335),n=Er(n,i,s,r,e[4],20,-405537848),r=Er(r,n,i,s,e[9],5,568446438),s=Er(s,r,n,i,e[14],9,-1019803690),i=Er(i,s,r,n,e[3],14,-187363961),n=Er(n,i,s,r,e[8],20,1163531501),r=Er(r,n,i,s,e[13],5,-1444681467),s=Er(s,r,n,i,e[2],9,-51403784),i=Er(i,s,r,n,e[7],14,1735328473),r=Tr(r,n=Er(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Tr(s,r,n,i,e[8],11,-2022574463),i=Tr(i,s,r,n,e[11],16,1839030562),n=Tr(n,i,s,r,e[14],23,-35309556),r=Tr(r,n,i,s,e[1],4,-1530992060),s=Tr(s,r,n,i,e[4],11,1272893353),i=Tr(i,s,r,n,e[7],16,-155497632),n=Tr(n,i,s,r,e[10],23,-1094730640),r=Tr(r,n,i,s,e[13],4,681279174),s=Tr(s,r,n,i,e[0],11,-358537222),i=Tr(i,s,r,n,e[3],16,-722521979),n=Tr(n,i,s,r,e[6],23,76029189),r=Tr(r,n,i,s,e[9],4,-640364487),s=Tr(s,r,n,i,e[12],11,-421815835),i=Tr(i,s,r,n,e[15],16,530742520),r=Fr(r,n=Tr(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Fr(s,r,n,i,e[7],10,1126891415),i=Fr(i,s,r,n,e[14],15,-1416354905),n=Fr(n,i,s,r,e[5],21,-57434055),r=Fr(r,n,i,s,e[12],6,1700485571),s=Fr(s,r,n,i,e[3],10,-1894986606),i=Fr(i,s,r,n,e[10],15,-1051523),n=Fr(n,i,s,r,e[1],21,-2054922799),r=Fr(r,n,i,s,e[8],6,1873313359),s=Fr(s,r,n,i,e[15],10,-30611744),i=Fr(i,s,r,n,e[6],15,-1560198380),n=Fr(n,i,s,r,e[13],21,1309151649),r=Fr(r,n,i,s,e[4],6,-145523070),s=Fr(s,r,n,i,e[11],10,-1120210379),i=Fr(i,s,r,n,e[2],15,718787259),n=Fr(n,i,s,r,e[9],21,-343485551),t[0]=Ts(r,t[0]),t[1]=Ts(n,t[1]),t[2]=Ts(i,t[2]),t[3]=Ts(s,t[3])}function zh(t,e,r,n,i,s){return e=Ts(Ts(e,t),Ts(n,s)),Ts(e<<i|e>>>32-i,r)}function Lr(t,e,r,n,i,s,a){return zh(e&r|~e&n,t,e,i,s,a)}function Er(t,e,r,n,i,s,a){return zh(e&n|r&~n,t,e,i,s,a)}function Tr(t,e,r,n,i,s,a){return zh(e^r^n,t,e,i,s,a)}function Fr(t,e,r,n,i,s,a){return zh(r^(e|~n),t,e,i,s,a)}function dw(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)w0(n,LN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(w0(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,w0(n,i),n}function LN(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}vu=Xe.atob.bind(Xe),$p=Xe.btoa.bind(Xe);var v2="0123456789abcdef".split("");function EN(t){for(var e="",r=0;r<4;r++)e+=v2[t>>8*r+4&15]+v2[t>>8*r&15];return e}function TN(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Bp(t){return dw(t).map(TN).join("")}var FN=function(t){for(var e=0;e<t.length;e++)t[e]=EN(t[e]);return t.join("")}(dw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ts(t,e){if(FN){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dp(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var h=o[l];c=(c+h+a.charCodeAt(l))%256,o[l]=o[c],o[c]=h}r=t,n=o}else o=n;var f=e.length,w=0,p=0,_="";for(l=0;l<f;l++)p=(p+(h=o[w=(w+1)%256]))%256,o[w]=o[p],o[p]=h,a=o[(o[w]+o[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var w2={print:4,modify:8,copy:16,"annot-forms":32};function bo(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(w2.perm!==void 0)throw new Error("Invalid permission: "+o);i+=w2[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Bp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Dp(this.encryptionKey,this.padding)}function xo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function b2(t){if(St(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Xe.console&&Pt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ch(t){if(!(this instanceof ch))return new ch(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function hw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ya(t,e,r,n,i){if(!(this instanceof ya))return new ya(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,hw.call(this,n,i)}function Io(t,e,r,n,i){if(!(this instanceof Io))return new Io(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,hw.call(this,n,i)}function Qe(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",h=null;St(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,w={},p={internal:{},__private__:{}};p.__private__.PubSub=b2;var _="1.3",N=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(g){_=g};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return A};var v=p.__private__.getPageFormat=function(g){return A[g]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function T(){this.saveGraphicsState(),H(new Ye(Ie,0,0,-Ie,0,ls()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),c="n",S=b.ADVANCED}function D(){this.restoreGraphicsState(),c="S",S=b.COMPAT}var Y=p.__private__.combineFontStyleAndFontWeight=function(g,C){if(g=="bold"&&C=="normal"||g=="bold"&&C==400||g=="normal"&&C=="italic"||g=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(g=C==400||C==="normal"?g==="italic"?"italic":"normal":C!=700&&C!=="bold"||g!=="normal"?(C==700?"bold":C)+""+g:"bold"),g};p.advancedAPI=function(g){var C=S===b.COMPAT;return C&&T.call(this),typeof g!="function"||(g(this),C&&D.call(this)),this},p.compatAPI=function(g){var C=S===b.ADVANCED;return C&&D.call(this),typeof g!="function"||(g(this),C&&T.call(this)),this},p.isAdvancedAPI=function(){return S===b.ADVANCED};var R,k=function(g){if(S!==b.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(g,C){var G=e||C;if(isNaN(g)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(G).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return O(g,16)};var U=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return O(g,2)},E=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return O(g,3)},L=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?g*Ie:S===b.ADVANCED?g:void 0},W=function(g){return S===b.COMPAT?ls()-g:S===b.ADVANCED?g:void 0},K=function(g){return L(W(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,de="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return de},q=p.__private__.setFileId=function(g){return de=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ar=new bo(h.userPermissions,h.userPassword,h.ownerPassword,de)),de};p.setFileId=function(g){return q(g),this},p.getFileId=function(){return re()};var Q=p.__private__.convertDateToPDFDate=function(g){var C=g.getTimezoneOffset(),G=C<0?"+":"-",X=Math.floor(Math.abs(C/60)),ce=Math.abs(C%60),we=[G,V(X),"'",V(ce),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),we].join("")},ie=p.__private__.convertPDFDateToDate=function(g){var C=parseInt(g.substr(2,4),10),G=parseInt(g.substr(6,2),10)-1,X=parseInt(g.substr(8,2),10),ce=parseInt(g.substr(10,2),10),we=parseInt(g.substr(12,2),10),je=parseInt(g.substr(14,2),10);return new Date(C,G,X,ce,we,je,0)},me=p.__private__.setCreationDate=function(g){var C;if(g===void 0&&(g=new Date),g instanceof Date)C=Q(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=g}return pe=C},j=p.__private__.getCreationDate=function(g){var C=pe;return g==="jsDate"&&(C=ie(pe)),C};p.setCreationDate=function(g){return me(g),this},p.getCreationDate=function(g){return j(g)};var $,V=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},J=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},Z=0,ue=[],oe=[],le=0,Ne=[],ye=[],Pe=!1,Ce=oe,Re=function(){Z=0,le=0,oe=[],ue=[],Ne=[],Li=rr(),Mn=rr()};p.__private__.setCustomOutputDestination=function(g){Pe=!0,Ce=g};var ge=function(g){Pe||(Ce=g)};p.__private__.resetCustomOutputDestination=function(){Pe=!1,Ce=oe};var H=p.__private__.out=function(g){return g=g.toString(),le+=g.length+1,Ce.push(g),Ce},We=p.__private__.write=function(g){return H(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Ae=p.__private__.getArrayBuffer=function(g){for(var C=g.length,G=new ArrayBuffer(C),X=new Uint8Array(G);C--;)X[C]=g.charCodeAt(C);return G},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return be};var Ee=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Ee=S===b.ADVANCED?g/Ie:g,this};var Fe,Te=p.__private__.getFontSize=p.getFontSize=function(){return S===b.COMPAT?Ee:Ee*Ie},ze=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return ze=g,this},p.__private__.getR2L=p.getR2L=function(){return ze};var qe,Ge=p.__private__.setZoomMode=function(g){var C=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Fe=g;else if(isNaN(g)){if(C.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Fe=g}else Fe=parseInt(g,10)};p.__private__.getZoomMode=function(){return Fe};var He,et=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');qe=g};p.__private__.getPageMode=function(){return qe};var ut=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');He=g};p.__private__.getLayoutMode=function(){return He},p.__private__.setDisplayMode=p.setDisplayMode=function(g,C,G){return Ge(g),ut(C),et(G),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(Je).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[g]},p.__private__.getDocumentProperties=function(){return Je},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var C in Je)Je.hasOwnProperty(C)&&g[C]&&(Je[C]=g[C]);return this},p.__private__.setDocumentProperty=function(g,C){if(Object.keys(Je).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[g]=C};var lt,Ie,kt,ct,Wr,At={},Rt={},ai=[],vt={},Qs={},qt={},On={},Ci=null,Ht=0,rt=[],wt=new b2(p),Xs=t.hotfixes||[],br={},oi={},li=[],Ye=function g(C,G,X,ce,we,je){if(!(this instanceof g))return new g(C,G,X,ce,we,je);isNaN(C)&&(C=1),isNaN(G)&&(G=0),isNaN(X)&&(X=0),isNaN(ce)&&(ce=1),isNaN(we)&&(we=0),isNaN(je)&&(je=0),this._matrix=[C,G,X,ce,we,je]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(g)},Ye.prototype.multiply=function(g){var C=g.sx*this.sx+g.shy*this.shx,G=g.sx*this.shy+g.shy*this.sy,X=g.shx*this.sx+g.sy*this.shx,ce=g.shx*this.shy+g.sy*this.sy,we=g.tx*this.sx+g.ty*this.shx+this.tx,je=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ye(C,G,X,ce,we,je)},Ye.prototype.decompose=function(){var g=this.sx,C=this.shy,G=this.shx,X=this.sy,ce=this.tx,we=this.ty,je=Math.sqrt(g*g+C*C),$e=(g/=je)*G+(C/=je)*X;G-=g*$e,X-=C*$e;var Ve=Math.sqrt(G*G+X*X);return $e/=Ve,g*(X/=Ve)<C*(G/=Ve)&&(g=-g,C=-C,$e=-$e,je=-je),{scale:new Ye(je,0,0,Ve,0,0),translate:new Ye(1,0,0,1,ce,we),rotate:new Ye(g,C,-C,g,0,0),skew:new Ye(1,0,$e,1,0,0)}},Ye.prototype.toString=function(g){return this.join(" ")},Ye.prototype.inversed=function(){var g=this.sx,C=this.shy,G=this.shx,X=this.sy,ce=this.tx,we=this.ty,je=1/(g*X-C*G),$e=X*je,Ve=-C*je,st=-G*je,nt=g*je;return new Ye($e,Ve,st,nt,-$e*ce-st*we,-Ve*ce-nt*we)},Ye.prototype.applyToPoint=function(g){var C=g.x*this.sx+g.y*this.shx+this.tx,G=g.x*this.shy+g.y*this.sy+this.ty;return new Ga(C,G)},Ye.prototype.applyToRectangle=function(g){var C=this.applyToPoint(g),G=this.applyToPoint(new Ga(g.x+g.w,g.y+g.h));return new bl(C.x,C.y,G.x-C.x,G.y-C.y)},Ye.prototype.clone=function(){var g=this.sx,C=this.shy,G=this.shx,X=this.sy,ce=this.tx,we=this.ty;return new Ye(g,C,G,X,ce,we)},p.Matrix=Ye;var Rn=p.matrixMult=function(g,C){return C.multiply(g)},ui=new Ye(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ui;var Vr=function(g,C){if(!Qs[g]){var G=(C instanceof ya?"Sh":"P")+(Object.keys(vt).length+1).toString(10);C.id=G,Qs[g]=G,vt[G]=C,wt.publish("addPattern",C)}};p.ShadingPattern=ya,p.TilingPattern=Io,p.addShadingPattern=function(g,C){return k("addShadingPattern()"),Vr(g,C),this},p.beginTilingPattern=function(g){k("beginTilingPattern()"),gc(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,C){k("endTilingPattern()"),C.stream=ye[$].join(`
`),Vr(g,C),wt.publish("endTilingPattern",C),li.pop().restore()};var lr=p.__private__.newObject=function(){var g=rr();return on(g,!0),g},rr=p.__private__.newObjectDeferred=function(){return Z++,ue[Z]=function(){return le},Z},on=function(g,C){return C=typeof C=="boolean"&&C,ue[g]=le,C&&H(g+" 0 obj"),g},Ia=p.__private__.newAdditionalObject=function(){var g={objId:rr(),content:""};return Ne.push(g),g},Li=rr(),Mn=rr(),$n=p.__private__.decodeColorString=function(g){var C=g.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length===5&&(C[4]==="k"||C[4]==="K")&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var G=parseFloat(C[0]);C=[G,G,G,"r"]}for(var X="#",ce=0;ce<3;ce++)X+=("0"+Math.floor(255*parseFloat(C[ce])).toString(16)).slice(-2);return X},Bn=p.__private__.encodeColorString=function(g){var C;typeof g=="string"&&(g={ch1:g});var G=g.ch1,X=g.ch2,ce=g.ch3,we=g.ch4,je=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var $e=new cw(G);if($e.ok)G=$e.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var Ve=parseInt(G.substr(1),16);G=Ve>>16&255,X=Ve>>8&255,ce=255&Ve}if(X===void 0||we===void 0&&G===X&&X===ce)if(typeof G=="string")C=G+" "+je[0];else switch(g.precision){case 2:C=U(G/255)+" "+je[0];break;case 3:default:C=E(G/255)+" "+je[0]}else if(we===void 0||St(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return C=["1.","1.","1.",je[1]].join(" ");if(typeof G=="string")C=[G,X,ce,je[1]].join(" ");else switch(g.precision){case 2:C=[U(G/255),U(X/255),U(ce/255),je[1]].join(" ");break;default:case 3:C=[E(G/255),E(X/255),E(ce/255),je[1]].join(" ")}}else if(typeof G=="string")C=[G,X,ce,we,je[2]].join(" ");else switch(g.precision){case 2:C=[U(G),U(X),U(ce),U(we),je[2]].join(" ");break;case 3:default:C=[E(G),E(X),E(ce),E(we),je[2]].join(" ")}return C},ci=p.__private__.getFilters=function(){return a},bn=p.__private__.putStream=function(g){var C=(g=g||{}).data||"",G=g.filters||ci(),X=g.alreadyAppliedFilters||[],ce=g.addLength1||!1,we=C.length,je=g.objectId,$e=function(jr){return jr};if(h!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&($e=Ar.encryptor(je,0));var Ve={};G===!0&&(G=["FlateEncode"]);var st=g.additionalKeyValues||[],nt=(Ve=Qe.API.processDataByFilters!==void 0?Qe.API.processDataByFilters(C,G):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if(Ve.data.length!==0&&(st.push({key:"Length",value:Ve.data.length}),ce===!0&&st.push({key:"Length1",value:we})),nt.length!=0)if(nt.split("/").length-1==1)st.push({key:"Filter",value:nt});else{st.push({key:"Filter",value:"["+nt+"]"});for(var pt=0;pt<st.length;pt+=1)if(st[pt].key==="DecodeParms"){for(var $t=[],Wt=0;Wt<Ve.reverseChain.split("/").length-1;Wt+=1)$t.push("null");$t.push(st[pt].value),st[pt].value="["+$t.join(" ")+"]"}}H("<<");for(var nr=0;nr<st.length;nr++)H("/"+st[nr].key+" "+st[nr].value);H(">>"),Ve.data.length!==0&&(H("stream"),H($e(Ve.data)),H("endstream"))},di=p.__private__.putPage=function(g){var C=g.number,G=g.data,X=g.objId,ce=g.contentsObjId;on(X,!0),H("<</Type /Page"),H("/Parent "+g.rootDictionaryObjId+" 0 R"),H("/Resources "+g.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(R(g.mediaBox.bottomLeftX))+" "+parseFloat(R(g.mediaBox.bottomLeftY))+" "+R(g.mediaBox.topRightX)+" "+R(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&H("/CropBox ["+R(g.cropBox.bottomLeftX)+" "+R(g.cropBox.bottomLeftY)+" "+R(g.cropBox.topRightX)+" "+R(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&H("/BleedBox ["+R(g.bleedBox.bottomLeftX)+" "+R(g.bleedBox.bottomLeftY)+" "+R(g.bleedBox.topRightX)+" "+R(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&H("/TrimBox ["+R(g.trimBox.bottomLeftX)+" "+R(g.trimBox.bottomLeftY)+" "+R(g.trimBox.topRightX)+" "+R(g.trimBox.topRightY)+"]"),g.artBox!==null&&H("/ArtBox ["+R(g.artBox.bottomLeftX)+" "+R(g.artBox.bottomLeftY)+" "+R(g.artBox.topRightX)+" "+R(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&H("/UserUnit "+g.userUnit),wt.publish("putPage",{objId:X,pageContext:rt[C],pageNumber:C,page:G}),H("/Contents "+ce+" 0 R"),H(">>"),H("endobj");var we=G.join(`
`);return S===b.ADVANCED&&(we+=`
Q`),on(ce,!0),bn({data:we,filters:ci(),objectId:ce}),H("endobj"),X},Zs=p.__private__.putPages=function(){var g,C,G=[];for(g=1;g<=Ht;g++)rt[g].objId=rr(),rt[g].contentsObjId=rr();for(g=1;g<=Ht;g++)G.push(di({number:g,data:ye[g],objId:rt[g].objId,contentsObjId:rt[g].contentsObjId,mediaBox:rt[g].mediaBox,cropBox:rt[g].cropBox,bleedBox:rt[g].bleedBox,trimBox:rt[g].trimBox,artBox:rt[g].artBox,userUnit:rt[g].userUnit,rootDictionaryObjId:Li,resourceDictionaryObjId:Mn}));on(Li,!0),H("<</Type /Pages");var X="/Kids [";for(C=0;C<Ht;C++)X+=G[C]+" 0 R ";H(X+"]"),H("/Count "+Ht),H(">>"),H("endobj"),wt.publish("postPutPages")},Oa=function(g){wt.publish("putFont",{font:g,out:H,newObject:lr,putStream:bn}),g.isAlreadyPutted!==!0&&(g.objectNumber=lr(),H("<<"),H("/Type /Font"),H("/BaseFont /"+xo(g.postScriptName)),H("/Subtype /Type1"),typeof g.encoding=="string"&&H("/Encoding /"+g.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Ra=function(){for(var g in At)At.hasOwnProperty(g)&&(f===!1||f===!0&&w.hasOwnProperty(g))&&Oa(At[g])},Ma=function(g){g.objectNumber=lr();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[R(g.x),R(g.y),R(g.x+g.width),R(g.y+g.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var G=g.pages[1].join(`
`);bn({data:G,additionalKeyValues:C,objectId:g.objectNumber}),H("endobj")},$a=function(){for(var g in br)br.hasOwnProperty(g)&&Ma(br[g])},Qu=function(g,C){var G,X=[],ce=1/(C-1);for(G=0;G<1;G+=ce)X.push(G);if(X.push(1),g[0].offset!=0){var we={offset:0,color:g[0].color};g.unshift(we)}if(g[g.length-1].offset!=1){var je={offset:1,color:g[g.length-1].color};g.push(je)}for(var $e="",Ve=0,st=0;st<X.length;st++){for(G=X[st];G>g[Ve+1].offset;)Ve++;var nt=g[Ve].offset,pt=(G-nt)/(g[Ve+1].offset-nt),$t=g[Ve].color,Wt=g[Ve+1].color;$e+=J(Math.round((1-pt)*$t[0]+pt*Wt[0]).toString(16))+J(Math.round((1-pt)*$t[1]+pt*Wt[1]).toString(16))+J(Math.round((1-pt)*$t[2]+pt*Wt[2]).toString(16))}return $e.trim()},Hh=function(g,C){C||(C=21);var G=lr(),X=Qu(g.colors,C),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+C+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bn({data:X,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),H("endobj"),g.objectNumber=lr(),H("<< /ShadingType "+g.type),H("/ColorSpace /DeviceRGB");var we="/Coords ["+R(parseFloat(g.coords[0]))+" "+R(parseFloat(g.coords[1]))+" ";g.type===2?we+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3])):we+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3]))+" "+R(parseFloat(g.coords[4]))+" "+R(parseFloat(g.coords[5])),H(we+="]"),g.matrix&&H("/Matrix ["+g.matrix.toString()+"]"),H("/Function "+G+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Wh=function(g,C){var G=rr(),X=lr();C.push({resourcesOid:G,objectOid:X}),g.objectNumber=X;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+g.boundingBox.map(R).join(" ")+"]"}),ce.push({key:"XStep",value:R(g.xStep)}),ce.push({key:"YStep",value:R(g.yStep)}),ce.push({key:"Resources",value:G+" 0 R"}),g.matrix&&ce.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),bn({data:g.stream,additionalKeyValues:ce,objectId:g.objectNumber}),H("endobj")},Ba=function(g){var C;for(C in vt)vt.hasOwnProperty(C)&&(vt[C]instanceof ya?Hh(vt[C]):vt[C]instanceof Io&&Wh(vt[C],g))},Xu=function(g){for(var C in g.objectNumber=lr(),H("<<"),g)switch(C){case"opacity":H("/ca "+U(g[C]));break;case"stroke-opacity":H("/CA "+U(g[C]))}H(">>"),H("endobj")},Vh=function(){var g;for(g in qt)qt.hasOwnProperty(g)&&Xu(qt[g])},cl=function(){for(var g in H("/XObject <<"),br)br.hasOwnProperty(g)&&br[g].objectNumber>=0&&H("/"+g+" "+br[g].objectNumber+" 0 R");wt.publish("putXobjectDict"),H(">>")},Gh=function(){Ar.oid=lr(),H("<<"),H("/Filter /Standard"),H("/V "+Ar.v),H("/R "+Ar.r),H("/U <"+Ar.toHexString(Ar.U)+">"),H("/O <"+Ar.toHexString(Ar.O)+">"),H("/P "+Ar.P),H(">>"),H("endobj")},Zu=function(){for(var g in H("/Font <<"),At)At.hasOwnProperty(g)&&(f===!1||f===!0&&w.hasOwnProperty(g))&&H("/"+g+" "+At[g].objectNumber+" 0 R");H(">>")},Kh=function(){if(Object.keys(vt).length>0){for(var g in H("/Shading <<"),vt)vt.hasOwnProperty(g)&&vt[g]instanceof ya&&vt[g].objectNumber>=0&&H("/"+g+" "+vt[g].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),H(">>")}},Da=function(g){if(Object.keys(vt).length>0){for(var C in H("/Pattern <<"),vt)vt.hasOwnProperty(C)&&vt[C]instanceof p.TilingPattern&&vt[C].objectNumber>=0&&vt[C].objectNumber<g&&H("/"+C+" "+vt[C].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),H(">>")}},Jh=function(){if(Object.keys(qt).length>0){var g;for(g in H("/ExtGState <<"),qt)qt.hasOwnProperty(g)&&qt[g].objectNumber>=0&&H("/"+g+" "+qt[g].objectNumber+" 0 R");wt.publish("putGStateDict"),H(">>")}},Jt=function(g){on(g.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zu(),Kh(),Da(g.objectOid),Jh(),cl(),H(">>"),H("endobj")},ec=function(){var g=[];Ra(),Vh(),$a(),Ba(g),wt.publish("putResources"),g.forEach(Jt),Jt({resourcesOid:Mn,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources")},tc=function(){wt.publish("putAdditionalObjects");for(var g=0;g<Ne.length;g++){var C=Ne[g];on(C.objId,!0),H(C.content),H("endobj")}wt.publish("postPutAdditionalObjects")},rc=function(g){Rt[g.fontName]=Rt[g.fontName]||{},Rt[g.fontName][g.fontStyle]=g.id},dl=function(g,C,G,X,ce){var we={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:g,fontName:C,fontStyle:G,encoding:X,isStandardFont:ce||!1,metadata:{}};return wt.publish("addFont",{font:we,instance:this}),At[we.id]=we,rc(we),we.id},Yh=function(g){for(var C=0,G=be.length;C<G;C++){var X=dl.call(this,g[C][0],g[C][1],g[C][2],be[C][3],!0);f===!1&&(w[X]=!0);var ce=g[C][0].split("-");rc({id:X,fontName:ce[0],fontStyle:ce[1]||""})}wt.publish("addFonts",{fonts:At,dictionary:Rt})},Dn=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(X){var C=X.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var G="Error in function "+C.split(`
`)[0].split("<")[0]+": "+X.message;if(!Xe.console)throw new Error(G);Xe.console.error(G,X),Xe.alert&&alert(G)}},g.foo.bar=g,g.foo},Ua=function(g,C){var G,X,ce,we,je,$e,Ve,st,nt;if(ce=(C=C||{}).sourceEncoding||"Unicode",je=C.outputEncoding,(C.autoencode||je)&&At[lt].metadata&&At[lt].metadata[ce]&&At[lt].metadata[ce].encoding&&(we=At[lt].metadata[ce].encoding,!je&&At[lt].encoding&&(je=At[lt].encoding),!je&&we.codePages&&(je=we.codePages[0]),typeof je=="string"&&(je=we[je]),je)){for(Ve=!1,$e=[],G=0,X=g.length;G<X;G++)(st=je[g.charCodeAt(G)])?$e.push(String.fromCharCode(st)):$e.push(g[G]),$e[G].charCodeAt(0)>>8&&(Ve=!0);g=$e.join("")}for(G=g.length;Ve===void 0&&G!==0;)g.charCodeAt(G-1)>>8&&(Ve=!0),G--;if(!Ve)return g;for($e=C.noBOM?[]:[254,255],G=0,X=g.length;G<X;G++){if((nt=(st=g.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(nt),$e.push(st-(nt<<8))}return String.fromCharCode.apply(void 0,$e)},Gr=p.__private__.pdfEscape=p.pdfEscape=function(g,C){return Ua(g,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=p.__private__.beginPage=function(g){ye[++Ht]=[],rt[Ht]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},ic(Ht),ge(ye[$])},nc=function(g,C){var G,X,ce;switch(r=C||r,typeof g=="string"&&(G=v(g.toLowerCase()),Array.isArray(G)&&(X=G[0],ce=G[1])),Array.isArray(g)&&(X=g[0]*Ie,ce=g[1]*Ie),isNaN(X)&&(X=i[0],ce=i[1]),(X>14400||ce>14400)&&(Pt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),ce=Math.min(14400,ce)),i=[X,ce],r.substr(0,1)){case"l":ce>X&&(i=[ce,X]);break;case"p":X>ce&&(i=[ce,X])}hl(i),cc(ml),H(Un),vl!==0&&H(vl+" J"),wl!==0&&H(wl+" j"),wt.publish("addPage",{pageNumber:Ht})},Qh=function(g){g>0&&g<=Ht&&(ye.splice(g,1),rt.splice(g,1),Ht--,$>Ht&&($=Ht),this.setPage($))},ic=function(g){g>0&&g<=Ht&&($=g)},Xh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},sc=function(g,C,G){var X,ce=void 0;return G=G||{},g=g!==void 0?g:At[lt].fontName,C=C!==void 0?C:At[lt].fontStyle,X=g.toLowerCase(),Rt[X]!==void 0&&Rt[X][C]!==void 0?ce=Rt[X][C]:Rt[g]!==void 0&&Rt[g][C]!==void 0?ce=Rt[g][C]:G.disableWarning===!1&&Pt.warn("Unable to look up font label for font '"+g+"', '"+C+"'. Refer to getFontList() for available fonts."),ce||G.noFallback||(ce=Rt.times[C])==null&&(ce=Rt.times.normal),ce},Zh=p.__private__.putInfo=function(){var g=lr(),C=function(X){return X};for(var G in h!==null&&(C=Ar.encryptor(g,0)),H("<<"),H("/Producer ("+Gr(C("jsPDF "+Qe.version))+")"),Je)Je.hasOwnProperty(G)&&Je[G]&&H("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+Gr(C(Je[G]))+")");H("/CreationDate ("+Gr(C(pe))+")"),H(">>"),H("endobj")},fl=p.__private__.putCatalog=function(g){var C=(g=g||{}).rootDictionaryObjId||Li;switch(lr(),H("<<"),H("/Type /Catalog"),H("/Pages "+C+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Fe;G.substr(G.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&H("/OpenAction [3 0 R /XYZ null null "+U(Fe)+"]")}switch(He||(He="continuous"),He){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}qe&&H("/PageMode /"+qe),wt.publish("putCatalog"),H(">>"),H("endobj")},ef=p.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(Z+1)),H("/Root "+Z+" 0 R"),H("/Info "+(Z-1)+" 0 R"),h!==null&&H("/Encrypt "+Ar.oid+" 0 R"),H("/ID [ <"+de+"> <"+de+"> ]"),H(">>")},tf=p.__private__.putHeader=function(){H("%PDF-"+_),H("%ºß¬à")},rf=p.__private__.putXRef=function(){var g="0000000000";H("xref"),H("0 "+(Z+1)),H("0000000000 65535 f ");for(var C=1;C<=Z;C++)typeof ue[C]=="function"?H((g+ue[C]()).slice(-10)+" 00000 n "):ue[C]!==void 0?H((g+ue[C]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Ei=p.__private__.buildDocument=function(){Re(),ge(oe),wt.publish("buildDocument"),tf(),Zs(),tc(),ec(),h!==null&&Gh(),Zh(),fl();var g=le;return rf(),ef(),H("startxref"),H(""+g),H("%%EOF"),ge(ye[$]),oe.join(`
`)},za=p.__private__.getBlob=function(g){return new Blob([Ae(g)],{type:"application/pdf"})},qa=p.output=p.__private__.output=Dn(function(g,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",g){case void 0:return Ei();case"save":p.save(C.filename);break;case"arraybuffer":return Ae(Ei());case"blob":return za(Ei());case"bloburi":case"bloburl":if(Xe.URL!==void 0&&typeof Xe.URL.createObjectURL=="function")return Xe.URL&&Xe.URL.createObjectURL(za(Ei()))||void 0;Pt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",X=Ei();try{G=$p(X)}catch{G=$p(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+C.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ce=C.pdfObjectUrl,we="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",$e=Xe.open();return $e!==null&&$e.document.write(je),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',st=Xe.open();if(st!==null){st.document.write(Ve);var nt=this;st.document.documentElement.querySelector("#pdfViewer").onload=function(){st.document.title=C.filename,st.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return st}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',$t=Xe.open();if($t!==null&&($t.document.write(pt),$t.document.title=C.filename),$t||typeof safari>"u")return $t;break;case"datauri":case"dataurl":return Xe.document.location.href=this.output("datauristring",C);default:return null}}),ac=function(g){return Array.isArray(Xs)===!0&&Xs.indexOf(g)>-1};switch(n){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=ac("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ie=n}var Ar=null;me(),q();var nf=function(g){return h!==null?Ar.encryptor(g,0):function(C){return C}},oc=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[g].objId,pageNumber:g,pageContext:rt[g]}},tt=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in rt)if(rt[C].objId===g)break;return oc(C)},sf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:rt[$].objId,pageNumber:$,pageContext:rt[$]}};p.addPage=function(){return nc.apply(this,arguments),this},p.setPage=function(){return ic.apply(this,arguments),ge.call(this,ye[$]),this},p.insertPage=function(g){return this.addPage(),this.movePage($,g),this},p.movePage=function(g,C){var G,X;if(g>C){G=ye[g],X=rt[g];for(var ce=g;ce>C;ce--)ye[ce]=ye[ce-1],rt[ce]=rt[ce-1];ye[C]=G,rt[C]=X,this.setPage(C)}else if(g<C){G=ye[g],X=rt[g];for(var we=g;we<C;we++)ye[we]=ye[we+1],rt[we]=rt[we+1];ye[C]=G,rt[C]=X,this.setPage(C)}return this},p.deletePage=function(){return Qh.apply(this,arguments),this},p.__private__.text=p.text=function(g,C,G,X,ce){var we,je,$e,Ve,st,nt,pt,$t,Wt,nr=(X=X||{}).scope||this;if(typeof g=="number"&&typeof C=="number"&&(typeof G=="string"||Array.isArray(G))){var jr=G;G=C,C=g,g=jr}if(arguments[3]instanceof Ye?(k("The transform parameter of text() with a Matrix value"),Wt=ce):($e=arguments[4],Ve=arguments[5],St(pt=arguments[3])==="object"&&pt!==null||(typeof $e=="string"&&(Ve=$e,$e=null),typeof pt=="string"&&(Ve=pt,pt=null),typeof pt=="number"&&($e=pt,pt=null),X={flags:pt,angle:$e,align:Ve})),isNaN(C)||isNaN(G)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return nr;var fr="",zn=!1,ln=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:ta,pi=nr.internal.scaleFactor;function mc(Ct){return Ct=Ct.split("	").join(Array(X.TabLen||9).join(" ")),Gr(Ct,pt)}function Nl(Ct){for(var Lt,Qt=Ct.concat(),ur=[],Ri=Qt.length;Ri--;)typeof(Lt=Qt.shift())=="string"?ur.push(Lt):Array.isArray(Ct)&&(Lt.length===1||Lt[1]===void 0&&Lt[2]===void 0)?ur.push(Lt[0]):ur.push([Lt[0],Lt[1],Lt[2]]);return ur}function kl(Ct,Lt){var Qt;if(typeof Ct=="string")Qt=Lt(Ct)[0];else if(Array.isArray(Ct)){for(var ur,Ri,Fl=Ct.concat(),io=[],xc=Fl.length;xc--;)typeof(ur=Fl.shift())=="string"?io.push(Lt(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Ri=Lt(ur[0],ur[1],ur[2]),io.push([Ri[0],Ri[1],Ri[2]]));Qt=io}return Qt}var Ja=!1,Al=!0;if(typeof g=="string")Ja=!0;else if(Array.isArray(g)){var jl=g.concat();je=[];for(var Ya,xr=jl.length;xr--;)(typeof(Ya=jl.shift())!="string"||Array.isArray(Ya)&&typeof Ya[0]!="string")&&(Al=!1);Ja=Al}if(Ja===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Qa=Ee/nr.internal.scaleFactor,Xa=Qa*(ln-1);switch(X.baseline){case"bottom":G-=Xa;break;case"top":G+=Qa-Xa;break;case"hanging":G+=Qa-2*Xa;break;case"middle":G+=Qa/2-Xa}if((nt=X.maxWidth||0)>0&&(typeof g=="string"?g=nr.splitTextToSize(g,nt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Ct,Lt){return Ct.concat(nr.splitTextToSize(Lt,nt))},[]))),we={text:g,x:C,y:G,options:X,mutex:{pdfEscape:Gr,activeFontKey:lt,fonts:At,activeFontSize:Ee}},wt.publish("preProcessText",we),g=we.text,$e=(X=we.options).angle,!(Wt instanceof Ye)&&$e&&typeof $e=="number"){$e*=Math.PI/180,X.rotationDirection===0&&($e=-$e),S===b.ADVANCED&&($e=-$e);var Za=Math.cos($e),Pl=Math.sin($e);Wt=new Ye(Za,Pl,-Pl,Za,0,0)}else $e&&$e instanceof Ye&&(Wt=$e);S!==b.ADVANCED||Wt||(Wt=ui),(st=X.charSpace||Va)!==void 0&&(fr+=R(L(st))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($t=X.horizontalScale)!==void 0&&(fr+=R(100*$t)+` Tz
`),X.lang;var Kr=-1,gf=X.renderingMode!==void 0?X.renderingMode:X.stroke,Cl=nr.internal.getCurrentPageInfo().pageContext;switch(gf){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var yc=Cl.usedRenderingMode!==void 0?Cl.usedRenderingMode:-1;Kr!==-1?fr+=Kr+` Tr
`:yc!==-1&&(fr+=`0 Tr
`),Kr!==-1&&(Cl.usedRenderingMode=Kr),Ve=X.align||"left";var xn,eo=Ee*ln,vc=nr.internal.pageSize.getWidth(),wc=At[lt];st=X.charSpace||Va,nt=X.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},X.flags);var us=[],ia=function(Ct){return nr.getStringUnitWidth(Ct,{font:wc,charSpace:st,fontSize:Ee,doKerning:!1})*Ee/pi};if(Object.prototype.toString.call(g)==="[object Array]"){var Jr;je=Nl(g),Ve!=="left"&&(xn=je.map(ia));var $r,cs=0;if(Ve==="right"){C-=xn[0],g=[],xr=je.length;for(var Fi=0;Fi<xr;Fi++)Fi===0?($r=fi(C),Jr=Ti(G)):($r=L(cs-xn[Fi]),Jr=-eo),g.push([je[Fi],$r,Jr]),cs=xn[Fi]}else if(Ve==="center"){C-=xn[0]/2,g=[],xr=je.length;for(var Ii=0;Ii<xr;Ii++)Ii===0?($r=fi(C),Jr=Ti(G)):($r=L((cs-xn[Ii])/2),Jr=-eo),g.push([je[Ii],$r,Jr]),cs=xn[Ii]}else if(Ve==="left"){g=[],xr=je.length;for(var to=0;to<xr;to++)g.push(je[to])}else if(Ve==="justify"&&wc.encoding==="Identity-H"){g=[],xr=je.length,nt=nt!==0?nt:vc;for(var Oi=0,Yt=0;Yt<xr;Yt++)if(Jr=Yt===0?Ti(G):-eo,$r=Yt===0?fi(C):Oi,Yt<xr-1){var Ll=L((nt-xn[Yt])/(je[Yt].split(" ").length-1)),Br=je[Yt].split(" ");g.push([Br[0]+" ",$r,Jr]),Oi=0;for(var Sn=1;Sn<Br.length;Sn++){var ro=(ia(Br[Sn-1]+" "+Br[Sn])-ia(Br[Sn]))*pi+Ll;Sn==Br.length-1?g.push([Br[Sn],ro,0]):g.push([Br[Sn]+" ",ro,0]),Oi-=ro}}else g.push([je[Yt],$r,Jr]);g.push(["",Oi,0])}else{if(Ve!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],xr=je.length,nt=nt!==0?nt:vc,Yt=0;Yt<xr;Yt++)Jr=Yt===0?Ti(G):-eo,$r=Yt===0?fi(C):0,Yt<xr-1?us.push(R(L((nt-xn[Yt])/(je[Yt].split(" ").length-1)))):us.push(0),g.push([je[Yt],$r,Jr])}}var bc=typeof X.R2L=="boolean"?X.R2L:ze;bc===!0&&(g=kl(g,function(Ct,Lt,Qt){return[Ct.split("").reverse().join(""),Lt,Qt]})),we={text:g,x:C,y:G,options:X,mutex:{pdfEscape:Gr,activeFontKey:lt,fonts:At,activeFontSize:Ee}},wt.publish("postProcessText",we),g=we.text,zn=we.mutex.isHex||!1;var El=At[lt].encoding;El!=="WinAnsiEncoding"&&El!=="StandardEncoding"||(g=kl(g,function(Ct,Lt,Qt){return[mc(Ct),Lt,Qt]})),je=Nl(g),g=[];for(var sa,aa,ds,oa=0,no=1,la=Array.isArray(je[0])?no:oa,hs="",Tl=function(Ct,Lt,Qt){var ur="";return Qt instanceof Ye?(Qt=typeof X.angle=="number"?Rn(Qt,new Ye(1,0,0,1,Ct,Lt)):Rn(new Ye(1,0,0,1,Ct,Lt),Qt),S===b.ADVANCED&&(Qt=Rn(new Ye(1,0,0,-1,0,0),Qt)),ur=Qt.join(" ")+` Tm
`):ur=R(Ct)+" "+R(Lt)+` Td
`,ur},_n=0;_n<je.length;_n++){switch(hs="",la){case no:ds=(zn?"<":"(")+je[_n][0]+(zn?">":")"),sa=parseFloat(je[_n][1]),aa=parseFloat(je[_n][2]);break;case oa:ds=(zn?"<":"(")+je[_n]+(zn?">":")"),sa=fi(C),aa=Ti(G)}us!==void 0&&us[_n]!==void 0&&(hs=us[_n]+` Tw
`),_n===0?g.push(hs+Tl(sa,aa,Wt)+ds):la===oa?g.push(hs+ds):la===no&&g.push(hs+Tl(sa,aa,Wt)+ds)}g=la===oa?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Nn=`BT
/`;return Nn+=lt+" "+Ee+` Tf
`,Nn+=R(Ee*ln)+` TL
`,Nn+=ra+`
`,Nn+=fr,Nn+=g,H(Nn+="ET"),w[lt]=!0,nr};var af=p.__private__.clip=p.clip=function(g){return H(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return af("evenodd")},p.__private__.discardPath=p.discardPath=function(){return H("n"),this};var hi=p.__private__.isValidStyle=function(g){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(C=!0),C};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return hi(g)&&(c=g),this};var lc=p.__private__.getStyle=p.getStyle=function(g){var C=c;switch(g){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=g}return C},uc=p.close=function(){return H("h"),this};p.stroke=function(){return H("S"),this},p.fill=function(g){return Ha("f",g),this},p.fillEvenOdd=function(g){return Ha("f*",g),this},p.fillStroke=function(g){return Ha("B",g),this},p.fillStrokeEvenOdd=function(g){return Ha("B*",g),this};var Ha=function(g,C){St(C)==="object"?lf(C,g):H(g)},pl=function(g){g===null||S===b.ADVANCED&&g===void 0||(g=lc(g),H(g))};function of(g,C,G,X,ce){var we=new Io(C||this.boundingBox,G||this.xStep,X||this.yStep,this.gState,ce||this.matrix);we.stream=this.stream;var je=g+"$$"+this.cloneIndex+++"$$";return Vr(je,we),we}var lf=function(g,C){var G=Qs[g.key],X=vt[G];if(X instanceof ya)H("q"),H(uf(C)),X.gState&&p.setGState(X.gState),H(g.matrix.toString()+" cm"),H("/"+G+" sh"),H("Q");else if(X instanceof Io){var ce=new Ye(1,0,0,-1,0,ls());g.matrix&&(ce=ce.multiply(g.matrix||ui),G=of.call(X,g.key,g.boundingBox,g.xStep,g.yStep,ce).id),H("q"),H("/Pattern cs"),H("/"+G+" scn"),X.gState&&p.setGState(X.gState),H(C),H("Q")}},uf=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gl=p.moveTo=function(g,C){return H(R(L(g))+" "+R(K(C))+" m"),this},ea=p.lineTo=function(g,C){return H(R(L(g))+" "+R(K(C))+" l"),this},as=p.curveTo=function(g,C,G,X,ce,we){return H([R(L(g)),R(K(C)),R(L(G)),R(K(X)),R(L(ce)),R(K(we)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,C,G,X,ce){if(isNaN(g)||isNaN(C)||isNaN(G)||isNaN(X)||!hi(ce))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[G-g,X-C]],g,C,[1,1],ce||"S"):this.lines([[G-g,X-C]],g,C,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,C,G,X,ce,we){var je,$e,Ve,st,nt,pt,$t,Wt,nr,jr,fr,zn;if(typeof g=="number"&&(zn=G,G=C,C=g,g=zn),X=X||[1,1],we=we||!1,isNaN(C)||isNaN(G)||!Array.isArray(g)||!Array.isArray(X)||!hi(ce)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gl(C,G),je=X[0],$e=X[1],st=g.length,jr=C,fr=G,Ve=0;Ve<st;Ve++)(nt=g[Ve]).length===2?(jr=nt[0]*je+jr,fr=nt[1]*$e+fr,ea(jr,fr)):(pt=nt[0]*je+jr,$t=nt[1]*$e+fr,Wt=nt[2]*je+jr,nr=nt[3]*$e+fr,jr=nt[4]*je+jr,fr=nt[5]*$e+fr,as(pt,$t,Wt,nr,jr,fr));return we&&uc(),pl(ce),this},p.path=function(g){for(var C=0;C<g.length;C++){var G=g[C],X=G.c;switch(G.op){case"m":gl(X[0],X[1]);break;case"l":ea(X[0],X[1]);break;case"c":as.apply(this,X);break;case"h":uc()}}return this},p.__private__.rect=p.rect=function(g,C,G,X,ce){if(isNaN(g)||isNaN(C)||isNaN(G)||isNaN(X)||!hi(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(X=-X),H([R(L(g)),R(K(C)),R(L(G)),R(L(X)),"re"].join(" ")),pl(ce),this},p.__private__.triangle=p.triangle=function(g,C,G,X,ce,we,je){if(isNaN(g)||isNaN(C)||isNaN(G)||isNaN(X)||isNaN(ce)||isNaN(we)||!hi(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-g,X-C],[ce-G,we-X],[g-ce,C-we]],g,C,[1,1],je,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,C,G,X,ce,we,je){if(isNaN(g)||isNaN(C)||isNaN(G)||isNaN(X)||isNaN(ce)||isNaN(we)||!hi(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*G),we=Math.min(we,.5*X),this.lines([[G-2*ce,0],[ce*$e,0,ce,we-we*$e,ce,we],[0,X-2*we],[0,we*$e,-ce*$e,we,-ce,we],[2*ce-G,0],[-ce*$e,0,-ce,-we*$e,-ce,-we],[0,2*we-X],[0,-we*$e,ce*$e,-we,ce,-we]],g+ce,C,[1,1],je,!0),this},p.__private__.ellipse=p.ellipse=function(g,C,G,X,ce){if(isNaN(g)||isNaN(C)||isNaN(G)||isNaN(X)||!hi(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*G,je=4/3*(Math.SQRT2-1)*X;return gl(g+G,C),as(g+G,C-je,g+we,C-X,g,C-X),as(g-we,C-X,g-G,C-je,g-G,C),as(g-G,C+je,g-we,C+X,g,C+X),as(g+we,C+X,g+G,C+je,g+G,C),pl(ce),this},p.__private__.circle=p.circle=function(g,C,G,X){if(isNaN(g)||isNaN(C)||isNaN(G)||!hi(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,C,G,G,X)},p.setFont=function(g,C,G){return G&&(C=Y(C,G)),lt=sc(g,C,{disableWarning:!1}),this};var cf=p.__private__.getFont=p.getFont=function(){return At[sc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,C,G={};for(g in Rt)if(Rt.hasOwnProperty(g))for(C in G[g]=[],Rt[g])Rt[g].hasOwnProperty(C)&&G[g].push(C);return G},p.addFont=function(g,C,G,X,ce){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(G=Y(G,X)),ce=ce||"Identity-H",dl.call(this,g,C,G,ce)};var ta,ml=t.lineWidth||.200025,Wa=p.__private__.getLineWidth=p.getLineWidth=function(){return ml},cc=p.__private__.setLineWidth=p.setLineWidth=function(g){return ml=g,H(R(L(g))+" w"),this};p.__private__.setLineDash=Qe.API.setLineDash=Qe.API.setLineDashPattern=function(g,C){if(g=g||[],C=C||0,isNaN(C)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(G){return R(L(G))}).join(" "),C=R(L(C)),H("["+g+"] "+C+" d"),this};var dc=p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*ta};p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*ta};var hc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(ta=g),this},fc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ta};hc(t.lineHeight);var fi=p.__private__.getHorizontalCoordinate=function(g){return L(g)},Ti=p.__private__.getVerticalCoordinate=function(g){return S===b.ADVANCED?g:rt[$].mediaBox.topRightY-rt[$].mediaBox.bottomLeftY-L(g)},df=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return R(fi(g))},os=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return R(Ti(g))},Un=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return $n(Un)},p.__private__.setStrokeColor=p.setDrawColor=function(g,C,G,X){return Un=Bn({ch1:g,ch2:C,ch3:G,ch4:X,pdfColorType:"draw",precision:2}),H(Un),this};var yl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return $n(yl)},p.__private__.setFillColor=p.setFillColor=function(g,C,G,X){return yl=Bn({ch1:g,ch2:C,ch3:G,ch4:X,pdfColorType:"fill",precision:2}),H(yl),this};var ra=t.textColor||"0 g",hf=p.__private__.getTextColor=p.getTextColor=function(){return $n(ra)};p.__private__.setTextColor=p.setTextColor=function(g,C,G,X){return ra=Bn({ch1:g,ch2:C,ch3:G,ch4:X,pdfColorType:"text",precision:3}),this};var Va=t.charSpace,ff=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Va||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Va=g,this};var vl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var C=p.CapJoinStyles[g];if(C===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vl=C,H(C+" J"),this};var wl=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var C=p.CapJoinStyles[g];if(C===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=C,H(C+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(R(L(g))+" M"),this},p.GState=ch,p.setGState=function(g){(g=typeof g=="string"?qt[On[g]]:pc(null,g)).equals(Ci)||(H("/"+g.id+" gs"),Ci=g)};var pc=function(g,C){if(!g||!On[g]){var G=!1;for(var X in qt)if(qt.hasOwnProperty(X)&&qt[X].equals(C)){G=!0;break}if(G)C=qt[X];else{var ce="GS"+(Object.keys(qt).length+1).toString(10);qt[ce]=C,C.id=ce}return g&&(On[g]=C.id),wt.publish("addGState",C),C}};p.addGState=function(g,C){return pc(g,C),this},p.saveGraphicsState=function(){return H("q"),ai.push({key:lt,size:Ee,color:ra}),this},p.restoreGraphicsState=function(){H("Q");var g=ai.pop();return lt=g.key,Ee=g.size,ra=g.color,Ci=null,this},p.setCurrentTransformationMatrix=function(g){return H(g.toString()+" cm"),this},p.comment=function(g){return H("#"+g),this};var Ga=function(g,C){var G=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(we){isNaN(we)||(G=parseFloat(we))}});var X=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(we){isNaN(we)||(X=parseFloat(we))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(we){ce=we.toString()}}),this},bl=function(g,C,G,X){Ga.call(this,g,C),this.type="rect";var ce=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(je){isNaN(je)||(ce=parseFloat(je))}});var we=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(je){isNaN(je)||(we=parseFloat(je))}}),this},xl=function(){this.page=Ht,this.currentPage=$,this.pages=ye.slice(0),this.pagesContext=rt.slice(0),this.x=kt,this.y=ct,this.matrix=Wr,this.width=na($),this.height=ls($),this.outputDestination=Ce,this.id="",this.objectNumber=-1};xl.prototype.restore=function(){Ht=this.page,$=this.currentPage,rt=this.pagesContext,ye=this.pages,kt=this.x,ct=this.y,Wr=this.matrix,Sl($,this.width),_l($,this.height),Ce=this.outputDestination};var gc=function(g,C,G,X,ce){li.push(new xl),Ht=$=0,ye=[],kt=g,ct=C,Wr=ce,hl([G,X])},pf=function(g){if(oi[g])li.pop().restore();else{var C=new xl,G="Xo"+(Object.keys(br).length+1).toString(10);C.id=G,oi[g]=G,br[G]=C,wt.publish("addFormObject",C),li.pop().restore()}};for(var Ka in p.beginFormObject=function(g,C,G,X,ce){return gc(g,C,G,X,ce),this},p.endFormObject=function(g){return pf(g),this},p.doFormObject=function(g,C){var G=br[oi[g]];return H("q"),H(C.toString()+" cm"),H("/"+G.id+" Do"),H("Q"),this},p.getFormObject=function(g){var C=br[oi[g]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},p.save=function(g,C){return g=g||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(ga(za(Ei()),g),typeof ga.unload=="function"&&Xe.setTimeout&&setTimeout(ga.unload,911),this):new Promise(function(G,X){try{var ce=ga(za(Ei()),g);typeof ga.unload=="function"&&Xe.setTimeout&&setTimeout(ga.unload,911),G(ce)}catch(we){X(we.message)}})},Qe.API)Qe.API.hasOwnProperty(Ka)&&(Ka==="events"&&Qe.API.events.length?function(g,C){var G,X,ce;for(ce=C.length-1;ce!==-1;ce--)G=C[ce][0],X=C[ce][1],g.subscribe.apply(g,[G].concat(typeof X=="function"?[X]:X))}(wt,Qe.API.events):p[Ka]=Qe.API[Ka]);var na=p.getPageWidth=function(g){return(rt[g=g||$].mediaBox.topRightX-rt[g].mediaBox.bottomLeftX)/Ie},Sl=p.setPageWidth=function(g,C){rt[g].mediaBox.topRightX=C*Ie+rt[g].mediaBox.bottomLeftX},ls=p.getPageHeight=function(g){return(rt[g=g||$].mediaBox.topRightY-rt[g].mediaBox.bottomLeftY)/Ie},_l=p.setPageHeight=function(g,C){rt[g].mediaBox.topRightY=C*Ie+rt[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:Gr,getStyle:lc,getFont:cf,getFontSize:Te,getCharSpace:ff,getTextColor:hf,getLineHeight:dc,getLineHeightFactor:fc,getLineWidth:Wa,write:We,getHorizontalCoordinate:fi,getVerticalCoordinate:Ti,getCoordinateString:df,getVerticalCoordinateString:os,collections:{},newObject:lr,newAdditionalObject:Ia,newObjectDeferred:rr,newObjectDeferredBegin:on,getFilters:ci,putStream:bn,events:wt,scaleFactor:Ie,pageSize:{getWidth:function(){return na($)},setWidth:function(g){Sl($,g)},getHeight:function(){return ls($)},setHeight:function(g){_l($,g)}},encryptionOptions:h,encryption:Ar,getEncryptor:nf,output:qa,getNumberOfPages:Xh,pages:ye,out:H,f2:U,f3:E,getPageInfo:oc,getPageInfoByObjId:tt,getCurrentPageInfo:sf,getPDFVersion:N,Point:Ga,Rectangle:bl,Matrix:Ye,hasHotfix:ac},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return na($)},set:function(g){Sl($,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ls($)},set:function(g){_l($,g)},enumerable:!0,configurable:!0}),Yh.call(p,be),lt="F1",nc(i,r),wt.publish("initialized"),p}bo.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},bo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bo.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},bo.prototype.processOwnerPassword=function(t,e){return Dp(Bp(e).substr(0,5),t)},bo.prototype.encryptor=function(t,e){var r=Bp(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Dp(r,n)}},ch.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||St(t)!==St(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Qe.API={events:[]},Qe.version="3.0.1";var Gt=Qe.API,e1=1,Fa=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},it=function(t){return t.toFixed(2)},_s=function(t){return t.toFixed(5)};Gt.__acroform__={};var an=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},x2=function(t){return t*e1},yi=function(t){var e=new pw,r=Ue.internal.getHeight(t)||0,n=Ue.internal.getWidth(t)||0;return e.BBox=[0,0,Number(it(n)),Number(it(r))],e},IN=Gt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},ON=Gt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},RN=Gt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zt=Gt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RN(t,e-1)},er=Gt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IN(t,e-1)},tr=Gt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ON(t,e-1)},MN=Gt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(it(l.lowerLeft_X)),Number(it(l.lowerLeft_Y)),Number(it(l.upperRight_X)),Number(it(l.upperRight_Y))]},$N=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Up(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+it(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=yi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Up=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=r,a=Ue.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ue.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(E,L,W){if(E+1<i.length){var K=L+" "+i[E+1][0];return dd(K,t,W).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,f=dd("3",t,s).height,w=t.multiline?a-s:(a-f)/2,p=w+=2,_=0,N=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+dd(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var v="",b=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&A!==i[S].length-1){if((f+2)*(b+2)+2>a)continue e;v+=i[S][A],T=!0,N=S,S--}else{v=(v+=i[S][A]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var D=parseInt(S),Y=l(D,v,s),R=S>=i.length-1;if(Y&&!R){v+=" ",A=0;continue}if(Y||R){if(R)N=D;else if(t.multiline&&(f+2)*(b+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(b+2)+2>a)continue e;N=D}}for(var k="",O=_;O<=N;O++){var U=i[O];if(t.multiline){if(O===N){k+=U[A]+" ",A=(A+1)%U.length;continue}if(O===_){k+=U[U.length-1]+" ";continue}}k+=U[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,h=dd(k,t,s).width,t.textAlign){case"right":c=o-h-2;break;case"center":c=(o-h)/2;break;case"left":default:c=2}e+=it(c)+" "+it(p)+` Td
`,e+="("+Fa(k)+`) Tj
`,e+=-it(c)+` 0 Td
`,p=-(s+2),h=0,_=T?N:N+1,b++,v=""}break}return n.text=e,n.fontSize=s,n},dd=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},BN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},DN=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},UN=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),St(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},zN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ii.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(BN)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");e1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new gw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&DN(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=MN(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ue.createDefaultAppearanceStream(o),St(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=$N(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var f="";for(var w in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(w)){var p=o.appearanceStreamContent[w];if(f+="/"+w+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var _=p[a];typeof _=="function"&&(_=_.call(i,o)),f+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,o)),f+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&UN(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},fw=Gt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),St(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Fa(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},b0=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Fa(n(t))+")"},xi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xi.prototype.toString=function(){return this.objId+" 0 R"},xi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},xi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:fw(i,this.objId,this.scope)}):i instanceof xi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var pw=function(){xi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};an(pw,xi);var gw=function(){xi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Fa(r(t))+")"}},set:function(r){t=r}})};an(gw,xi);var ii=function t(){xi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zt(e,3)},set:function(v){v?this.F=er(e,3):this.F=tr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof dh)return;s="FieldObject"+t.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Fa(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/e1:c},set:function(v){c=v}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(v){h=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof dh||this instanceof Na))return b0(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof vr?w:b0(w,this.objId,this.scope)},set:function(v){v=v.toString(),w=this instanceof vr?v:v.substr(0,1)==="("?mo(v.substr(1,v.length-2)):mo(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr?mo(w.substr(1,w.length-1)):w},set:function(v){v=v.toString(),w=this instanceof vr?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof vr?p:b0(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof vr?v:v.substr(0,1)==="("?mo(v.substr(1,v.length-2)):mo(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr?mo(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof vr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(v){v=!!v,N=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(v){_=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,1)},set:function(v){v?this.Ff=er(this.Ff,1):this.Ff=tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,2)},set:function(v){v?this.Ff=er(this.Ff,2):this.Ff=tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,3)},set:function(v){v?this.Ff=er(this.Ff,3):this.Ff=tr(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');A=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(A){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};an(ii,xi);var Uo=function(){ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fw(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,18)},set:function(r){r?this.Ff=er(this.Ff,18):this.Ff=tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=er(this.Ff,19):this.Ff=tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,20)},set:function(r){r?(this.Ff=er(this.Ff,20),e.sort()):this.Ff=tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,22)},set:function(r){r?this.Ff=er(this.Ff,22):this.Ff=tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,23)},set:function(r){r?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,27)},set:function(r){r?this.Ff=er(this.Ff,27):this.Ff=tr(this.Ff,27)}}),this.hasAppearanceStream=!1};an(Uo,ii);var zo=function(){Uo.call(this),this.fontName="helvetica",this.combo=!1};an(zo,Uo);var qo=function(){zo.call(this),this.combo=!0};an(qo,zo);var Ld=function(){qo.call(this),this.edit=!0};an(Ld,qo);var vr=function(){ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,15)},set:function(r){r?this.Ff=er(this.Ff,15):this.Ff=tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,16)},set:function(r){r?this.Ff=er(this.Ff,16):this.Ff=tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,17)},set:function(r){r?this.Ff=er(this.Ff,17):this.Ff=tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,26)},set:function(r){r?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Fa(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){St(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};an(vr,ii);var Ed=function(){vr.call(this),this.pushButton=!0};an(Ed,vr);var Ho=function(){vr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};an(Ho,vr);var dh=function(){var t,e;ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Fa(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){St(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};an(dh,ii),Ho.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ho.prototype.createOption=function(t){var e=new dh;return e.Parent=this,e.optionName=t,this.Kids.push(e),qN.call(this.scope,e),e};var Td=function(){vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};an(Td,vr);var Na=function(){ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,13)},set:function(e){e?this.Ff=er(this.Ff,13):this.Ff=tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,21)},set:function(e){e?this.Ff=er(this.Ff,21):this.Ff=tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,23)},set:function(e){e?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,24)},set:function(e){e?this.Ff=er(this.Ff,24):this.Ff=tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,25)},set:function(e){e?this.Ff=er(this.Ff,25):this.Ff=tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,26)},set:function(e){e?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};an(Na,ii);var Fd=function(){Na.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zt(this.Ff,14)},set:function(t){t?this.Ff=er(this.Ff,14):this.Ff=tr(this.Ff,14)}}),this.password=!0};an(Fd,Na);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Up(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+it(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=yi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Ue.internal.getHeight(t),a=Ue.internal.getWidth(t),o=Up(t,t.caption);return i.push("1 g"),i.push("0 0 "+it(a)+" "+it(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+it(a-1)+" "+it(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+it(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Circle.YesNormal,e.D[t]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ue.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+_s(Ue.internal.getWidth(t)/2)+" "+_s(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5)),a=Number((n*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_s(Ue.internal.getWidth(t)/2)+" "+_s(Ue.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+_s(Ue.internal.getWidth(t)/2)+" "+_s(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_s(Ue.internal.getWidth(t)/2)+" "+_s(Ue.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Cross.YesNormal,e.D[t]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ue.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+it(Ue.internal.getWidth(t)-2)+" "+it(Ue.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(it(n.x1.x)+" "+it(n.x1.y)+" m"),r.push(it(n.x2.x)+" "+it(n.x2.y)+" l"),r.push(it(n.x4.x)+" "+it(n.x4.y)+" m"),r.push(it(n.x3.x)+" "+it(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=Ue.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+it(Ue.internal.getWidth(t)-2)+" "+it(Ue.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(it(r.x1.x)+" "+it(r.x1.y)+" m"),n.push(it(r.x2.x)+" "+it(r.x2.y)+" l"),n.push(it(r.x4.x)+" "+it(r.x4.y)+" m"),n.push(it(r.x3.x)+" "+it(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+it(Ue.internal.getWidth(t))+" "+it(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ue.internal.getWidth(t),r=Ue.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ue.internal.getWidth=function(t){var e=0;return St(t)==="object"&&(e=x2(t.Rect[2])),e},Ue.internal.getHeight=function(t){var e=0;return St(t)==="object"&&(e=x2(t.Rect[3])),e};var qN=Gt.addField=function(t){if(zN(this,t),!(t instanceof ii))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gt.AcroFormChoiceField=Uo,Gt.AcroFormListBox=zo,Gt.AcroFormComboBox=qo,Gt.AcroFormEditBox=Ld,Gt.AcroFormButton=vr,Gt.AcroFormPushButton=Ed,Gt.AcroFormRadioButton=Ho,Gt.AcroFormCheckBox=Td,Gt.AcroFormTextField=Na,Gt.AcroFormPasswordField=Fd,Gt.AcroFormAppearance=Ue,Gt.AcroForm={ChoiceField:Uo,ListBox:zo,ComboBox:qo,EditBox:Ld,Button:vr,PushButton:Ed,RadioButton:Ho,CheckBox:Td,TextField:Na,PasswordField:Fd,Appearance:Ue},Qe.AcroForm={ChoiceField:Uo,ListBox:zo,ComboBox:qo,EditBox:Ld,Button:vr,PushButton:Ed,RadioButton:Ho,CheckBox:Td,TextField:Na,PasswordField:Fd,Appearance:Ue};function mw(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(E,L){var W,K,pe,de,re,q=e;if((L=L||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(Y(E))for(re in r)for(pe=r[re],W=0;W<pe.length;W+=1){for(de=!0,K=0;K<pe[W].length;K+=1)if(pe[W][K]!==void 0&&pe[W][K]!==E[K]){de=!1;break}if(de===!0){q=re;break}}else for(re in r)for(pe=r[re],W=0;W<pe.length;W+=1){for(de=!0,K=0;K<pe[W].length;K+=1)if(pe[W][K]!==void 0&&pe[W][K]!==E.charCodeAt(K)){de=!1;break}if(de===!0){q=re;break}}return q===e&&L!==e&&(q=L),q},i=function E(L){for(var W=this.internal.write,K=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:L.width}),de.push({key:"Height",value:L.height}),L.colorSpace===A.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===A.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var re="",q=0,Q=L.transparency.length;q<Q;q++)re+=L.transparency[q]+" "+L.transparency[q]+" ";de.push({key:"Mask",value:"["+re+"]"})}L.sMask!==void 0&&de.push({key:"SMask",value:L.objectId+1+" 0 R"});var ie=L.filter!==void 0?["/"+L.filter]:void 0;if(K({data:L.data,additionalKeyValues:de,alreadyAppliedFilters:ie,objectId:L.objectId}),W("endobj"),"sMask"in L&&L.sMask!==void 0){var me="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,j={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:me,data:L.sMask};"filter"in L&&(j.filter=L.filter),E.call(this,j)}if(L.colorSpace===A.INDEXED){var $=this.internal.newObject();K({data:k(new Uint8Array(L.palette)),objectId:$}),W("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var L in E)i.call(this,E[L])},a=function(){var E,L=this.internal.collections.addImage_images,W=this.internal.write;for(var K in L)W("/I"+(E=L[K]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(E){return typeof t["process"+E.toUpperCase()]=="function"},f=function(E){return St(E)==="object"&&E.nodeType===1},w=function(E,L){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var W=""+E.getAttribute("src");if(W.indexOf("data:image/")===0)return vu(unescape(W).split("base64,").pop());var K=t.loadFile(W,!0);if(K!==void 0)return K}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var pe;switch(L){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return vu(E.toDataURL(pe,1).split("base64,").pop())}},p=function(E){var L=this.internal.collections.addImage_images;if(L){for(var W in L)if(E===L[W].alias)return L[W]}},_=function(E,L,W){return E||L||(E=-96,L=-96),E<0&&(E=-1*W.width*72/E/this.internal.scaleFactor),L<0&&(L=-1*W.height*72/L/this.internal.scaleFactor),E===0&&(E=L*W.width/W.height),L===0&&(L=E*W.height/W.width),[E,L]},N=function(E,L,W,K,pe,de){var re=_.call(this,W,K,pe),q=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,ie=l.call(this);if(W=re[0],K=re[1],ie[pe.index]=pe,de){de*=Math.PI/180;var me=Math.cos(de),j=Math.sin(de),$=function(J){return J.toFixed(4)},V=[$(me),$(j),$(-1*j),$(me),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,q(E),Q(L+K),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([q(W),"0","0",q(K),"0","0","cm"].join(" "))):this.internal.write([q(W),"0","0",q(K),q(E),Q(L+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(E){var L,W,K=0;if(typeof E=="string")for(W=E.length,L=0;L<W;L++)K=(K<<5)-K+E.charCodeAt(L),K|=0;else if(Y(E))for(W=E.byteLength/2,L=0;L<W;L++)K=(K<<5)-K+E[L],K|=0;return K},S=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var L=!0;return E.length===0&&(L=!1),E.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(L=!1),L},T=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var L=E.indexOf(",");return L<0?null:E.substring(0,L).trim().endsWith("base64")?E.substring(L+1):null},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return D()&&E instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(E){return D()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(E){for(var L=E.length,W=new Uint8Array(L),K=0;K<L;K++)W[K]=E.charCodeAt(K);return W},k=t.__addimage__.arrayBufferToBinaryString=function(E){for(var L="",W=Y(E)?E:new Uint8Array(E),K=0;K<W.length;K+=8192)L+=String.fromCharCode.apply(null,W.subarray(K,K+8192));return L};t.addImage=function(){var E,L,W,K,pe,de,re,q,Q;if(typeof arguments[1]=="number"?(L=e,W=arguments[1],K=arguments[2],pe=arguments[3],de=arguments[4],re=arguments[5],q=arguments[6],Q=arguments[7]):(L=arguments[1],W=arguments[2],K=arguments[3],pe=arguments[4],de=arguments[5],re=arguments[6],q=arguments[7],Q=arguments[8]),St(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ie=E;E=ie.imageData,L=ie.format||L||e,W=ie.x||W||0,K=ie.y||K||0,pe=ie.w||ie.width||pe,de=ie.h||ie.height||de,re=ie.alias||re,q=ie.compression||q,Q=ie.rotation||ie.angle||Q}var me=this.internal.getFilters();if(q===void 0&&me.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(W)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var j=O.call(this,E,L,re,q);return N.call(this,W,K,pe,de,j,Q),this};var O=function(E,L,W,K){var pe,de,re;if(typeof E=="string"&&n(E)===e){E=unescape(E);var q=U(E,!1);(q!==""||(q=t.loadFile(E,!0))!==void 0)&&(E=q)}if(f(E)&&(E=w(E,L)),L=n(E,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((re=W)==null||re.length===0)&&(W=function(Q){return typeof Q=="string"||Y(Q)?b(Q):Y(Q.data)?b(Q.data):null}(E)),(pe=p.call(this,W))||(D()&&(E instanceof Uint8Array||L==="RGBA"||(de=E,E=R(E))),pe=this["process"+L.toUpperCase()](E,c.call(this),W,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in t.image_compression?Q:v.NONE}(K),de)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},U=t.__addimage__.convertBase64ToBinaryString=function(E,L){L=typeof L!="boolean"||L;var W,K="";if(typeof E=="string"){var pe;W=(pe=T(E))!==null&&pe!==void 0?pe:E;try{K=vu(W)}catch(de){if(L)throw S(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(E){var L,W,K="";if(f(E)&&(E=w(E)),typeof E=="string"&&n(E)===e&&((K=U(E,!1))===""&&(K=t.loadFile(E)||""),E=K),W=n(E),!h(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!D()||E instanceof Uint8Array||(E=R(E)),!(L=this["process"+W.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=W,L}})(Qe.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Qe.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var w=0;w<c.length;w++){n=c[w];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(N.objId),b=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(v(b))+") >>",N.content=s;var S=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(N.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Y=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;a=Math.ceil(c*h)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Qe.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},o=t.__arabicParser__.isArabicEndLetter=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(N){return a(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(N){var A=0,v=r,b="",S=0;for(A=0;A<N.length;A+=1)v[N.charCodeAt(A)]!==void 0?(S++,typeof(v=v[N.charCodeAt(A)])=="number"&&(b+=String.fromCharCode(v),v=r,S=0),A===N.length-1&&(v=r,b+=N.charAt(A-(S-1)),A-=S-1,S=0)):(v=r,b+=N.charAt(A-S),A-=S,S=0);return b};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(N,A,v){return a(N)?s(N)===!1?-1:!c(N)||!a(A)&&!a(v)||!a(v)&&o(A)||o(N)&&!a(A)||o(N)&&l(A)||o(N)&&o(A)?0:h(N)&&a(A)&&!o(A)&&a(v)&&c(v)?3:o(N)||!a(v)?1:2:-1},p=function(N){var A=0,v=0,b=0,S="",T="",D="",Y=(N=N||"").split("\\s+"),R=[];for(A=0;A<Y.length;A+=1){for(R.push(""),v=0;v<Y[A].length;v+=1)S=Y[A][v],T=Y[A][v-1],D=Y[A][v+1],a(S)?(b=w(S,T,D),R[A]+=b!==-1?String.fromCharCode(e[S.charCodeAt(0)][b]):S):R[A]+=S;R[A]=f(R[A])}return R.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var N,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(A)){var b=0;for(v=[],b=0;b<A.length;b+=1)Array.isArray(A[b])?v.push([p(A[b][0]),A[b][1],A[b][2]]):v.push([p(A[b])]);N=v}else N=p(A);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",_])}(Qe.API),Qe.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Qe.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(N){l=N}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(N){_=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),w=c.scaleFactor||this.internal.scaleFactor,p=0,_=0,N=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(A.splitTextToSize(T,v))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(N=this.getStringUnitWidth(l[b],{font:f})*h)&&(p=N);return p!==0&&(_=l.length),{w:p/=w,h:Math.max((_*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&w&&(this.printHeaderRow(l.lineNumber,!0),l.y+=w[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,f,w){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,_,N,A,v=[],b=[],S=[],T={},D={},Y=[],R=[],k=(w=w||{}).autoSize||!1,O=w.printHeaders!==!1,U=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,E=w.margins||Object.assign({width:this.getPageWidth()},e),L=typeof w.padding=="number"?w.padding:3,W=w.headerBackgroundColor||"#c8c8c8",K=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=K,this.setFontSize(U),f==null)b=v=Object.keys(h[0]),S=v.map(function(){return"left"});else if(Array.isArray(f)&&St(f[0])==="object")for(v=f.map(function(ie){return ie.name}),b=f.map(function(ie){return ie.prompt||ie.name||""}),S=f.map(function(ie){return ie.align||"left"}),p=0;p<f.length;p+=1)D[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,S=v.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(T[A=v[p]]=h.map(function(ie){return ie[A]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=T[A],this.setFont(void 0,"normal"),N=0;N<_.length;N+=1)Y.push(this.getTextDimensions(_[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[A]=Math.max.apply(null,Y)+L+L,Y=[]}if(O){var pe={};for(p=0;p<v.length;p+=1)pe[v[p]]={},pe[v[p]].text=b[p],pe[v[p]].align=S[p];var de=o.call(this,pe,D);R=v.map(function(ie){return new s(l,c,D[ie],de,pe[ie].text,void 0,pe[ie].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var re=f.reduce(function(ie,me){return ie[me.name]=me.align,ie},{});for(p=0;p<h.length;p+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:p,data:h[p]},this);var q=o.call(this,h[p],D);for(N=0;N<v.length;N+=1){var Q=h[p][v[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:p,col:N,data:Q},this),a.call(this,new s(l,c,D[v[N]],q,Q,p+2,re[v[N]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/w+h+h},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,w.push(h)),h.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(_)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),r=!1}}(Qe.API);var yw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zp=mw(vw),ww=[100,200,300,400,500,600,700,800,900],HN=mw(ww);function qp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return yw[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof zp[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function S2(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var WN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function N2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function VN(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},WN,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=qp(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+N2(s)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var h=zp[l],f=h<=zp.normal?-1:1,w=S2(c,vw,h,f);if(!w)throw new Error("Could not find a matching font-stretch value for "+l);return w}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var h=yw[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=HN[l],f=S2(c,ww,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+N2(s)+"'.");return a}function k2(t){return t.trimLeft()}function GN(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function KN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var hd,A2,j2,x0=["times"];(function(t){var e,r,n,i,s,a,o,l,c,h=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new a,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new a,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=j;Object.defineProperty(this,"pdf",{get:function(){return $}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ge){V=!!ge}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ge){J=!!ge}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ge){isNaN(ge)||(Z=ge)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ge){isNaN(ge)||(ue=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var H;typeof ge=="number"?H=[ge,ge,ge,ge]:((H=new Array(4))[0]=ge[0],H[1]=ge.length>=2?ge[1]:H[0],H[2]=ge.length>=3?ge[2]:H[0],H[3]=ge.length>=4?ge[3]:H[1]),c.margin=H}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(ge){oe=ge}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ge){le=ge}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ge){Ne=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof h&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(ge){ye=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var H;H=w(ge),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var H=w(ge);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Pe=null;function Ce(ge,H){if(Pe===null){var We=function(Ae){var be=[];return Object.keys(Ae).forEach(function(Ee){Ae[Ee].forEach(function(Fe){var Te=null;switch(Fe){case"bold":Te={family:Ee,weight:"bold"};break;case"italic":Te={family:Ee,style:"italic"};break;case"bolditalic":Te={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Te={family:Ee}}Te!==null&&(Te.ref={name:Ee,style:Fe},be.push(Te))})}),be}(ge.getFontList());Pe=function(Ae){for(var be={},Ee=0;Ee<Ae.length;++Ee){var Fe=qp(Ae[Ee]),Te=Fe.family,ze=Fe.stretch,qe=Fe.style,Ge=Fe.weight;be[Te]=be[Te]||{},be[Te][ze]=be[Te][ze]||{},be[Te][ze][qe]=be[Te][ze][qe]||{},be[Te][ze][qe][Ge]=Fe}return be}(We.concat(H))}return Pe}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(ge){Pe=null,Re=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var H;if(this.ctx.font=ge,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var We=H[1];H[2];var Ae=H[3],be=H[4];H[5];var Ee=H[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(be)[2];be=Math.floor(Fe==="px"?parseFloat(be)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(be)*this.pdf.getFontSize():parseFloat(be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(be);var Te=function(Je){var lt,Ie,kt=[],ct=Je.trim();if(ct==="")return x0;if(ct in _2)return[_2[ct]];for(;ct!=="";){switch(Ie=null,lt=(ct=k2(ct)).charAt(0)){case'"':case"'":Ie=GN(ct.substring(1),lt);break;default:Ie=KN(ct)}if(Ie===null||(kt.push(Ie[0]),(ct=k2(Ie[1]))!==""&&ct.charAt(0)!==","))return x0;ct=ct.replace(/^,/,"")}return kt}(Ee);if(this.fontFaces){var ze=VN(Ce(this.pdf,this.fontFaces),Te.map(function(Je){return{family:Je,stretch:"normal",weight:Ae,style:We}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var qe="";(Ae==="bold"||parseInt(Ae,10)>=700||We==="bold")&&(qe="bold"),We==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Ge="",He={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<Te.length;et++){if(this.pdf.internal.getFont(Te[et],qe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Te[et];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(Te[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Te[et],qe="bold";else if(this.pdf.internal.getFont(Te[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Te[et],qe="normal";break}}if(Ge===""){for(var ut=0;ut<Te.length;ut++)if(He[Te[ut]]){Ge=He[Te[ut]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function(j){this.lineDash=j},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(j,$){if(isNaN(j)||isNaN($))throw Pt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(j,$));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(j,$)},f.prototype.closePath=function(){var j=new a(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&St(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){j=new a(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(j.x,j.y)},f.prototype.lineTo=function(j,$){if(isNaN(j)||isNaN($))throw Pt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(j,$));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(j,$,V,J){if(isNaN(V)||isNaN(J)||isNaN(j)||isNaN($))throw Pt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new a(V,J)),ue=this.ctx.transform.applyToPoint(new a(j,$));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},f.prototype.bezierCurveTo=function(j,$,V,J,Z,ue){if(isNaN(Z)||isNaN(ue)||isNaN(j)||isNaN($)||isNaN(V)||isNaN(J))throw Pt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new a(Z,ue)),le=this.ctx.transform.applyToPoint(new a(j,$)),Ne=this.ctx.transform.applyToPoint(new a(V,J));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:Ne.x,y2:Ne.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},f.prototype.arc=function(j,$,V,J,Z,ue){if(isNaN(j)||isNaN($)||isNaN(V)||isNaN(J)||isNaN(Z))throw Pt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new a(j,$));j=oe.x,$=oe.y;var le=this.ctx.transform.applyToPoint(new a(0,V)),Ne=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(le.x-Ne.x,2)+Math.pow(le.y-Ne.y,2))}Math.abs(Z-J)>=2*Math.PI&&(J=0,Z=2*Math.PI),this.path.push({type:"arc",x:j,y:$,radius:V,startAngle:J,endAngle:Z,counterclockwise:ue})},f.prototype.arcTo=function(j,$,V,J,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(j,$,V,J){if(isNaN(j)||isNaN($)||isNaN(V)||isNaN(J))throw Pt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,$),this.lineTo(j+V,$),this.lineTo(j+V,$+J),this.lineTo(j,$+J),this.lineTo(j,$),this.lineTo(j+V,$),this.lineTo(j,$)},f.prototype.fillRect=function(j,$,V,J){if(isNaN(j)||isNaN($)||isNaN(V)||isNaN(J))throw Pt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,$,V,J),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(j,$,V,J){if(isNaN(j)||isNaN($)||isNaN(V)||isNaN(J))throw Pt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(j,$,V,J),this.stroke())},f.prototype.clearRect=function(j,$,V,J){if(isNaN(j)||isNaN($)||isNaN(V)||isNaN(J))throw Pt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,$,V,J))},f.prototype.save=function(j){j=typeof j!="boolean"||j;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage($),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage($),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(j){var $,V,J,Z;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))$=0,V=0,J=0,Z=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ue!==null)$=parseInt(ue[1]),V=parseInt(ue[2]),J=parseInt(ue[3]),Z=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)$=parseInt(ue[1]),V=parseInt(ue[2]),J=parseInt(ue[3]),Z=parseFloat(ue[4]);else{if(Z=1,typeof j=="string"&&j.charAt(0)!=="#"){var oe=new cw(j);j=oe.ok?oe.toHex():"#000000"}j.length===4?($=j.substring(1,2),$+=$,V=j.substring(2,3),V+=V,J=j.substring(3,4),J+=J):($=j.substring(1,3),V=j.substring(3,5),J=j.substring(5,7)),$=parseInt($,16),V=parseInt(V,16),J=parseInt(J,16)}}return{r:$,g:V,b:J,a:Z,style:j}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(j,$,V,J){if(isNaN($)||isNaN(V)||typeof j!="string")throw Pt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var Z=q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;L.call(this,{text:j,x:$,y:V,scale:ue,angle:Z,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(j,$,V,J){if(isNaN($)||isNaN(V)||typeof j!="string")throw Pt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){J=isNaN(J)?void 0:J;var Z=q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;L.call(this,{text:j,x:$,y:V,scale:ue,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(j){if(typeof j!="string")throw Pt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,V=this.pdf.internal.scaleFactor,J=$.internal.getFontSize(),Z=$.getStringUnitWidth(j)*J/$.internal.scaleFactor,ue=function(oe){var le=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new ue({width:Z*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(j,$){if(isNaN(j)||isNaN($))throw Pt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(j,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(j){if(isNaN(j))throw Pt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.translate=function(j,$){if(isNaN(j)||isNaN($))throw Pt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,j,$);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(j,$,V,J,Z,ue){if(isNaN(j)||isNaN($)||isNaN(V)||isNaN(J)||isNaN(Z)||isNaN(ue))throw Pt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(j,$,V,J,Z,ue);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(j,$,V,J,Z,ue){j=isNaN(j)?1:j,$=isNaN($)?0:$,V=isNaN(V)?0:V,J=isNaN(J)?1:J,Z=isNaN(Z)?0:Z,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(j,$,V,J,Z,ue)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(j,$,V,J,Z,ue,oe,le,Ne){var ye=this.pdf.getImageProperties(j),Pe=1,Ce=1,Re=1,ge=1;J!==void 0&&le!==void 0&&(Re=le/J,ge=Ne/Z,Pe=ye.width/J*le/J,Ce=ye.height/Z*Ne/Z),ue===void 0&&(ue=$,oe=V,$=0,V=0),J!==void 0&&le===void 0&&(le=J,Ne=Z),J===void 0&&le===void 0&&(le=ye.width,Ne=ye.height);for(var H,We=this.ctx.transform.decompose(),Ae=q(We.rotate.shx),be=new l,Ee=(be=(be=(be=be.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new o(ue-$*Re,oe-V*ge,J*Pe,Z*Ce)),Fe=A.call(this,Ee),Te=[],ze=0;ze<Fe.length;ze+=1)Te.indexOf(Fe[ze])===-1&&Te.push(Fe[ze]);if(S(Te),this.autoPaging)for(var qe=Te[0],Ge=Te[Te.length-1],He=qe;He<Ge+1;He++){this.pdf.setPage(He);var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=He===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=He===1?0:Je+(He-2)*lt;if(this.ctx.clip_path.length!==0){var kt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(H,this.posX+this.margin[3],-Ie+ut+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=kt}var ct=JSON.parse(JSON.stringify(Ee));ct=b([ct],this.posX+this.margin[3],-Ie+ut+this.ctx.prevPageLastElemOffset)[0];var Wr=(He>qe||He<Ge)&&N.call(this);Wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,lt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,Ae),Wr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,Ae)};var A=function(j,$,V){var J=[];$=$||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":J.push(Math.floor((j.y+Z)/V)+1);break;case"arc":J.push(Math.floor((j.y+Z-j.radius)/V)+1),J.push(Math.floor((j.y+Z+j.radius)/V)+1);break;case"qct":var ue=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);J.push(Math.floor((ue.y+Z)/V)+1),J.push(Math.floor((ue.y+ue.h+Z)/V)+1);break;case"bct":var oe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);J.push(Math.floor((oe.y+Z)/V)+1),J.push(Math.floor((oe.y+oe.h+Z)/V)+1);break;case"rect":J.push(Math.floor((j.y+Z)/V)+1),J.push(Math.floor((j.y+j.h+Z)/V)+1)}for(var le=0;le<J.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<J[le];)v.call(this);return J},v=function(){var j=this.fillStyle,$=this.strokeStyle,V=this.font,J=this.lineCap,Z=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=$,this.font=V,this.lineCap=J,this.lineWidth=Z,this.lineJoin=ue},b=function(j,$,V){for(var J=0;J<j.length;J++)switch(j[J].type){case"bct":j[J].x2+=$,j[J].y2+=V;case"qct":j[J].x1+=$,j[J].y1+=V;case"mt":case"lt":case"arc":default:j[J].x+=$,j[J].y+=V}return j},S=function(j){return j.sort(function($,V){return $-V})},T=function(j,$){for(var V,J,Z=this.fillStyle,ue=this.strokeStyle,oe=this.lineCap,le=this.lineWidth,Ne=Math.abs(le*this.ctx.transform.scaleX),ye=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Re=[],ge=0;ge<Ce.length;ge++)if(Ce[ge].x!==void 0)for(var H=A.call(this,Ce[ge]),We=0;We<H.length;We+=1)Re.indexOf(H[We])===-1&&Re.push(H[We]);for(var Ae=0;Ae<Re.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<Re[Ae];)v.call(this);if(S(Re),this.autoPaging)for(var be=Re[0],Ee=Re[Re.length-1],Fe=be;Fe<Ee+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=Z,this.strokeStyle=ue,this.lineCap=oe,this.lineWidth=Ne,this.lineJoin=ye;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Fe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Fe===1?0:qe+(Fe-2)*Ge;if(this.ctx.clip_path.length!==0){var et=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(V,this.posX+this.margin[3],-He+ze+this.ctx.prevPageLastElemOffset),D.call(this,j,!0),this.path=et}if(J=JSON.parse(JSON.stringify(Pe)),this.path=b(J,this.posX+this.margin[3],-He+ze+this.ctx.prevPageLastElemOffset),$===!1||Fe===0){var ut=(Fe>be||Fe<Ee)&&N.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,Ge,null).clip().discardPath()),D.call(this,j,$),ut&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=Ne,D.call(this,j,$),this.lineWidth=le;this.path=Pe},D=function(j,$){if((j!=="stroke"||$||!_.call(this))&&(j==="stroke"||$||!p.call(this))){for(var V,J,Z=[],ue=this.path,oe=0;oe<ue.length;oe++){var le=ue[oe];switch(le.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:le,deltas:[],abs:[]});break;case"lt":var Ne=Z.length;if(ue[oe-1]&&!isNaN(ue[oe-1].x)&&(V=[le.x-ue[oe-1].x,le.y-ue[oe-1].y],Ne>0)){for(;Ne>=0;Ne--)if(Z[Ne-1].close!==!0&&Z[Ne-1].begin!==!0){Z[Ne-1].deltas.push(V),Z[Ne-1].abs.push(le);break}}break;case"bct":V=[le.x1-ue[oe-1].x,le.y1-ue[oe-1].y,le.x2-ue[oe-1].x,le.y2-ue[oe-1].y,le.x-ue[oe-1].x,le.y-ue[oe-1].y],Z[Z.length-1].deltas.push(V);break;case"qct":var ye=ue[oe-1].x+2/3*(le.x1-ue[oe-1].x),Pe=ue[oe-1].y+2/3*(le.y1-ue[oe-1].y),Ce=le.x+2/3*(le.x1-le.x),Re=le.y+2/3*(le.y1-le.y),ge=le.x,H=le.y;V=[ye-ue[oe-1].x,Pe-ue[oe-1].y,Ce-ue[oe-1].x,Re-ue[oe-1].y,ge-ue[oe-1].x,H-ue[oe-1].y],Z[Z.length-1].deltas.push(V);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(le)}}J=$?null:j==="stroke"?"stroke":"fill";for(var We=!1,Ae=0;Ae<Z.length;Ae++)if(Z[Ae].arc)for(var be=Z[Ae].abs,Ee=0;Ee<be.length;Ee++){var Fe=be[Ee];Fe.type==="arc"?k.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,$,!We):W.call(this,Fe.x,Fe.y),We=!0}else if(Z[Ae].close===!0)this.pdf.internal.out("h"),We=!1;else if(Z[Ae].begin!==!0){var Te=Z[Ae].start.x,ze=Z[Ae].start.y;K.call(this,Z[Ae].deltas,Te,ze),We=!0}J&&O.call(this,J),$&&U.call(this)}},Y=function(j){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-V;case"top":return j+$-V;case"hanging":return j+$-2*V;case"middle":return j+$/2-V;case"ideographic":return j;case"alphabetic":default:return j}},R=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function($,V){this.colorStops.push([$,V])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(j,$,V,J,Z,ue,oe,le,Ne){for(var ye=de.call(this,V,J,Z,ue),Pe=0;Pe<ye.length;Pe++){var Ce=ye[Pe];Pe===0&&(Ne?E.call(this,Ce.x1+j,Ce.y1+$):W.call(this,Ce.x1+j,Ce.y1+$)),pe.call(this,j,$,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}le?U.call(this):O.call(this,oe)},O=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(j,$){this.pdf.internal.out(r(j)+" "+n($)+" m")},L=function(j){var $;switch(j.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var V=this.pdf.getTextDimensions(j.text),J=Y.call(this,j.y),Z=R.call(this,J)-V.h,ue=this.ctx.transform.applyToPoint(new a(j.x,J)),oe=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var Ne,ye,Pe,Ce=this.ctx.transform.applyToRectangle(new o(j.x,J,V.w,V.h)),Re=le.applyToRectangle(new o(j.x,Z,V.w,V.h)),ge=A.call(this,Re),H=[],We=0;We<ge.length;We+=1)H.indexOf(ge[We])===-1&&H.push(ge[We]);if(S(H),this.autoPaging)for(var Ae=H[0],be=H[H.length-1],Ee=Ae;Ee<be+1;Ee++){this.pdf.setPage(Ee);var Fe=Ee===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],qe=ze-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],He=Ge-this.margin[3],et=Ee===1?0:Te+(Ee-2)*qe;if(this.ctx.clip_path.length!==0){var ut=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ne,this.posX+this.margin[3],-1*et+Fe),D.call(this,"fill",!0),this.path=ut}var Je=b([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-et+Fe+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*j.scale),Pe=this.lineWidth,this.lineWidth=Pe*j.scale);var lt=this.autoPaging!=="text";if(lt||Je.y+Je.h<=ze){if(lt||Je.y>=Fe&&Je.x<=Ge){var Ie=lt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Ge-Je.x)[0],kt=b([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-et+Fe+this.ctx.prevPageLastElemOffset)[0],ct=lt&&(Ee>Ae||Ee<be)&&N.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,qe,null).clip().discardPath()),this.pdf.text(Ie,kt.x,kt.y,{angle:j.angle,align:$,renderingMode:j.renderingMode}),ct&&this.pdf.restoreGraphicsState()}}else Je.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-Je.y);j.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Pe)}else j.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*j.scale),Pe=this.lineWidth,this.lineWidth=Pe*j.scale),this.pdf.text(j.text,ue.x+this.posX,ue.y+this.posY,{angle:j.angle,align:$,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Pe)},W=function(j,$,V,J){V=V||0,J=J||0,this.pdf.internal.out(r(j+V)+" "+n($+J)+" l")},K=function(j,$,V){return this.pdf.lines(j,$,V,null,null)},pe=function(j,$,V,J,Z,ue,oe,le){this.pdf.internal.out([e(i(V+j)),e(s(J+$)),e(i(Z+j)),e(s(ue+$)),e(i(oe+j)),e(s(le+$)),"c"].join(" "))},de=function(j,$,V,J){for(var Z=2*Math.PI,ue=Math.PI/2;$>V;)$-=Z;var oe=Math.abs(V-$);oe<Z&&J&&(oe=Z-oe);for(var le=[],Ne=J?-1:1,ye=$;oe>1e-5;){var Pe=ye+Ne*Math.min(oe,ue);le.push(re.call(this,j,ye,Pe)),oe-=Math.abs(Pe-ye),ye=Pe}return le},re=function(j,$,V){var J=(V-$)/2,Z=j*Math.cos(J),ue=j*Math.sin(J),oe=Z,le=-ue,Ne=oe*oe+le*le,ye=Ne+oe*Z+le*ue,Pe=4/3*(Math.sqrt(2*Ne*ye)-ye)/(oe*ue-le*Z),Ce=oe-Pe*le,Re=le+Pe*oe,ge=Ce,H=-Re,We=J+$,Ae=Math.cos(We),be=Math.sin(We);return{x1:j*Math.cos($),y1:j*Math.sin($),x2:Ce*Ae-Re*be,y2:Ce*be+Re*Ae,x3:ge*Ae-H*be,y3:ge*be+H*Ae,x4:j*Math.cos(V),y4:j*Math.sin(V)}},q=function(j){return 180*j/Math.PI},Q=function(j,$,V,J,Z,ue){var oe=j+.5*(V-j),le=$+.5*(J-$),Ne=Z+.5*(V-Z),ye=ue+.5*(J-ue),Pe=Math.min(j,Z,oe,Ne),Ce=Math.max(j,Z,oe,Ne),Re=Math.min($,ue,le,ye),ge=Math.max($,ue,le,ye);return new o(Pe,Re,Ce-Pe,ge-Re)},ie=function(j,$,V,J,Z,ue,oe,le){var Ne,ye,Pe,Ce,Re,ge,H,We,Ae,be,Ee,Fe,Te,ze,qe=V-j,Ge=J-$,He=Z-V,et=ue-J,ut=oe-Z,Je=le-ue;for(ye=0;ye<41;ye++)Ae=(H=(Pe=j+(Ne=ye/40)*qe)+Ne*((Re=V+Ne*He)-Pe))+Ne*(Re+Ne*(Z+Ne*ut-Re)-H),be=(We=(Ce=$+Ne*Ge)+Ne*((ge=J+Ne*et)-Ce))+Ne*(ge+Ne*(ue+Ne*Je-ge)-We),ye==0?(Ee=Ae,Fe=be,Te=Ae,ze=be):(Ee=Math.min(Ee,Ae),Fe=Math.min(Fe,be),Te=Math.max(Te,Ae),ze=Math.max(ze,be));return new o(Math.round(Ee),Math.round(Fe),Math.round(Te-Ee),Math.round(ze-Fe))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,$,V=(j=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:$}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Qe.API),function(t){var e=function(s){var a,o,l,c,h,f,w,p,_,N;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(N=h%85))/85)-(_=h%85))/85)-(p=h%85))/85)-(w=h%85))/85)%85,o.push(f+33,w+33,p+33,_+33,N+33)):o.push(122);return function(A,v){for(var b=v;b>0;b--)A.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,c,h,f=String,w="length",p=255,_="charCodeAt",N="slice",A="replace";for(s[N](-2),s=s[N](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],c=0,h=(s+=a="uuuuu"[N](s[w]%5||5))[w];h>c;c+=5)o=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(v,b){for(var S=b;S>0;S--)v.pop()}(l,a[w]),f.fromCharCode.apply(f,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=Mp(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Qe.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,h){var f=new XMLHttpRequest,w=0,p=function(_){var N=_.length,A=[],v=String.fromCharCode;for(w=0;w<N;w+=1)A.push(v(255&_.charCodeAt(w)));return A.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(p(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Qe.API),function(t){function e(){return(Xe.html2canvas?Promise.resolve(Xe.html2canvas):Hs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Xe.DOMPurify?Promise.resolve(Xe.DOMPurify):Hs(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=St(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),w=c.firstChild;w;w=w.nextSibling)h!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||f.appendChild(l(w,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var w=0;w<c.length;++w){var p=c[w],_=p.src.find(function(N){return N.format==="truetype"});_&&l.addFont(_.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||Qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(c,a,o);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Qe.getPageSize=function(a,o,l){if(St(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var p,_=0,N=0;if(w.hasOwnProperty(f))_=w[f][1]/h,N=w[f][0]/h;else try{_=l[1],N=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",N>_&&(p=N,N=_,_=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>N&&(p=N,N=_,_=p)}return{width:N,height:_,unit:o,k:h,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(qp):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(Qe.API),Qe.API.addJS=function(t){return j2=t,this.internal.events.subscribe("postPutResources",function(){hd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),A2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+j2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hd!==void 0&&A2!==void 0&&this.internal.out("/Names <</JavaScript "+hd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var f=r.internal.newObject();h.push(f);var w=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Qe.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var w,p=256*f.charCodeAt(4)+f.charCodeAt(5),_=f.length,N={width:0,height:0,numcomponents:1},A=4;A<_;A+=2){if(A+=p,e.indexOf(f.charCodeAt(A+1))!==-1){w=256*f.charCodeAt(A+5)+f.charCodeAt(A+6),N={width:256*f.charCodeAt(A+7)+f.charCodeAt(A+8),height:w,numcomponents:f.charCodeAt(A+9)};break}p=256*f.charCodeAt(A+2)+f.charCodeAt(A+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return h}}(Qe.API);var yo,fd,P2,C2,L2,JN=function(){var t,e,r;function n(s){var a,o,l,c,h,f,w,p,_,N,A,v,b,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),_=(function(){var T,D;for(D=[],T=0;T<4;++T)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,a-=4),s=(f!=null?f.data:void 0)||this.imgData,v=0;0<=a?v<a:v>a;0<=a?++v:--v)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((N=l-this.transparency.indexed.length)>0)for(b=0;0<=N?b<N:b>N;0<=N?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":w=(A=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,A.slice(0,w)),this.text[p]=String.fromCharCode.apply(String,A.slice(w+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(f,w,p,_){var N,A,v,b,S,T,D,Y,R,k,O,U,E,L,W,K,pe,de,re,q,Q,ie=Math.ceil((c.width-f)/p),me=Math.ceil((c.height-w)/_),j=c.width==ie&&c.height==me;for(L=a*ie,U=j?o:new Uint8Array(L*me),T=s.length,E=0,A=0;E<me&&l<T;){switch(s[l++]){case 0:for(b=pe=0;pe<L;b=pe+=1)U[A++]=s[l++];break;case 1:for(b=de=0;de<L;b=de+=1)N=s[l++],S=b<a?0:U[A-a],U[A++]=(N+S)%256;break;case 2:for(b=re=0;re<L;b=re+=1)N=s[l++],v=(b-b%a)/a,W=E&&U[(E-1)*L+v*a+b%a],U[A++]=(W+N)%256;break;case 3:for(b=q=0;q<L;b=q+=1)N=s[l++],v=(b-b%a)/a,S=b<a?0:U[A-a],W=E&&U[(E-1)*L+v*a+b%a],U[A++]=(N+Math.floor((S+W)/2))%256;break;case 4:for(b=Q=0;Q<L;b=Q+=1)N=s[l++],v=(b-b%a)/a,S=b<a?0:U[A-a],E===0?W=K=0:(W=U[(E-1)*L+v*a+b%a],K=v&&U[(E-1)*L+(v-1)*a+b%a]),D=S+W-K,Y=Math.abs(D-S),k=Math.abs(D-W),O=Math.abs(D-K),R=Y<=k&&Y<=O?S:k<=O?W:K,U[A++]=(N+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!j){var $=((w+E*_)*c.width+f)*a,V=E*L;for(b=0;b<ie;b+=1){for(var J=0;J<a;J+=1)o[$++]=U[V++];$+=(p-1)*a}}E++}}return s=jN(s),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,c,h,f,w,p;for(o=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+o.length),l=0,s=0,a=f=0,w=o.length;f<w;a=f+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(p=h[s++])!=null?p:255;return c},n.prototype.copyToImageData=function(s,a){var o,l,c,h,f,w,p,_,N,A,v;if(l=this.colors,N=null,o=this.hasAlphaChannel,this.palette.length&&(N=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,o=!0),_=(c=s.data||s).length,f=N||a,h=w=0,l===1)for(;h<_;)p=N?4*a[h/4]:w,A=f[p++],c[h++]=A,c[h++]=A,c[h++]=A,c[h++]=o?f[p++]:255,w=p;else for(;h<_;)p=N?4*a[h/4]:w,c[h++]=f[p++],c[h++]=f[p++],c[h++]=f[p++],c[h++]=o?f[p++]:255,w=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Xe)==="[object Window]"){try{e=Xe.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,c,h,f,w,p;if(this.animation){for(p=[],o=h=0,f=(w=this.animation.frames).length;h<f;o=++h)a=w[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,p.push(a.image=t(l));return p}},n.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,c,h,f,w=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(a=function(){var p,_;if(p=o++%c,_=l[p],w.renderFrame(s,p),c>1&&o/c<h)return w.animation._timeout=setTimeout(a,_.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function YN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,h=[],f=0,w=null,p=0,_=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];f=t[e++]|t[e++]<<8,w=t[e++],!(1&N)&&(w=null),p=N>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],D=T>>6&1,Y=1<<(7&T)+1,R=o,k=l,O=!1;T>>7&&(O=!0,R=e,k=Y,e+=3*Y);var U=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}h.push({x:A,y:v,width:b,height:S,has_local_palette:O,palette_offset:R,palette_size:k,data_offset:U,data_length:e-U,transparent_index:w,interlaced:!!D,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return _},this.frameInfo=function(L){if(L<0||L>=h.length)throw new Error("Frame index out of range.");return h[L]},this.decodeAndBlitFrameBGRA=function(L,W){var K=this.frameInfo(L),pe=K.width*K.height,de=new Uint8Array(pe);E2(t,K.data_offset,de,pe);var re=K.palette_offset,q=K.transparent_index;q===null&&(q=256);var Q=K.width,ie=r-Q,me=Q,j=4*(K.y*r+K.x),$=4*((K.y+K.height)*r+K.x),V=j,J=4*ie;K.interlaced===!0&&(J+=4*r*7);for(var Z=8,ue=0,oe=de.length;ue<oe;++ue){var le=de[ue];if(me===0&&(me=Q,(V+=J)>=$&&(J=4*ie+4*r*(Z-1),V=j+(Q+ie)*(Z<<1),Z>>=1)),le===q)V+=4;else{var Ne=t[re+3*le],ye=t[re+3*le+1],Pe=t[re+3*le+2];W[V++]=Pe,W[V++]=ye,W[V++]=Ne,W[V++]=255}--me}},this.decodeAndBlitFrameRGBA=function(L,W){var K=this.frameInfo(L),pe=K.width*K.height,de=new Uint8Array(pe);E2(t,K.data_offset,de,pe);var re=K.palette_offset,q=K.transparent_index;q===null&&(q=256);var Q=K.width,ie=r-Q,me=Q,j=4*(K.y*r+K.x),$=4*((K.y+K.height)*r+K.x),V=j,J=4*ie;K.interlaced===!0&&(J+=4*r*7);for(var Z=8,ue=0,oe=de.length;ue<oe;++ue){var le=de[ue];if(me===0&&(me=Q,(V+=J)>=$&&(J=4*ie+4*r*(Z-1),V=j+(Q+ie)*(Z<<1),Z>>=1)),le===q)V+=4;else{var Ne=t[re+3*le],ye=t[re+3*le+1],Pe=t[re+3*le+2];W[V++]=Ne,W[V++]=ye,W[V++]=Pe,W[V++]=255}--me}}}function E2(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,h=0,f=0,w=0,p=t[e++],_=new Int32Array(4096),N=null;;){for(;h<16&&p!==0;)f|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<l)break;var A=f&c;if(f>>=l,h-=l,A!==s){if(A===a)break;for(var v=A<o?A:N,b=0,S=v;S>s;)S=_[S]>>8,++b;var T=S;if(w+b+(v!==A?1:0)>n)return void Pt.log("Warning, gif stream longer than expected.");r[w++]=T;var D=w+=b;for(v!==A&&(r[w++]=T),S=v;b--;)S=_[S],r[--D]=255&S,S>>=8;N!==null&&o<4096&&(_[o++]=N<<8|T,o>=c+1&&l<12&&(++l,c=c<<1|1)),N=A}else o=a+1,c=(1<<(l=i+1))-1,N=null}return w!==n&&Pt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function S0(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),w=new Array(65535),p=new Array(64),_=new Array(64),N=[],A=0,v=7,b=new Array(64),S=new Array(64),T=new Array(64),D=new Array(256),Y=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(j,$){for(var V=0,J=0,Z=new Array,ue=1;ue<=16;ue++){for(var oe=1;oe<=j[ue];oe++)Z[$[J]]=[],Z[$[J]][0]=V,Z[$[J]][1]=ue,J++,V++;V*=2}return Z}function re(j){for(var $=j[0],V=j[1]-1;V>=0;)$&1<<V&&(A|=1<<v),V--,--v<0&&(A==255?(q(255),q(0)):q(A),v=7,A=0)}function q(j){N.push(j)}function Q(j){q(j>>8&255),q(255&j)}function ie(j,$,V,J,Z){for(var ue,oe=Z[0],le=Z[240],Ne=function(be,Ee){var Fe,Te,ze,qe,Ge,He,et,ut,Je,lt,Ie=0;for(Je=0;Je<8;++Je){Fe=be[Ie],Te=be[Ie+1],ze=be[Ie+2],qe=be[Ie+3],Ge=be[Ie+4],He=be[Ie+5],et=be[Ie+6];var kt=Fe+(ut=be[Ie+7]),ct=Fe-ut,Wr=Te+et,At=Te-et,Rt=ze+He,ai=ze-He,vt=qe+Ge,Qs=qe-Ge,qt=kt+vt,On=kt-vt,Ci=Wr+Rt,Ht=Wr-Rt;be[Ie]=qt+Ci,be[Ie+4]=qt-Ci;var rt=.707106781*(Ht+On);be[Ie+2]=On+rt,be[Ie+6]=On-rt;var wt=.382683433*((qt=Qs+ai)-(Ht=At+ct)),Xs=.5411961*qt+wt,br=1.306562965*Ht+wt,oi=.707106781*(Ci=ai+At),li=ct+oi,Ye=ct-oi;be[Ie+5]=Ye+Xs,be[Ie+3]=Ye-Xs,be[Ie+1]=li+br,be[Ie+7]=li-br,Ie+=8}for(Ie=0,Je=0;Je<8;++Je){Fe=be[Ie],Te=be[Ie+8],ze=be[Ie+16],qe=be[Ie+24],Ge=be[Ie+32],He=be[Ie+40],et=be[Ie+48];var Rn=Fe+(ut=be[Ie+56]),ui=Fe-ut,Vr=Te+et,lr=Te-et,rr=ze+He,on=ze-He,Ia=qe+Ge,Li=qe-Ge,Mn=Rn+Ia,$n=Rn-Ia,Bn=Vr+rr,ci=Vr-rr;be[Ie]=Mn+Bn,be[Ie+32]=Mn-Bn;var bn=.707106781*(ci+$n);be[Ie+16]=$n+bn,be[Ie+48]=$n-bn;var di=.382683433*((Mn=Li+on)-(ci=lr+ui)),Zs=.5411961*Mn+di,Oa=1.306562965*ci+di,Ra=.707106781*(Bn=on+lr),Ma=ui+Ra,$a=ui-Ra;be[Ie+40]=$a+Zs,be[Ie+24]=$a-Zs,be[Ie+8]=Ma+Oa,be[Ie+56]=Ma-Oa,Ie++}for(Je=0;Je<64;++Je)lt=be[Je]*Ee[Je],p[Je]=lt>0?lt+.5|0:lt-.5|0;return p}(j,$),ye=0;ye<64;++ye)_[R[ye]]=Ne[ye];var Pe=_[0]-V;V=_[0],Pe==0?re(J[0]):(re(J[w[ue=32767+Pe]]),re(f[ue]));for(var Ce=63;Ce>0&&_[Ce]==0;)Ce--;if(Ce==0)return re(oe),V;for(var Re,ge=1;ge<=Ce;){for(var H=ge;_[ge]==0&&ge<=Ce;)++ge;var We=ge-H;if(We>=16){Re=We>>4;for(var Ae=1;Ae<=Re;++Ae)re(le);We&=15}ue=32767+_[ge],re(Z[(We<<4)+w[ue]]),re(f[ue]),ge++}return Ce!=63&&re(oe),V}function me(j){j=Math.min(Math.max(j,1),100),s!=j&&(function($){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Z=a((V[J]*$+50)/100);Z=Math.min(Math.max(Z,1),255),o[R[J]]=Z}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var le=a((ue[oe]*$+50)/100);le=Math.min(Math.max(le,1),255),l[R[oe]]=le}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Pe=0;Pe<8;Pe++)for(var Ce=0;Ce<8;Ce++)c[ye]=1/(o[R[ye]]*Ne[Pe]*Ne[Ce]*8),h[ye]=1/(l[R[ye]]*Ne[Pe]*Ne[Ce]*8),ye++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,$){$&&me($),N=new Array,A=0,v=7,Q(65496),Q(65504),Q(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),Q(1),Q(1),q(0),q(0),function(){Q(65499),Q(132),q(0);for(var Te=0;Te<64;Te++)q(o[Te]);q(1);for(var ze=0;ze<64;ze++)q(l[ze])}(),function(Te,ze){Q(65472),Q(17),q(8),Q(ze),Q(Te),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(j.width,j.height),function(){Q(65476),Q(418),q(0);for(var Te=0;Te<16;Te++)q(k[Te+1]);for(var ze=0;ze<=11;ze++)q(O[ze]);q(16);for(var qe=0;qe<16;qe++)q(U[qe+1]);for(var Ge=0;Ge<=161;Ge++)q(E[Ge]);q(1);for(var He=0;He<16;He++)q(L[He+1]);for(var et=0;et<=11;et++)q(W[et]);q(17);for(var ut=0;ut<16;ut++)q(K[ut+1]);for(var Je=0;Je<=161;Je++)q(pe[Je])}(),Q(65498),Q(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var V=0,J=0,Z=0;A=0,v=7,this.encode.displayName="_encode_";for(var ue,oe,le,Ne,ye,Pe,Ce,Re,ge,H=j.data,We=j.width,Ae=j.height,be=4*We,Ee=0;Ee<Ae;){for(ue=0;ue<be;){for(ye=be*Ee+ue,Ce=-1,Re=0,ge=0;ge<64;ge++)Pe=ye+(Re=ge>>3)*be+(Ce=4*(7&ge)),Ee+Re>=Ae&&(Pe-=be*(Ee+1+Re-Ae)),ue+Ce>=be&&(Pe-=ue+Ce-be+4),oe=H[Pe++],le=H[Pe++],Ne=H[Pe++],b[ge]=(Y[oe]+Y[le+256>>0]+Y[Ne+512>>0]>>16)-128,S[ge]=(Y[oe+768>>0]+Y[le+1024>>0]+Y[Ne+1280>>0]>>16)-128,T[ge]=(Y[oe+1280>>0]+Y[le+1536>>0]+Y[Ne+1792>>0]>>16)-128;V=ie(b,c,V,e,n),J=ie(S,h,J,r,i),Z=ie(T,h,Z,r,i),ue+=32}Ee+=8}if(v>=0){var Fe=[];Fe[1]=v+1,Fe[0]=(1<<v+1)-1,re(Fe)}return Q(65497),new Uint8Array(N)},t=t||50,function(){for(var j=String.fromCharCode,$=0;$<256;$++)D[$]=j($)}(),e=de(k,O),r=de(L,W),n=de(U,E),i=de(K,pe),function(){for(var j=1,$=2,V=1;V<=15;V++){for(var J=j;J<$;J++)w[32767+J]=V,f[32767+J]=[],f[32767+J][1]=V,f[32767+J][0]=J;for(var Z=-($-1);Z<=-j;Z++)w[32767+Z]=V,f[32767+Z]=[],f[32767+Z][1]=V,f[32767+Z][0]=$-1+Z;j<<=1,$<<=1}}(),function(){for(var j=0;j<256;j++)Y[j]=19595*j,Y[j+256>>0]=38470*j,Y[j+512>>0]=7471*j+32768,Y[j+768>>0]=-11059*j,Y[j+1024>>0]=-21709*j,Y[j+1280>>0]=32768*j+8421375,Y[j+1536>>0]=-27439*j,Y[j+1792>>0]=-5329*j}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Gn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function T2(t){function e(k){if(!k)throw Error("assert :P")}function r(k,O,U){for(var E=0;4>E;E++)if(k[O+E]!=U.charCodeAt(E))return!0;return!1}function n(k,O,U,E,L){for(var W=0;W<L;W++)k[O+W]=U[E+W]}function i(k,O,U,E){for(var L=0;L<E;L++)k[O+L]=U}function s(k){return new Int32Array(k)}function a(k,O){for(var U=[],E=0;E<k;E++)U.push(new O);return U}function o(k,O){var U=[];return function E(L,W,K){for(var pe=K[W],de=0;de<pe&&(L.push(K.length>W+1?[]:new O),!(K.length<W+1));de++)E(L[de],W+1,K)}(U,0,k),U}var l=function(){var k=this;function O(u,d){for(var y=1<<d-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function U(u,d,y,x,P){e(!(x%y));do u[d+(x-=y)]=P;while(0<x)}function E(u,d,y,x,P){if(e(2328>=P),512>=P)var F=s(512);else if((F=s(P))==null)return 0;return function(I,M,B,z,ee,he){var fe,ae,_e=M,ve=1<<B,te=s(16),ne=s(16);for(e(ee!=0),e(z!=null),e(I!=null),e(0<B),ae=0;ae<ee;++ae){if(15<z[ae])return 0;++te[z[ae]]}if(te[0]==ee)return 0;for(ne[1]=0,fe=1;15>fe;++fe){if(te[fe]>1<<fe)return 0;ne[fe+1]=ne[fe]+te[fe]}for(ae=0;ae<ee;++ae)fe=z[ae],0<z[ae]&&(he[ne[fe]++]=ae);if(ne[15]==1)return(z=new L).g=0,z.value=he[0],U(I,_e,1,ve,z),ve;var xe,ke=-1,Se=ve-1,Be=0,Oe=1,Ke=1,Me=1<<B;for(ae=0,fe=1,ee=2;fe<=B;++fe,ee<<=1){if(Oe+=Ke<<=1,0>(Ke-=te[fe]))return 0;for(;0<te[fe];--te[fe])(z=new L).g=fe,z.value=he[ae++],U(I,_e+Be,ee,Me,z),Be=O(Be,fe)}for(fe=B+1,ee=2;15>=fe;++fe,ee<<=1){if(Oe+=Ke<<=1,0>(Ke-=te[fe]))return 0;for(;0<te[fe];--te[fe]){if(z=new L,(Be&Se)!=ke){for(_e+=Me,xe=1<<(ke=fe)-B;15>ke&&!(0>=(xe-=te[ke]));)++ke,xe<<=1;ve+=Me=1<<(xe=ke-B),I[M+(ke=Be&Se)].g=xe+B,I[M+ke].value=_e-M-ke}z.g=fe-B,z.value=he[ae++],U(I,_e+(Be>>B),ee,Me,z),Be=O(Be,fe)}}return Oe!=2*ne[15]-1?0:ve}(u,d,y,x,P,F)}function L(){this.value=this.g=0}function W(){this.value=this.g=0}function K(){this.G=a(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(xr,W)}function pe(u,d,y,x){e(u!=null),e(d!=null),e(2147483648>x),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=y,u.Jd=d,u.Yc=y+x,u.Zc=4<=x?y+x-4+1:y,ue(u)}function de(u,d){for(var y=0;0<d--;)y|=le(u,128)<<d;return y}function re(u,d){var y=de(u,d);return oe(u)?-y:y}function q(u,d,y,x){var P,F=0;for(e(u!=null),e(d!=null),e(4294967288>x),u.Sb=x,u.Ra=0,u.u=0,u.h=0,4<x&&(x=4),P=0;P<x;++P)F+=d[y+P]<<8*P;u.Ra=F,u.bb=x,u.oa=d,u.pa=y}function Q(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Za-8>>>0,++u.bb,u.u-=8;V(u)&&(u.h=1,u.u=0)}function ie(u,d){if(e(0<=d),!u.h&&d<=Xa){var y=$(u)&Qa[d];return u.u+=d,Q(u),y}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&Za-1)>>>0}function V(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Za}function J(u,d){u.u=d,u.h=V(u)}function Z(u){u.u>=Pl&&(e(u.u>=Pl),Q(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function oe(u){return de(u,1)}function le(u,d){var y=u.Ca;0>u.b&&ue(u);var x=u.b,P=y*d>>>8,F=(u.I>>>x>P)+0;for(F?(y-=P,u.I-=P+1<<x>>>0):y=P+1,x=y,P=0;256<=x;)P+=8,x>>=8;return x=7^P+Kr[x],u.b-=x,u.Ca=(y<<x)-1,F}function Ne(u,d,y){u[d+0]=y>>24&255,u[d+1]=y>>16&255,u[d+2]=y>>8&255,u[d+3]=y>>0&255}function ye(u,d){return u[d+0]<<0|u[d+1]<<8}function Pe(u,d){return ye(u,d)|u[d+2]<<16}function Ce(u,d){return ye(u,d)|ye(u,d+2)<<16}function Re(u,d){var y=1<<d;return e(u!=null),e(0<d),u.X=s(y),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function ge(u,d){e(u!=null),e(d!=null),e(u.Xa==d.Xa),n(d.X,0,u.X,0,1<<d.Xa)}function H(){this.X=[],this.Xa=this.Mb=0}function We(u,d,y,x){e(y!=null),e(x!=null);var P=y[0],F=x[0];return P==0&&(P=(u*F+d/2)/d),F==0&&(F=(d*P+u/2)/u),0>=P||0>=F?0:(y[0]=P,x[0]=F,1)}function Ae(u,d){return u+(1<<d)-1>>>d}function be(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function Ee(u,d){k[d]=function(y,x,P,F,I,M,B){var z;for(z=0;z<I;++z){var ee=k[u](M[B+z-1],P,F+z);M[B+z]=be(y[x+z],ee)}}}function Fe(){this.ud=this.hd=this.jd=0}function Te(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function ze(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function qe(u,d){return ze(u+(u-d+.5>>1))}function Ge(u,d,y){return Math.abs(d-y)-Math.abs(u-y)}function He(u,d,y,x,P,F,I){for(x=F[I-1],y=0;y<P;++y)F[I+y]=x=be(u[d+y],x)}function et(u,d,y,x,P){var F;for(F=0;F<y;++F){var I=u[d+F],M=I>>8&255,B=16711935&(B=(B=16711935&I)+((M<<16)+M));x[P+F]=(4278255360&I)+B>>>0}}function ut(u,d){d.jd=u>>0&255,d.hd=u>>8&255,d.ud=u>>16&255}function Je(u,d,y,x,P,F){var I;for(I=0;I<x;++I){var M=d[y+I],B=M>>>8,z=M,ee=255&(ee=(ee=M>>>16)+((u.jd<<24>>24)*(B<<24>>24)>>>5));z=255&(z=(z=z+((u.hd<<24>>24)*(B<<24>>24)>>>5))+((u.ud<<24>>24)*(ee<<24>>24)>>>5)),P[F+I]=(4278255360&M)+(ee<<16)+z}}function lt(u,d,y,x,P){k[d]=function(F,I,M,B,z,ee,he,fe,ae){for(B=he;B<fe;++B)for(he=0;he<ae;++he)z[ee++]=P(M[x(F[I++])])},k[u]=function(F,I,M,B,z,ee,he){var fe=8>>F.b,ae=F.Ea,_e=F.K[0],ve=F.w;if(8>fe)for(F=(1<<F.b)-1,ve=(1<<fe)-1;I<M;++I){var te,ne=0;for(te=0;te<ae;++te)te&F||(ne=x(B[z++])),ee[he++]=P(_e[ne&ve]),ne>>=fe}else k["VP8LMapColor"+y](B,z,_e,ve,ee,he,I,M,ae)}}function Ie(u,d,y,x,P){for(y=d+y;d<y;){var F=u[d++];x[P++]=F>>16&255,x[P++]=F>>8&255,x[P++]=F>>0&255}}function kt(u,d,y,x,P){for(y=d+y;d<y;){var F=u[d++];x[P++]=F>>16&255,x[P++]=F>>8&255,x[P++]=F>>0&255,x[P++]=F>>24&255}}function ct(u,d,y,x,P){for(y=d+y;d<y;){var F=(I=u[d++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;x[P++]=F,x[P++]=I}}function Wr(u,d,y,x,P){for(y=d+y;d<y;){var F=(I=u[d++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;x[P++]=F,x[P++]=I}}function At(u,d,y,x,P){for(y=d+y;d<y;){var F=u[d++];x[P++]=F>>0&255,x[P++]=F>>8&255,x[P++]=F>>16&255}}function Rt(u,d,y,x,P,F){if(F==0)for(y=d+y;d<y;)Ne(x,((F=u[d++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),P+=32;else n(x,P,u,d,y)}function ai(u,d){k[d][0]=k[u+"0"],k[d][1]=k[u+"1"],k[d][2]=k[u+"2"],k[d][3]=k[u+"3"],k[d][4]=k[u+"4"],k[d][5]=k[u+"5"],k[d][6]=k[u+"6"],k[d][7]=k[u+"7"],k[d][8]=k[u+"8"],k[d][9]=k[u+"9"],k[d][10]=k[u+"10"],k[d][11]=k[u+"11"],k[d][12]=k[u+"12"],k[d][13]=k[u+"13"],k[d][14]=k[u+"0"],k[d][15]=k[u+"0"]}function vt(u){return u==vf||u==wf||u==jc||u==bf}function Qs(){this.eb=[],this.size=this.A=this.fb=0}function qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function On(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qs,this.f.kb=new qt,this.sd=null}function Ci(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function wt(u,d){var y=u.T,x=d.ba.f.RGBA,P=x.eb,F=x.fb+u.ka*x.A,I=An[d.ba.S],M=u.y,B=u.O,z=u.f,ee=u.N,he=u.ea,fe=u.W,ae=d.cc,_e=d.dc,ve=d.Mc,te=d.Nc,ne=u.ka,xe=u.ka+u.T,ke=u.U,Se=ke+1>>1;for(ne==0?I(M,B,null,null,z,ee,he,fe,z,ee,he,fe,P,F,null,null,ke):(I(d.ec,d.fc,M,B,ae,_e,ve,te,z,ee,he,fe,P,F-x.A,P,F,ke),++y);ne+2<xe;ne+=2)ae=z,_e=ee,ve=he,te=fe,ee+=u.Rc,fe+=u.Rc,F+=2*x.A,I(M,(B+=2*u.fa)-u.fa,M,B,ae,_e,ve,te,z,ee,he,fe,P,F-x.A,P,F,ke);return B+=u.fa,u.j+xe<u.o?(n(d.ec,d.fc,M,B,ke),n(d.cc,d.dc,z,ee,Se),n(d.Mc,d.Nc,he,fe,Se),y--):1&xe||I(M,B,null,null,z,ee,he,fe,z,ee,he,fe,P,F+x.A,null,null,ke),y}function Xs(u,d,y){var x=u.F,P=[u.J];if(x!=null){var F=u.U,I=d.ba.S,M=I==Ac||I==jc;d=d.ba.f.RGBA;var B=[0],z=u.ka;B[0]=u.T,u.Kb&&(z==0?--B[0]:(--z,P[0]-=u.width),u.j+u.ka+u.T==u.o&&(B[0]=u.o-u.j-z));var ee=d.eb;z=d.fb+z*d.A,u=Lt(x,P[0],u.width,F,B,ee,z+(M?0:3),d.A),e(y==B),u&&vt(I)&&Nn(ee,z,M,F,B,d.A)}return 0}function br(u){var d=u.ma,y=d.ba.S,x=11>y,P=y==Nc||y==kc||y==Ac||y==yf||y==12||vt(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Al(d.Oa,u,P?11:12))return 0;if(P&&vt(y)&&je(),u.da)alert("todo:use_scaling");else{if(x){if(d.Ib=rt,u.Kb){if(y=u.U+1>>1,d.memory=s(u.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=wt,je()}}else alert("todo:EmitYUV");P&&(d.Jb=Xs,x&&ce())}if(x&&!d1){for(u=0;256>u;++u)ib[u]=89858*(u-128)+Cc>>Pc,ob[u]=-22014*(u-128)+Cc,ab[u]=-45773*(u-128),sb[u]=113618*(u-128)+Cc>>Pc;for(u=Ol;u<_f;++u)d=76283*(u-16)+Cc>>Pc,lb[u-Ol]=ln(d,255),ub[u-Ol]=ln(d+8>>4,15);d1=1}return 1}function oi(u){var d=u.ma,y=u.U,x=u.T;return e(!(1&u.ka)),0>=y||0>=x?0:(y=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,y),d.Dc+=y,1)}function li(u){u.ma.memory=null}function Ye(u,d,y,x){return ie(u,8)!=47?0:(d[0]=ie(u,14)+1,y[0]=ie(u,14)+1,x[0]=ie(u,1),ie(u,3)!=0?0:!u.h)}function Rn(u,d){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ie(d,y)+1}function ui(u,d){return 120<d?d-120:1<=(y=((y=Hw[d-1])>>4)*u+(8-(15&y)))?y:1;var y}function Vr(u,d,y){var x=$(y),P=u[d+=255&x].g-8;return 0<P&&(J(y,y.u+8),x=$(y),d+=u[d].value,d+=x&(1<<P)-1),J(y,y.u+u[d].g),u[d].value}function lr(u,d,y){return y.g+=u.g,y.value+=u.value<<d>>>0,e(8>=y.g),u.g}function rr(u,d,y){var x=u.xc;return e((d=x==0?0:u.vc[u.md*(y>>x)+(d>>x)])<u.Wb),u.Ya[d]}function on(u,d,y,x){var P=u.ab,F=u.c*d,I=u.C;d=I+d;var M=y,B=x;for(x=u.Ta,y=u.Ua;0<P--;){var z=u.gc[P],ee=I,he=d,fe=M,ae=B,_e=(B=x,M=y,z.Ea);switch(e(ee<he),e(he<=z.nc),z.hc){case 2:yc(fe,ae,(he-ee)*_e,B,M);break;case 0:var ve=ee,te=he,ne=B,xe=M,ke=(Me=z).Ea;ve==0&&(gf(fe,ae,null,null,1,ne,xe),He(fe,ae+1,0,0,ke-1,ne,xe+1),ae+=ke,xe+=ke,++ve);for(var Se=1<<Me.b,Be=Se-1,Oe=Ae(ke,Me.b),Ke=Me.K,Me=Me.w+(ve>>Me.b)*Oe;ve<te;){var yt=Ke,bt=Me,gt=1;for(Cl(fe,ae,ne,xe-ke,1,ne,xe);gt<ke;){var ft=(gt&~Be)+Se;ft>ke&&(ft=ke),(0,us[yt[bt++]>>8&15])(fe,ae+ +gt,ne,xe+gt-ke,ft-gt,ne,xe+gt),gt=ft}ae+=ke,xe+=ke,++ve&Be||(Me+=Oe)}he!=z.nc&&n(B,M-_e,B,M+(he-ee-1)*_e,_e);break;case 1:for(_e=fe,te=ae,ke=(fe=z.Ea)-(xe=fe&~(ne=(ae=1<<z.b)-1)),ve=Ae(fe,z.b),Se=z.K,z=z.w+(ee>>z.b)*ve;ee<he;){for(Be=Se,Oe=z,Ke=new Fe,Me=te+xe,yt=te+fe;te<Me;)ut(Be[Oe++],Ke),ia(Ke,_e,te,ae,B,M),te+=ae,M+=ae;te<yt&&(ut(Be[Oe++],Ke),ia(Ke,_e,te,ke,B,M),te+=ke,M+=ke),++ee&ne||(z+=ve)}break;case 3:if(fe==B&&ae==M&&0<z.b){for(te=B,fe=_e=M+(he-ee)*_e-(xe=(he-ee)*Ae(z.Ea,z.b)),ae=B,ne=M,ve=[],xe=(ke=xe)-1;0<=xe;--xe)ve[xe]=ae[ne+xe];for(xe=ke-1;0<=xe;--xe)te[fe+xe]=ve[xe];xn(z,ee,he,B,_e,B,M)}else xn(z,ee,he,fe,ae,B,M)}M=x,B=y}B!=y&&n(x,y,M,B,F)}function Ia(u,d){var y=u.V,x=u.Ba+u.c*u.C,P=d-u.C;if(e(d<=u.l.o),e(16>=P),0<P){var F=u.l,I=u.Ta,M=u.Ua,B=F.width;if(on(u,P,y,x),P=M=[M],e((y=u.C)<(x=d)),e(F.v<F.va),x>F.o&&(x=F.o),y<F.j){var z=F.j-y;y=F.j,P[0]+=z*B}if(y>=x?y=0:(P[0]+=4*F.v,F.ka=y-F.j,F.U=F.va-F.v,F.T=x-y,y=1),y){if(M=M[0],11>(y=u.ca).S){var ee=y.f.RGBA,he=(x=y.S,P=F.U,F=F.T,z=ee.eb,ee.A),fe=F;for(ee=ee.fb+u.Ma*ee.A;0<fe--;){var ae=I,_e=M,ve=P,te=z,ne=ee;switch(x){case _c:Jr(ae,_e,ve,te,ne);break;case Nc:$r(ae,_e,ve,te,ne);break;case vf:$r(ae,_e,ve,te,ne),Nn(te,ne,0,ve,1,0);break;case t1:Ii(ae,_e,ve,te,ne);break;case kc:Rt(ae,_e,ve,te,ne,1);break;case wf:Rt(ae,_e,ve,te,ne,1),Nn(te,ne,0,ve,1,0);break;case Ac:Rt(ae,_e,ve,te,ne,0);break;case jc:Rt(ae,_e,ve,te,ne,0),Nn(te,ne,1,ve,1,0);break;case yf:cs(ae,_e,ve,te,ne);break;case bf:cs(ae,_e,ve,te,ne),Ct(te,ne,ve,1,0);break;case r1:Fi(ae,_e,ve,te,ne);break;default:e(0)}M+=B,ee+=he}u.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=y.height)}}u.C=d,e(u.C<=u.i)}function Li(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var y=u.Ya[d].G,x=u.Ya[d].H;if(0<y[1][x[1]+0].g||0<y[2][x[2]+0].g||0<y[3][x[3]+0].g)return 0}return 1}function Mn(u,d,y,x,P,F){if(u.Z!=0){var I=u.qd,M=u.rd;for(e(ps[u.Z]!=null);d<y;++d)ps[u.Z](I,M,x,P,x,P,F),I=x,M=P,P+=F;u.qd=I,u.rd=M}}function $n(u,d){var y=u.l.ma,x=y.Z==0||y.Z==1?u.l.j:u.C;if(x=u.C<x?x:u.C,e(d<=u.l.o),d>x){var P=u.l.width,F=y.ca,I=y.tb+P*x,M=u.V,B=u.Ba+u.c*x,z=u.gc;e(u.ab==1),e(z[0].hc==3),vc(z[0],x,d,M,B,F,I),Mn(y,x,d,F,I,P)}u.C=u.Ma=d}function Bn(u,d,y,x,P,F,I){var M=u.$/x,B=u.$%x,z=u.m,ee=u.s,he=y+u.$,fe=he;P=y+x*P;var ae=y+x*F,_e=280+ee.ua,ve=u.Pb?M:16777216,te=0<ee.ua?ee.Wa:null,ne=ee.wc,xe=he<ae?rr(ee,B,M):null;e(u.C<F),e(ae<=P);var ke=!1;e:for(;;){for(;ke||he<ae;){var Se=0;if(M>=ve){var Be=he-y;e((ve=u).Pb),ve.wd=ve.m,ve.xd=Be,0<ve.s.ua&&ge(ve.s.Wa,ve.s.vb),ve=M+Vw}if(B&ne||(xe=rr(ee,B,M)),e(xe!=null),xe.Qb&&(d[he]=xe.qb,ke=!0),!ke)if(Z(z),xe.jc){Se=z,Be=d;var Oe=he,Ke=xe.pd[$(Se)&xr-1];e(xe.jc),256>Ke.g?(J(Se,Se.u+Ke.g),Be[Oe]=Ke.value,Se=0):(J(Se,Se.u+Ke.g-256),e(256<=Ke.value),Se=Ke.value),Se==0&&(ke=!0)}else Se=Vr(xe.G[0],xe.H[0],z);if(z.h)break;if(ke||256>Se){if(!ke)if(xe.nd)d[he]=(xe.qb|Se<<8)>>>0;else{if(Z(z),ke=Vr(xe.G[1],xe.H[1],z),Z(z),Be=Vr(xe.G[2],xe.H[2],z),Oe=Vr(xe.G[3],xe.H[3],z),z.h)break;d[he]=(Oe<<24|ke<<16|Se<<8|Be)>>>0}if(ke=!1,++he,++B>=x&&(B=0,++M,I!=null&&M<=F&&!(M%16)&&I(u,M),te!=null))for(;fe<he;)Se=d[fe++],te.X[(506832829*Se&4294967295)>>>te.Mb]=Se}else if(280>Se){if(Se=Rn(Se-256,z),Be=Vr(xe.G[4],xe.H[4],z),Z(z),Be=ui(x,Be=Rn(Be,z)),z.h)break;if(he-y<Be||P-he<Se)break e;for(Oe=0;Oe<Se;++Oe)d[he+Oe]=d[he+Oe-Be];for(he+=Se,B+=Se;B>=x;)B-=x,++M,I!=null&&M<=F&&!(M%16)&&I(u,M);if(e(he<=P),B&ne&&(xe=rr(ee,B,M)),te!=null)for(;fe<he;)Se=d[fe++],te.X[(506832829*Se&4294967295)>>>te.Mb]=Se}else{if(!(Se<_e))break e;for(ke=Se-280,e(te!=null);fe<he;)Se=d[fe++],te.X[(506832829*Se&4294967295)>>>te.Mb]=Se;Se=he,e(!(ke>>>(Be=te).Xa)),d[Se]=Be.X[ke],ke=!0}ke||e(z.h==V(z))}if(u.Pb&&z.h&&he<P)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ge(u.s.vb,u.s.Wa);else{if(z.h)break e;I!=null&&I(u,M>F?F:M),u.a=0,u.$=he-y}return 1}return u.a=3,0}function ci(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,e(u!=null)}function bn(){var u=new pf;return u==null?null:(u.a=0,u.xb=s1,ai("Predictor","VP8LPredictors"),ai("Predictor","VP8LPredictors_C"),ai("PredictorAdd","VP8LPredictorsAdd"),ai("PredictorAdd","VP8LPredictorsAdd_C"),yc=et,ia=Je,Jr=Ie,$r=kt,cs=ct,Fi=Wr,Ii=At,k.VP8LMapColor32b=eo,k.VP8LMapColor8b=wc,u)}function di(u,d,y,x,P){var F=1,I=[u],M=[d],B=x.m,z=x.s,ee=null,he=0;e:for(;;){if(y)for(;F&&ie(B,1);){var fe=I,ae=M,_e=x,ve=1,te=_e.m,ne=_e.gc[_e.ab],xe=ie(te,2);if(_e.Oc&1<<xe)F=0;else{switch(_e.Oc|=1<<xe,ne.hc=xe,ne.Ea=fe[0],ne.nc=ae[0],ne.K=[null],++_e.ab,e(4>=_e.ab),xe){case 0:case 1:ne.b=ie(te,3)+2,ve=di(Ae(ne.Ea,ne.b),Ae(ne.nc,ne.b),0,_e,ne.K),ne.K=ne.K[0];break;case 3:var ke,Se=ie(te,8)+1,Be=16<Se?0:4<Se?1:2<Se?2:3;if(fe[0]=Ae(ne.Ea,Be),ne.b=Be,ke=ve=di(Se,1,0,_e,ne.K)){var Oe,Ke=Se,Me=ne,yt=1<<(8>>Me.b),bt=s(yt);if(bt==null)ke=0;else{var gt=Me.K[0],ft=Me.w;for(bt[0]=Me.K[0][0],Oe=1;Oe<1*Ke;++Oe)bt[Oe]=be(gt[ft+Oe],bt[Oe-1]);for(;Oe<4*yt;++Oe)bt[Oe]=0;Me.K[0]=null,Me.K[0]=bt,ke=1}}ve=ke;break;case 2:break;default:e(0)}F=ve}}if(I=I[0],M=M[0],F&&ie(B,1)&&!(F=1<=(he=ie(B,4))&&11>=he)){x.a=3;break e}var jt;if(jt=F)t:{var Nt,at,ir,Yr=x,sr=I,Qr=M,xt=he,cn=y,dn=Yr.m,pr=Yr.s,Sr=[null],Dr=1,jn=0,gi=Ww[xt];r:for(;;){if(cn&&ie(dn,1)){var gr=ie(dn,3)+2,$i=Ae(sr,gr),ua=Ae(Qr,gr),so=$i*ua;if(!di($i,ua,0,Yr,Sr))break r;for(Sr=Sr[0],pr.xc=gr,Nt=0;Nt<so;++Nt){var gs=Sr[Nt]>>8&65535;Sr[Nt]=gs,gs>=Dr&&(Dr=gs+1)}}if(dn.h)break r;for(at=0;5>at;++at){var Vt=n1[at];!at&&0<xt&&(Vt+=1<<xt),jn<Vt&&(jn=Vt)}var Nf=a(Dr*gi,L),p1=Dr,g1=a(p1,K);if(g1==null)var Ec=null;else e(65536>=p1),Ec=g1;var Rl=s(jn);if(Ec==null||Rl==null||Nf==null){Yr.a=1;break r}var Tc=Nf;for(Nt=ir=0;Nt<Dr;++Nt){var Hn=Ec[Nt],ao=Hn.G,oo=Hn.H,m1=0,Fc=1,y1=0;for(at=0;5>at;++at){Vt=n1[at],ao[at]=Tc,oo[at]=ir,!at&&0<xt&&(Vt+=1<<xt);i:{var Ic,kf=Vt,Oc=Yr,Ml=Rl,hb=Tc,fb=ir,Af=0,ms=Oc.m,pb=ie(ms,1);if(i(Ml,0,0,kf),pb){var gb=ie(ms,1)+1,mb=ie(ms,1),v1=ie(ms,mb==0?1:8);Ml[v1]=1,gb==2&&(Ml[v1=ie(ms,8)]=1);var Rc=1}else{var w1=s(19),b1=ie(ms,4)+4;if(19<b1){Oc.a=3;var Mc=0;break i}for(Ic=0;Ic<b1;++Ic)w1[qw[Ic]]=ie(ms,3);var jf=void 0,$l=void 0,x1=Oc,yb=w1,$c=kf,S1=Ml,Pf=0,ys=x1.m,_1=8,N1=a(128,L);n:for(;E(N1,0,7,yb,19);){if(ie(ys,1)){var vb=2+2*ie(ys,3);if((jf=2+ie(ys,vb))>$c)break n}else jf=$c;for($l=0;$l<$c&&jf--;){Z(ys);var k1=N1[0+(127&$(ys))];J(ys,ys.u+k1.g);var lo=k1.value;if(16>lo)S1[$l++]=lo,lo!=0&&(_1=lo);else{var wb=lo==16,A1=lo-16,bb=Uw[A1],j1=ie(ys,Dw[A1])+bb;if($l+j1>$c)break n;for(var xb=wb?_1:0;0<j1--;)S1[$l++]=xb}}Pf=1;break n}Pf||(x1.a=3),Rc=Pf}(Rc=Rc&&!ms.h)&&(Af=E(hb,fb,8,Ml,kf)),Rc&&Af!=0?Mc=Af:(Oc.a=3,Mc=0)}if(Mc==0)break r;if(Fc&&zw[at]==1&&(Fc=Tc[ir].g==0),m1+=Tc[ir].g,ir+=Mc,3>=at){var Bl,Cf=Rl[0];for(Bl=1;Bl<Vt;++Bl)Rl[Bl]>Cf&&(Cf=Rl[Bl]);y1+=Cf}}if(Hn.nd=Fc,Hn.Qb=0,Fc&&(Hn.qb=(ao[3][oo[3]+0].value<<24|ao[1][oo[1]+0].value<<16|ao[2][oo[2]+0].value)>>>0,m1==0&&256>ao[0][oo[0]+0].value&&(Hn.Qb=1,Hn.qb+=ao[0][oo[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>y1,Hn.jc){var Bc,Bi=Hn;for(Bc=0;Bc<xr;++Bc){var vs=Bc,ws=Bi.pd[vs],Dc=Bi.G[0][Bi.H[0]+vs];256<=Dc.value?(ws.g=Dc.g+256,ws.value=Dc.value):(ws.g=0,ws.value=0,vs>>=lr(Dc,8,ws),vs>>=lr(Bi.G[1][Bi.H[1]+vs],16,ws),vs>>=lr(Bi.G[2][Bi.H[2]+vs],0,ws),lr(Bi.G[3][Bi.H[3]+vs],24,ws))}}}pr.vc=Sr,pr.Wb=Dr,pr.Ya=Ec,pr.yc=Nf,jt=1;break t}jt=0}if(!(F=jt)){x.a=3;break e}if(0<he){if(z.ua=1<<he,!Re(z.Wa,he)){x.a=1,F=0;break e}}else z.ua=0;var Lf=x,P1=I,Sb=M,Ef=Lf.s,Tf=Ef.xc;if(Lf.c=P1,Lf.i=Sb,Ef.md=Ae(P1,Tf),Ef.wc=Tf==0?-1:(1<<Tf)-1,y){x.xb=Zw;break e}if((ee=s(I*M))==null){x.a=1,F=0;break e}F=(F=Bn(x,ee,0,I,M,M,null))&&!B.h;break e}return F?(P!=null?P[0]=ee:(e(ee==null),e(y)),x.$=0,y||ci(z)):ci(z),F}function Zs(u,d){var y=u.c*u.i,x=y+d+16*d;return e(u.c<=d),u.V=s(x),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+d,1)}function Oa(u,d){var y=u.C,x=d-y,P=u.V,F=u.Ba+u.c*y;for(e(d<=u.l.o);0<x;){var I=16<x?16:x,M=u.l.ma,B=u.l.width,z=B*I,ee=M.ca,he=M.tb+B*y,fe=u.Ta,ae=u.Ua;on(u,I,P,F),Qt(fe,ae,ee,he,z),Mn(M,y,y+I,ee,he,B),x-=I,P+=I*u.c,y+=I}e(y==d),u.C=u.Ma=d}function Ra(){this.ub=this.yd=this.td=this.Rb=0}function Ma(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $a(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qu(){this.Yb=function(){var u=[];return function d(y,x,P){for(var F=P[x],I=0;I<F&&(y.push(P.length>x+1?[]:0),!(P.length<x+1));I++)d(y[I],x+1,P)}(u,0,[3,11]),u}()}function Hh(){this.jb=s(3),this.Wc=o([4,8],Qu),this.Xc=o([4,17],Qu)}function Wh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ba(){this.ld=this.La=this.dd=this.tc=0}function Xu(){this.Na=this.la=0}function Vh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ba),this.Y=0,this.ya=Array(new cl),this.aa=0,this.l=new Da}function Zu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Kh(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Ra,this.Kc=new Ma,this.ed=new Wh,this.Qa=new $a,this.Ic=this.$c=this.Aa=0,this.D=new Gh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,me),this.ia=0,this.pb=a(4,Vh),this.Pa=new Hh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zu),this.Hd=0,this.rb=Array(new Xu),this.sb=0,this.wa=Array(new Ba),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cl),this.L=this.aa=0,this.gd=o([4,2],Ba),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Da(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jh(){var u=new Kh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Il||(Il=rc)),u}function Jt(u,d,y){return u.a==0&&(u.a=d,u.sc=y,u.cb=0),0}function ec(u,d,y){return 3<=y&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function tc(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return Jt(u,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,x=d.w,P=d.ha;if(4>P)return Jt(u,7,"Truncated header.");var F=y[x+0]|y[x+1]<<8|y[x+2]<<16,I=u.Od;if(I.Rb=!(1&F),I.td=F>>1&7,I.yd=F>>4&1,I.ub=F>>5,3<I.td)return Jt(u,3,"Incorrect keyframe parameters.");if(!I.yd)return Jt(u,4,"Frame not displayable.");x+=3,P-=3;var M=u.Kc;if(I.Rb){if(7>P)return Jt(u,7,"cannot parse picture header");if(!ec(y,x,P))return Jt(u,3,"Bad code word");M.c=16383&(y[x+4]<<8|y[x+3]),M.Td=y[x+4]>>6,M.i=16383&(y[x+6]<<8|y[x+5]),M.Ud=y[x+6]>>6,x+=7,P-=7,u.za=M.c+15>>4,u.Ub=M.i+15>>4,d.width=M.c,d.height=M.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((F=u.Pa).jb,0,255,F.jb.length),e((F=u.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(I.ub>P)return Jt(u,7,"bad partition length");pe(F=u.m,y,x,I.ub),x+=I.ub,P-=I.ub,I.Rb&&(M.Ld=oe(F),M.Kd=oe(F)),M=u.Qa;var B,z=u.Pa;if(e(F!=null),e(M!=null),M.Cb=oe(F),M.Cb){if(M.Bb=oe(F),oe(F)){for(M.Fb=oe(F),B=0;4>B;++B)M.Zb[B]=oe(F)?re(F,7):0;for(B=0;4>B;++B)M.Lb[B]=oe(F)?re(F,6):0}if(M.Bb)for(B=0;3>B;++B)z.jb[B]=oe(F)?de(F,8):255}else M.Bb=0;if(F.Ka)return Jt(u,3,"cannot parse segment header");if((M=u.ed).zd=oe(F),M.Tb=de(F,6),M.wb=de(F,3),M.Pc=oe(F),M.Pc&&oe(F)){for(z=0;4>z;++z)oe(F)&&(M.vd[z]=re(F,6));for(z=0;4>z;++z)oe(F)&&(M.od[z]=re(F,6))}if(u.L=M.Tb==0?0:M.zd?1:2,F.Ka)return Jt(u,3,"cannot parse filter header");var ee=P;if(P=B=x,x=B+ee,M=ee,u.Xb=(1<<de(u.m,2))-1,ee<3*(z=u.Xb))y=7;else{for(B+=3*z,M-=3*z,ee=0;ee<z;++ee){var he=y[P+0]|y[P+1]<<8|y[P+2]<<16;he>M&&(he=M),pe(u.Jc[+ee],y,B,he),B+=he,M-=he,P+=3}pe(u.Jc[+z],y,B,M),y=B<x?0:5}if(y!=0)return Jt(u,y,"cannot parse partitions");for(y=de(B=u.m,7),P=oe(B)?re(B,4):0,x=oe(B)?re(B,4):0,M=oe(B)?re(B,4):0,z=oe(B)?re(B,4):0,B=oe(B)?re(B,4):0,ee=u.Qa,he=0;4>he;++he){if(ee.Cb){var fe=ee.Zb[he];ee.Fb||(fe+=y)}else{if(0<he){u.pb[he]=u.pb[0];continue}fe=y}var ae=u.pb[he];ae.Sc[0]=xf[ln(fe+P,127)],ae.Sc[1]=Sf[ln(fe+0,127)],ae.Eb[0]=2*xf[ln(fe+x,127)],ae.Eb[1]=101581*Sf[ln(fe+M,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=xf[ln(fe+z,117)],ae.Qc[1]=Sf[ln(fe+B,127)],ae.lc=fe+B}if(!I.Rb)return Jt(u,4,"Not a key frame.");for(oe(F),I=u.Pa,y=0;4>y;++y){for(P=0;8>P;++P)for(x=0;3>x;++x)for(M=0;11>M;++M)z=le(F,Qw[y][P][x][M])?de(F,8):Jw[y][P][x][M],I.Wc[y][P].Yb[x][M]=z;for(P=0;17>P;++P)I.Xc[y][P]=I.Wc[y][Xw[P]]}return u.kc=oe(F),u.kc&&(u.Bd=de(F,8)),u.cb=1}function rc(u,d,y,x,P,F,I){var M=d[P].Yb[y];for(y=0;16>P;++P){if(!le(u,M[y+0]))return P;for(;!le(u,M[y+1]);)if(M=d[++P].Yb[0],y=0,P==16)return 16;var B=d[P+1].Yb;if(le(u,M[y+2])){var z=u,ee=0;if(le(z,(fe=M)[(he=y)+3]))if(le(z,fe[he+6])){for(M=0,he=2*(ee=le(z,fe[he+8]))+(fe=le(z,fe[he+9+ee])),ee=0,fe=Gw[he];fe[M];++M)ee+=ee+le(z,fe[M]);ee+=3+(8<<he)}else le(z,fe[he+7])?(ee=7+2*le(z,165),ee+=le(z,145)):ee=5+le(z,159);else ee=le(z,fe[he+4])?3+le(z,fe[he+5]):2;M=B[2]}else ee=1,M=B[1];B=I+Kw[P],0>(z=u).b&&ue(z);var he,fe=z.b,ae=(he=z.Ca>>1)-(z.I>>fe)>>31;--z.b,z.Ca+=ae,z.Ca|=1,z.I-=(he+1&ae)<<fe,F[B]=((ee^ae)-ae)*x[(0<P)+0]}return 16}function dl(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Yh(u,d){if(u==null)return 0;if(d==null)return Jt(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!tc(u,d))return 0;if(e(u.cb),d.ac==null||d.ac(d)){d.ob&&(u.L=0);var y=Lc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=d.v-y>>4,u.zb=d.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=d.o+15+y>>4,u.Hb=d.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var x=u.ed;for(y=0;4>y;++y){var P;if(u.Qa.Cb){var F=u.Qa.Lb[y];u.Qa.Fb||(F+=x.Tb)}else F=x.Tb;for(P=0;1>=P;++P){var I=u.gd[y][P],M=F;if(x.Pc&&(M+=x.vd[0],P&&(M+=x.od[0])),0<(M=0>M?0:63<M?63:M)){var B=M;0<x.wb&&(B=4<x.wb?B>>2:B>>1)>9-x.wb&&(B=9-x.wb),1>B&&(B=1),I.dd=B,I.tc=2*M+B,I.ld=40<=M?2:15<=M?1:0}else I.tc=0;I.La=P}}}y=0}else Jt(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=db);e:{y=u.Ic,x=4*(B=u.za);var z=32*B,ee=B+1,he=0<u.L?B*(0<u.Aa?2:1):0,fe=(u.Aa==2?2:1)*B;if((I=x+832+(P=3*(16*y+Lc[u.L])/2*z)+(F=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=I)y=0;else{if(I>u.Vb){if(u.Vb=0,u.Ec=s(I),u.Fc=0,u.Ec==null){y=Jt(u,1,"no memory during frame initialization.");break e}u.Vb=I}I=u.Ec,M=u.Fc,u.Ac=I,u.Bc=M,M+=x,u.Gd=a(z,Zu),u.Hd=0,u.rb=a(ee+1,Xu),u.sb=1,u.wa=he?a(he,Ba):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=B),e(!0),u.oc=I,u.pc=M,M+=832,u.ya=a(fe,cl),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=B),u.R=16*B,u.B=8*B,B=(z=Lc[u.L])*u.R,z=z/2*u.B,u.sa=I,u.ta=M+B,u.qa=u.sa,u.ra=u.ta+16*y*u.R+z,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+z,u.$c=0,M+=P,u.mb=F?I:null,u.nb=F?M:null,e(M+F<=u.Fc+u.Vb),dl(u),i(u.Ac,u.Bc,0,x),y=1}}if(y){if(d.ka=0,d.y=u.sa,d.O=u.ta,d.f=u.qa,d.N=u.ra,d.ea=u.Ha,d.Vd=u.Ia,d.fa=u.R,d.Rc=u.B,d.F=null,d.J=0,!xc){for(y=-255;255>=y;++y)ur[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Ri[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Fl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)io[255+y]=0>y?0:255<y?255:y;xc=1}to=Zh,Oi=Qh,Ll=ic,Br=Xh,Sn=sc,Yt=nc,ro=yl,bc=ra,El=ff,sa=vl,aa=hf,ds=Va,oa=wl,no=pc,la=fc,hs=fi,Tl=Ti,_n=df,qn[0]=hi,qn[1]=ef,qn[2]=sf,qn[3]=af,qn[4]=lc,qn[5]=Ha,qn[6]=uc,qn[7]=pl,qn[8]=lf,qn[9]=of,fs[0]=ac,fs[1]=rf,fs[2]=Ei,fs[3]=za,fs[4]=Ar,fs[5]=nf,fs[6]=oc,Mi[0]=as,Mi[1]=tf,Mi[2]=uf,Mi[3]=gl,Mi[4]=ta,Mi[5]=cf,Mi[6]=ml,y=1}else y=0}y&&(y=function(ae,_e){for(ae.M=0;ae.M<ae.Va;++ae.M){var ve,te=ae.Jc[ae.M&ae.Xb],ne=ae.m,xe=ae;for(ve=0;ve<xe.za;++ve){var ke=ne,Se=xe,Be=Se.Ac,Oe=Se.Bc+4*ve,Ke=Se.zc,Me=Se.ya[Se.aa+ve];if(Se.Qa.Bb?Me.$b=le(ke,Se.Pa.jb[0])?2+le(ke,Se.Pa.jb[2]):le(ke,Se.Pa.jb[1]):Me.$b=0,Se.kc&&(Me.Ad=le(ke,Se.Bd)),Me.Za=!le(ke,145)+0,Me.Za){var yt=Me.Ob,bt=0;for(Se=0;4>Se;++Se){var gt,ft=Ke[0+Se];for(gt=0;4>gt;++gt){ft=Yw[Be[Oe+gt]][ft];for(var jt=i1[le(ke,ft[0])];0<jt;)jt=i1[2*jt+le(ke,ft[jt])];ft=-jt,Be[Oe+gt]=ft}n(yt,bt,Be,Oe,4),bt+=4,Ke[0+Se]=ft}}else ft=le(ke,156)?le(ke,128)?1:3:le(ke,163)?2:0,Me.Ob[0]=ft,i(Be,Oe,ft,4),i(Ke,0,ft,4);Me.Dd=le(ke,142)?le(ke,114)?le(ke,183)?1:3:2:0}if(xe.m.Ka)return Jt(ae,7,"Premature end-of-partition0 encountered.");for(;ae.ja<ae.za;++ae.ja){if(xe=te,ke=(ne=ae).rb[ne.sb-1],Be=ne.rb[ne.sb+ne.ja],ve=ne.ya[ne.aa+ne.ja],Oe=ne.kc?ve.Ad:0)ke.la=Be.la=0,ve.Za||(ke.Na=Be.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var Nt,at;if(ke=Be,Be=xe,Oe=ne.Pa.Xc,Ke=ne.ya[ne.aa+ne.ja],Me=ne.pb[Ke.$b],Se=Ke.ad,yt=0,bt=ne.rb[ne.sb-1],ft=gt=0,i(Se,yt,0,384),Ke.Za)var ir=0,Yr=Oe[3];else{jt=s(16);var sr=ke.Na+bt.Na;if(sr=Il(Be,Oe[1],sr,Me.Eb,0,jt,0),ke.Na=bt.Na=(0<sr)+0,1<sr)to(jt,0,Se,yt);else{var Qr=jt[0]+3>>3;for(jt=0;256>jt;jt+=16)Se[yt+jt]=Qr}ir=1,Yr=Oe[0]}var xt=15&ke.la,cn=15&bt.la;for(jt=0;4>jt;++jt){var dn=1&cn;for(Qr=at=0;4>Qr;++Qr)xt=xt>>1|(dn=(sr=Il(Be,Yr,sr=dn+(1&xt),Me.Sc,ir,Se,yt))>ir)<<7,at=at<<2|(3<sr?3:1<sr?2:Se[yt+0]!=0),yt+=16;xt>>=4,cn=cn>>1|dn<<7,gt=(gt<<8|at)>>>0}for(Yr=xt,ir=cn>>4,Nt=0;4>Nt;Nt+=2){for(at=0,xt=ke.la>>4+Nt,cn=bt.la>>4+Nt,jt=0;2>jt;++jt){for(dn=1&cn,Qr=0;2>Qr;++Qr)sr=dn+(1&xt),xt=xt>>1|(dn=0<(sr=Il(Be,Oe[2],sr,Me.Qc,0,Se,yt)))<<3,at=at<<2|(3<sr?3:1<sr?2:Se[yt+0]!=0),yt+=16;xt>>=2,cn=cn>>1|dn<<5}ft|=at<<4*Nt,Yr|=xt<<4<<Nt,ir|=(240&cn)<<Nt}ke.la=Yr,bt.la=ir,Ke.Hc=gt,Ke.Gc=ft,Ke.ia=43690&ft?0:Me.ia,Oe=!(gt|ft)}if(0<ne.L&&(ne.wa[ne.Y+ne.ja]=ne.gd[ve.$b][ve.Za],ne.wa[ne.Y+ne.ja].La|=!Oe),xe.Ka)return Jt(ae,7,"Premature end-of-file encountered.")}if(dl(ae),ne=_e,xe=1,ve=(te=ae).D,ke=0<te.L&&te.M>=te.zb&&te.M<=te.Va,te.Aa==0)e:{if(ve.M=te.M,ve.uc=ke,kl(te,ve),xe=1,ve=(at=te.D).Nb,ke=(ft=Lc[te.L])*te.R,Be=ft/2*te.B,jt=16*ve*te.R,Qr=8*ve*te.B,Oe=te.sa,Ke=te.ta-ke+jt,Me=te.qa,Se=te.ra-Be+Qr,yt=te.Ha,bt=te.Ia-Be+Qr,cn=(xt=at.M)==0,gt=xt>=te.Va-1,te.Aa==2&&kl(te,at),at.uc)for(dn=(sr=te).D.M,e(sr.D.uc),at=sr.yb;at<sr.Hb;++at){ir=at,Yr=dn;var pr=(Sr=(Vt=sr).D).Nb;Nt=Vt.R;var Sr=Sr.wa[Sr.Y+ir],Dr=Vt.sa,jn=Vt.ta+16*pr*Nt+16*ir,gi=Sr.dd,gr=Sr.tc;if(gr!=0)if(e(3<=gr),Vt.L==1)0<ir&&hs(Dr,jn,Nt,gr+4),Sr.La&&_n(Dr,jn,Nt,gr),0<Yr&&la(Dr,jn,Nt,gr+4),Sr.La&&Tl(Dr,jn,Nt,gr);else{var $i=Vt.B,ua=Vt.qa,so=Vt.ra+8*pr*$i+8*ir,gs=Vt.Ha,Vt=Vt.Ia+8*pr*$i+8*ir;pr=Sr.ld,0<ir&&(bc(Dr,jn,Nt,gr+4,gi,pr),sa(ua,so,gs,Vt,$i,gr+4,gi,pr)),Sr.La&&(ds(Dr,jn,Nt,gr,gi,pr),no(ua,so,gs,Vt,$i,gr,gi,pr)),0<Yr&&(ro(Dr,jn,Nt,gr+4,gi,pr),El(ua,so,gs,Vt,$i,gr+4,gi,pr)),Sr.La&&(aa(Dr,jn,Nt,gr,gi,pr),oa(ua,so,gs,Vt,$i,gr,gi,pr))}}if(te.ia&&alert("todo:DitherRow"),ne.put!=null){if(at=16*xt,xt=16*(xt+1),cn?(ne.y=te.sa,ne.O=te.ta+jt,ne.f=te.qa,ne.N=te.ra+Qr,ne.ea=te.Ha,ne.W=te.Ia+Qr):(at-=ft,ne.y=Oe,ne.O=Ke,ne.f=Me,ne.N=Se,ne.ea=yt,ne.W=bt),gt||(xt-=ft),xt>ne.o&&(xt=ne.o),ne.F=null,ne.J=null,te.Fa!=null&&0<te.Fa.length&&at<xt&&(ne.J=_l(te,ne,at,xt-at),ne.F=te.mb,ne.F==null&&ne.F.length==0)){xe=Jt(te,3,"Could not decode alpha data.");break e}at<ne.j&&(ft=ne.j-at,at=ne.j,e(!(1&ft)),ne.O+=te.R*ft,ne.N+=te.B*(ft>>1),ne.W+=te.B*(ft>>1),ne.F!=null&&(ne.J+=ne.width*ft)),at<xt&&(ne.O+=ne.v,ne.N+=ne.v>>1,ne.W+=ne.v>>1,ne.F!=null&&(ne.J+=ne.v),ne.ka=at-ne.j,ne.U=ne.va-ne.v,ne.T=xt-at,xe=ne.put(ne))}ve+1!=te.Ic||gt||(n(te.sa,te.ta-ke,Oe,Ke+16*te.R,ke),n(te.qa,te.ra-Be,Me,Se+8*te.B,Be),n(te.Ha,te.Ia-Be,yt,bt+8*te.B,Be))}if(!xe)return Jt(ae,6,"Output aborted.")}return 1}(u,d)),d.bc!=null&&d.bc(d),y&=1}return y?(u.cb=0,y):0}function Dn(u,d,y,x,P){P=u[d+y+32*x]+(P>>3),u[d+y+32*x]=-256&P?0>P?0:255:P}function Ua(u,d,y,x,P,F){Dn(u,d,0,y,x+P),Dn(u,d,1,y,x+F),Dn(u,d,2,y,x-F),Dn(u,d,3,y,x-P)}function Gr(u){return(20091*u>>16)+u}function hl(u,d,y,x){var P,F=0,I=s(16);for(P=0;4>P;++P){var M=u[d+0]+u[d+8],B=u[d+0]-u[d+8],z=(35468*u[d+4]>>16)-Gr(u[d+12]),ee=Gr(u[d+4])+(35468*u[d+12]>>16);I[F+0]=M+ee,I[F+1]=B+z,I[F+2]=B-z,I[F+3]=M-ee,F+=4,d++}for(P=F=0;4>P;++P)M=(u=I[F+0]+4)+I[F+8],B=u-I[F+8],z=(35468*I[F+4]>>16)-Gr(I[F+12]),Dn(y,x,0,0,M+(ee=Gr(I[F+4])+(35468*I[F+12]>>16))),Dn(y,x,1,0,B+z),Dn(y,x,2,0,B-z),Dn(y,x,3,0,M-ee),F++,x+=32}function nc(u,d,y,x){var P=u[d+0]+4,F=35468*u[d+4]>>16,I=Gr(u[d+4]),M=35468*u[d+1]>>16;Ua(y,x,0,P+I,u=Gr(u[d+1]),M),Ua(y,x,1,P+F,u,M),Ua(y,x,2,P-F,u,M),Ua(y,x,3,P-I,u,M)}function Qh(u,d,y,x,P){hl(u,d,y,x),P&&hl(u,d+16,y,x+4)}function ic(u,d,y,x){Oi(u,d+0,y,x,1),Oi(u,d+32,y,x+128,1)}function Xh(u,d,y,x){var P;for(u=u[d+0]+4,P=0;4>P;++P)for(d=0;4>d;++d)Dn(y,x,d,P,u)}function sc(u,d,y,x){u[d+0]&&Br(u,d+0,y,x),u[d+16]&&Br(u,d+16,y,x+4),u[d+32]&&Br(u,d+32,y,x+128),u[d+48]&&Br(u,d+48,y,x+128+4)}function Zh(u,d,y,x){var P,F=s(16);for(P=0;4>P;++P){var I=u[d+0+P]+u[d+12+P],M=u[d+4+P]+u[d+8+P],B=u[d+4+P]-u[d+8+P],z=u[d+0+P]-u[d+12+P];F[0+P]=I+M,F[8+P]=I-M,F[4+P]=z+B,F[12+P]=z-B}for(P=0;4>P;++P)I=(u=F[0+4*P]+3)+F[3+4*P],M=F[1+4*P]+F[2+4*P],B=F[1+4*P]-F[2+4*P],z=u-F[3+4*P],y[x+0]=I+M>>3,y[x+16]=z+B>>3,y[x+32]=I-M>>3,y[x+48]=z-B>>3,x+=64}function fl(u,d,y){var x,P=d-32,F=un,I=255-u[P-1];for(x=0;x<y;++x){var M,B=F,z=I+u[d-1];for(M=0;M<y;++M)u[d+M]=B[z+u[P+M]];d+=32}}function ef(u,d){fl(u,d,4)}function tf(u,d){fl(u,d,8)}function rf(u,d){fl(u,d,16)}function Ei(u,d){var y;for(y=0;16>y;++y)n(u,d+32*y,u,d-32,16)}function za(u,d){var y;for(y=16;0<y;--y)i(u,d,u[d-1],16),d+=32}function qa(u,d,y){var x;for(x=0;16>x;++x)i(d,y+32*x,u,16)}function ac(u,d){var y,x=16;for(y=0;16>y;++y)x+=u[d-1+32*y]+u[d+y-32];qa(x>>5,u,d)}function Ar(u,d){var y,x=8;for(y=0;16>y;++y)x+=u[d-1+32*y];qa(x>>4,u,d)}function nf(u,d){var y,x=8;for(y=0;16>y;++y)x+=u[d+y-32];qa(x>>4,u,d)}function oc(u,d){qa(128,u,d)}function tt(u,d,y){return u+2*d+y+2>>2}function sf(u,d){var y,x=d-32;for(x=new Uint8Array([tt(u[x-1],u[x+0],u[x+1]),tt(u[x+0],u[x+1],u[x+2]),tt(u[x+1],u[x+2],u[x+3]),tt(u[x+2],u[x+3],u[x+4])]),y=0;4>y;++y)n(u,d+32*y,x,0,x.length)}function af(u,d){var y=u[d-1],x=u[d-1+32],P=u[d-1+64],F=u[d-1+96];Ne(u,d+0,16843009*tt(u[d-1-32],y,x)),Ne(u,d+32,16843009*tt(y,x,P)),Ne(u,d+64,16843009*tt(x,P,F)),Ne(u,d+96,16843009*tt(P,F,F))}function hi(u,d){var y,x=4;for(y=0;4>y;++y)x+=u[d+y-32]+u[d-1+32*y];for(x>>=3,y=0;4>y;++y)i(u,d+32*y,x,4)}function lc(u,d){var y=u[d-1+0],x=u[d-1+32],P=u[d-1+64],F=u[d-1-32],I=u[d+0-32],M=u[d+1-32],B=u[d+2-32],z=u[d+3-32];u[d+0+96]=tt(x,P,u[d-1+96]),u[d+1+96]=u[d+0+64]=tt(y,x,P),u[d+2+96]=u[d+1+64]=u[d+0+32]=tt(F,y,x),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=tt(I,F,y),u[d+3+64]=u[d+2+32]=u[d+1+0]=tt(M,I,F),u[d+3+32]=u[d+2+0]=tt(B,M,I),u[d+3+0]=tt(z,B,M)}function uc(u,d){var y=u[d+1-32],x=u[d+2-32],P=u[d+3-32],F=u[d+4-32],I=u[d+5-32],M=u[d+6-32],B=u[d+7-32];u[d+0+0]=tt(u[d+0-32],y,x),u[d+1+0]=u[d+0+32]=tt(y,x,P),u[d+2+0]=u[d+1+32]=u[d+0+64]=tt(x,P,F),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=tt(P,F,I),u[d+3+32]=u[d+2+64]=u[d+1+96]=tt(F,I,M),u[d+3+64]=u[d+2+96]=tt(I,M,B),u[d+3+96]=tt(M,B,B)}function Ha(u,d){var y=u[d-1+0],x=u[d-1+32],P=u[d-1+64],F=u[d-1-32],I=u[d+0-32],M=u[d+1-32],B=u[d+2-32],z=u[d+3-32];u[d+0+0]=u[d+1+64]=F+I+1>>1,u[d+1+0]=u[d+2+64]=I+M+1>>1,u[d+2+0]=u[d+3+64]=M+B+1>>1,u[d+3+0]=B+z+1>>1,u[d+0+96]=tt(P,x,y),u[d+0+64]=tt(x,y,F),u[d+0+32]=u[d+1+96]=tt(y,F,I),u[d+1+32]=u[d+2+96]=tt(F,I,M),u[d+2+32]=u[d+3+96]=tt(I,M,B),u[d+3+32]=tt(M,B,z)}function pl(u,d){var y=u[d+0-32],x=u[d+1-32],P=u[d+2-32],F=u[d+3-32],I=u[d+4-32],M=u[d+5-32],B=u[d+6-32],z=u[d+7-32];u[d+0+0]=y+x+1>>1,u[d+1+0]=u[d+0+64]=x+P+1>>1,u[d+2+0]=u[d+1+64]=P+F+1>>1,u[d+3+0]=u[d+2+64]=F+I+1>>1,u[d+0+32]=tt(y,x,P),u[d+1+32]=u[d+0+96]=tt(x,P,F),u[d+2+32]=u[d+1+96]=tt(P,F,I),u[d+3+32]=u[d+2+96]=tt(F,I,M),u[d+3+64]=tt(I,M,B),u[d+3+96]=tt(M,B,z)}function of(u,d){var y=u[d-1+0],x=u[d-1+32],P=u[d-1+64],F=u[d-1+96];u[d+0+0]=y+x+1>>1,u[d+2+0]=u[d+0+32]=x+P+1>>1,u[d+2+32]=u[d+0+64]=P+F+1>>1,u[d+1+0]=tt(y,x,P),u[d+3+0]=u[d+1+32]=tt(x,P,F),u[d+3+32]=u[d+1+64]=tt(P,F,F),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=F}function lf(u,d){var y=u[d-1+0],x=u[d-1+32],P=u[d-1+64],F=u[d-1+96],I=u[d-1-32],M=u[d+0-32],B=u[d+1-32],z=u[d+2-32];u[d+0+0]=u[d+2+32]=y+I+1>>1,u[d+0+32]=u[d+2+64]=x+y+1>>1,u[d+0+64]=u[d+2+96]=P+x+1>>1,u[d+0+96]=F+P+1>>1,u[d+3+0]=tt(M,B,z),u[d+2+0]=tt(I,M,B),u[d+1+0]=u[d+3+32]=tt(y,I,M),u[d+1+32]=u[d+3+64]=tt(x,y,I),u[d+1+64]=u[d+3+96]=tt(P,x,y),u[d+1+96]=tt(F,P,x)}function uf(u,d){var y;for(y=0;8>y;++y)n(u,d+32*y,u,d-32,8)}function gl(u,d){var y;for(y=0;8>y;++y)i(u,d,u[d-1],8),d+=32}function ea(u,d,y){var x;for(x=0;8>x;++x)i(d,y+32*x,u,8)}function as(u,d){var y,x=8;for(y=0;8>y;++y)x+=u[d+y-32]+u[d-1+32*y];ea(x>>4,u,d)}function cf(u,d){var y,x=4;for(y=0;8>y;++y)x+=u[d+y-32];ea(x>>3,u,d)}function ta(u,d){var y,x=4;for(y=0;8>y;++y)x+=u[d-1+32*y];ea(x>>3,u,d)}function ml(u,d){ea(128,u,d)}function Wa(u,d,y){var x=u[d-y],P=u[d+0],F=3*(P-x)+mf[1020+u[d-2*y]-u[d+y]],I=Sc[112+(F+4>>3)];u[d-y]=un[255+x+Sc[112+(F+3>>3)]],u[d+0]=un[255+P-I]}function cc(u,d,y,x){var P=u[d+0],F=u[d+y];return kn[255+u[d-2*y]-u[d-y]]>x||kn[255+F-P]>x}function dc(u,d,y,x){return 4*kn[255+u[d-y]-u[d+0]]+kn[255+u[d-2*y]-u[d+y]]<=x}function hc(u,d,y,x,P){var F=u[d-3*y],I=u[d-2*y],M=u[d-y],B=u[d+0],z=u[d+y],ee=u[d+2*y],he=u[d+3*y];return 4*kn[255+M-B]+kn[255+I-z]>x?0:kn[255+u[d-4*y]-F]<=P&&kn[255+F-I]<=P&&kn[255+I-M]<=P&&kn[255+he-ee]<=P&&kn[255+ee-z]<=P&&kn[255+z-B]<=P}function fc(u,d,y,x){var P=2*x+1;for(x=0;16>x;++x)dc(u,d+x,y,P)&&Wa(u,d+x,y)}function fi(u,d,y,x){var P=2*x+1;for(x=0;16>x;++x)dc(u,d+x*y,1,P)&&Wa(u,d+x*y,1)}function Ti(u,d,y,x){var P;for(P=3;0<P;--P)fc(u,d+=4*y,y,x)}function df(u,d,y,x){var P;for(P=3;0<P;--P)fi(u,d+=4,y,x)}function os(u,d,y,x,P,F,I,M){for(F=2*F+1;0<P--;){if(hc(u,d,y,F,I))if(cc(u,d,y,M))Wa(u,d,y);else{var B=u,z=d,ee=y,he=B[z-2*ee],fe=B[z-ee],ae=B[z+0],_e=B[z+ee],ve=B[z+2*ee],te=27*(xe=mf[1020+3*(ae-fe)+mf[1020+he-_e]])+63>>7,ne=18*xe+63>>7,xe=9*xe+63>>7;B[z-3*ee]=un[255+B[z-3*ee]+xe],B[z-2*ee]=un[255+he+ne],B[z-ee]=un[255+fe+te],B[z+0]=un[255+ae-te],B[z+ee]=un[255+_e-ne],B[z+2*ee]=un[255+ve-xe]}d+=x}}function Un(u,d,y,x,P,F,I,M){for(F=2*F+1;0<P--;){if(hc(u,d,y,F,I))if(cc(u,d,y,M))Wa(u,d,y);else{var B=u,z=d,ee=y,he=B[z-ee],fe=B[z+0],ae=B[z+ee],_e=Sc[112+((ve=3*(fe-he))+4>>3)],ve=Sc[112+(ve+3>>3)],te=_e+1>>1;B[z-2*ee]=un[255+B[z-2*ee]+te],B[z-ee]=un[255+he+ve],B[z+0]=un[255+fe-_e],B[z+ee]=un[255+ae-te]}d+=x}}function yl(u,d,y,x,P,F){os(u,d,y,1,16,x,P,F)}function ra(u,d,y,x,P,F){os(u,d,1,y,16,x,P,F)}function hf(u,d,y,x,P,F){var I;for(I=3;0<I;--I)Un(u,d+=4*y,y,1,16,x,P,F)}function Va(u,d,y,x,P,F){var I;for(I=3;0<I;--I)Un(u,d+=4,1,y,16,x,P,F)}function ff(u,d,y,x,P,F,I,M){os(u,d,P,1,8,F,I,M),os(y,x,P,1,8,F,I,M)}function vl(u,d,y,x,P,F,I,M){os(u,d,1,P,8,F,I,M),os(y,x,1,P,8,F,I,M)}function wl(u,d,y,x,P,F,I,M){Un(u,d+4*P,P,1,8,F,I,M),Un(y,x+4*P,P,1,8,F,I,M)}function pc(u,d,y,x,P,F,I,M){Un(u,d+4,1,P,8,F,I,M),Un(y,x+4,1,P,8,F,I,M)}function Ga(){this.ba=new On,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gc(){this.ua=0,this.Wa=new H,this.vb=new H,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new L}function pf(){this.xb=this.a=0,this.l=new Da,this.ca=new On,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gc,this.ab=0,this.gc=a(4,xl),this.Oc=0}function Ka(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Da,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function na(u,d,y,x,P,F,I){for(u=u==null?0:u[d+0],d=0;d<I;++d)P[F+d]=u+y[x+d]&255,u=P[F+d]}function Sl(u,d,y,x,P,F,I){var M;if(u==null)na(null,null,y,x,P,F,I);else for(M=0;M<I;++M)P[F+M]=u[d+M]+y[x+M]&255}function ls(u,d,y,x,P,F,I){if(u==null)na(null,null,y,x,P,F,I);else{var M,B=u[d+0],z=B,ee=B;for(M=0;M<I;++M)z=ee+(B=u[d+M])-z,ee=y[x+M]+(-256&z?0>z?0:255:z)&255,z=B,P[F+M]=ee}}function _l(u,d,y,x){var P=d.width,F=d.o;if(e(u!=null&&d!=null),0>y||0>=x||y+x>F)return null;if(!u.Cc){if(u.ga==null){var I;if(u.ga=new Ka,(I=u.ga==null)||(I=d.width*d.o,e(u.Gb.length==0),u.Gb=s(I),u.Uc=0,u.Gb==null?I=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,I=1),I=!I),!I){I=u.ga;var M=u.Fa,B=u.P,z=u.qc,ee=u.mb,he=u.nb,fe=B+1,ae=z-1,_e=I.l;if(e(M!=null&&ee!=null&&d!=null),ps[0]=null,ps[1]=na,ps[2]=Sl,ps[3]=ls,I.ca=ee,I.tb=he,I.c=d.width,I.i=d.height,e(0<I.c&&0<I.i),1>=z)d=0;else if(I.$a=M[B+0]>>0&3,I.Z=M[B+0]>>2&3,I.Lc=M[B+0]>>4&3,B=M[B+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||B)d=0;else if(_e.put=oi,_e.ac=br,_e.bc=li,_e.ma=I,_e.width=d.width,_e.height=d.height,_e.Da=d.Da,_e.v=d.v,_e.va=d.va,_e.j=d.j,_e.o=d.o,I.$a)e:{e(I.$a==1),d=bn();t:for(;;){if(d==null){d=0;break e}if(e(I!=null),I.mc=d,d.c=I.c,d.i=I.i,d.l=I.l,d.l.ma=I,d.l.width=I.c,d.l.height=I.i,d.a=0,q(d.m,M,fe,ae),!di(I.c,I.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Li(d.s)?(I.ic=1,M=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(M),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(I.ic=0,d=Zs(d,I.c)),!d))break t;d=1;break e}I.mc=null,d=0}else d=ae>=I.c*I.i;I=!d}if(I)return null;u.ga.Lc!=1?u.Ga=0:x=F-y}e(u.ga!=null),e(y+x<=F);e:{if(d=(M=u.ga).c,F=M.l.o,M.$a==0){if(fe=u.rc,ae=u.Vc,_e=u.Fa,B=u.P+1+y*d,z=u.mb,ee=u.nb+y*d,e(B<=u.P+u.qc),M.Z!=0)for(e(ps[M.Z]!=null),I=0;I<x;++I)ps[M.Z](fe,ae,_e,B,z,ee,d),fe=z,ae=ee,ee+=d,B+=d;else for(I=0;I<x;++I)n(z,ee,_e,B,d),fe=z,ae=ee,ee+=d,B+=d;u.rc=fe,u.Vc=ae}else{if(e(M.mc!=null),d=y+x,e((I=M.mc)!=null),e(d<=I.i),I.C>=d)d=1;else if(M.ic||ce(),M.ic){M=I.V,fe=I.Ba,ae=I.c;var ve=I.i,te=(_e=1,B=I.$/ae,z=I.$%ae,ee=I.m,he=I.s,I.$),ne=ae*ve,xe=ae*d,ke=he.wc,Se=te<xe?rr(he,z,B):null;e(te<=ne),e(d<=ve),e(Li(he));t:for(;;){for(;!ee.h&&te<xe;){if(z&ke||(Se=rr(he,z,B)),e(Se!=null),Z(ee),256>(ve=Vr(Se.G[0],Se.H[0],ee)))M[fe+te]=ve,++te,++z>=ae&&(z=0,++B<=d&&!(B%16)&&$n(I,B));else{if(!(280>ve)){_e=0;break t}ve=Rn(ve-256,ee);var Be,Oe=Vr(Se.G[4],Se.H[4],ee);if(Z(ee),!(te>=(Oe=ui(ae,Oe=Rn(Oe,ee)))&&ne-te>=ve)){_e=0;break t}for(Be=0;Be<ve;++Be)M[fe+te+Be]=M[fe+te+Be-Oe];for(te+=ve,z+=ve;z>=ae;)z-=ae,++B<=d&&!(B%16)&&$n(I,B);te<xe&&z&ke&&(Se=rr(he,z,B))}e(ee.h==V(ee))}$n(I,B>d?d:B);break t}!_e||ee.h&&te<ne?(_e=0,I.a=ee.h?5:3):I.$=te,d=_e}else d=Bn(I,I.V,I.Ba,I.c,I.i,d,Oa);if(!d){x=0;break e}}y+x>=F&&(u.Cc=1),x=1}if(!x)return null;if(u.Cc&&((x=u.ga)!=null&&(x.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*P}function g(u,d,y,x,P,F){for(;0<P--;){var I,M=u,B=d+(y?1:0),z=u,ee=d+(y?0:3);for(I=0;I<x;++I){var he=z[ee+4*I];he!=255&&(he*=32897,M[B+4*I+0]=M[B+4*I+0]*he>>23,M[B+4*I+1]=M[B+4*I+1]*he>>23,M[B+4*I+2]=M[B+4*I+2]*he>>23)}d+=F}}function C(u,d,y,x,P){for(;0<x--;){var F;for(F=0;F<y;++F){var I=u[d+2*F+0],M=15&(z=u[d+2*F+1]),B=4369*M,z=(240&z|z>>4)*B>>16;u[d+2*F+0]=(240&I|I>>4)*B>>16&240|(15&I|I<<4)*B>>16>>4&15,u[d+2*F+1]=240&z|M}d+=P}}function G(u,d,y,x,P,F,I,M){var B,z,ee=255;for(z=0;z<P;++z){for(B=0;B<x;++B){var he=u[d+B];F[I+4*B]=he,ee&=he}d+=y,I+=M}return ee!=255}function X(u,d,y,x,P){var F;for(F=0;F<P;++F)y[x+F]=u[d+F]>>8}function ce(){Nn=g,Ct=C,Lt=G,Qt=X}function we(u,d,y){k[u]=function(x,P,F,I,M,B,z,ee,he,fe,ae,_e,ve,te,ne,xe,ke){var Se,Be=ke-1>>1,Oe=M[B+0]|z[ee+0]<<16,Ke=he[fe+0]|ae[_e+0]<<16;e(x!=null);var Me=3*Oe+Ke+131074>>2;for(d(x[P+0],255&Me,Me>>16,ve,te),F!=null&&(Me=3*Ke+Oe+131074>>2,d(F[I+0],255&Me,Me>>16,ne,xe)),Se=1;Se<=Be;++Se){var yt=M[B+Se]|z[ee+Se]<<16,bt=he[fe+Se]|ae[_e+Se]<<16,gt=Oe+yt+Ke+bt+524296,ft=gt+2*(yt+Ke)>>3;Me=ft+Oe>>1,Oe=(gt=gt+2*(Oe+bt)>>3)+yt>>1,d(x[P+2*Se-1],255&Me,Me>>16,ve,te+(2*Se-1)*y),d(x[P+2*Se-0],255&Oe,Oe>>16,ve,te+(2*Se-0)*y),F!=null&&(Me=gt+Ke>>1,Oe=ft+bt>>1,d(F[I+2*Se-1],255&Me,Me>>16,ne,xe+(2*Se-1)*y),d(F[I+2*Se+0],255&Oe,Oe>>16,ne,xe+(2*Se+0)*y)),Oe=yt,Ke=bt}1&ke||(Me=3*Oe+Ke+131074>>2,d(x[P+ke-1],255&Me,Me>>16,ve,te+(ke-1)*y),F!=null&&(Me=3*Ke+Oe+131074>>2,d(F[I+ke-1],255&Me,Me>>16,ne,xe+(ke-1)*y)))}}function je(){An[_c]=eb,An[Nc]=a1,An[t1]=tb,An[kc]=o1,An[Ac]=l1,An[yf]=u1,An[r1]=rb,An[vf]=a1,An[wf]=o1,An[jc]=l1,An[bf]=u1}function $e(u){return u&~nb?0>u?0:255:u>>c1}function Ve(u,d){return $e((19077*u>>8)+(26149*d>>8)-14234)}function st(u,d,y){return $e((19077*u>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function nt(u,d){return $e((19077*u>>8)+(33050*d>>8)-17685)}function pt(u,d,y,x,P){x[P+0]=Ve(u,y),x[P+1]=st(u,d,y),x[P+2]=nt(u,d)}function $t(u,d,y,x,P){x[P+0]=nt(u,d),x[P+1]=st(u,d,y),x[P+2]=Ve(u,y)}function Wt(u,d,y,x,P){var F=st(u,d,y);d=F<<3&224|nt(u,d)>>3,x[P+0]=248&Ve(u,y)|F>>5,x[P+1]=d}function nr(u,d,y,x,P){var F=240&nt(u,d)|15;x[P+0]=240&Ve(u,y)|st(u,d,y)>>4,x[P+1]=F}function jr(u,d,y,x,P){x[P+0]=255,pt(u,d,y,x,P+1)}function fr(u,d,y,x,P){$t(u,d,y,x,P),x[P+3]=255}function zn(u,d,y,x,P){pt(u,d,y,x,P),x[P+3]=255}function ln(u,d){return 0>u?0:u>d?d:u}function pi(u,d,y){k[u]=function(x,P,F,I,M,B,z,ee,he){for(var fe=ee+(-2&he)*y;ee!=fe;)d(x[P+0],F[I+0],M[B+0],z,ee),d(x[P+1],F[I+0],M[B+0],z,ee+y),P+=2,++I,++B,ee+=2*y;1&he&&d(x[P+0],F[I+0],M[B+0],z,ee)}}function mc(u,d,y){return y==0?u==0?d==0?6:5:d==0?4:0:y}function Nl(u,d,y,x,P){switch(u>>>30){case 3:Oi(d,y,x,P,0);break;case 2:Yt(d,y,x,P);break;case 1:Br(d,y,x,P)}}function kl(u,d){var y,x,P=d.M,F=d.Nb,I=u.oc,M=u.pc+40,B=u.oc,z=u.pc+584,ee=u.oc,he=u.pc+600;for(y=0;16>y;++y)I[M+32*y-1]=129;for(y=0;8>y;++y)B[z+32*y-1]=129,ee[he+32*y-1]=129;for(0<P?I[M-1-32]=B[z-1-32]=ee[he-1-32]=129:(i(I,M-32-1,127,21),i(B,z-32-1,127,9),i(ee,he-32-1,127,9)),x=0;x<u.za;++x){var fe=d.ya[d.aa+x];if(0<x){for(y=-1;16>y;++y)n(I,M+32*y-4,I,M+32*y+12,4);for(y=-1;8>y;++y)n(B,z+32*y-4,B,z+32*y+4,4),n(ee,he+32*y-4,ee,he+32*y+4,4)}var ae=u.Gd,_e=u.Hd+x,ve=fe.ad,te=fe.Hc;if(0<P&&(n(I,M-32,ae[_e].y,0,16),n(B,z-32,ae[_e].f,0,8),n(ee,he-32,ae[_e].ea,0,8)),fe.Za){var ne=I,xe=M-32+16;for(0<P&&(x>=u.za-1?i(ne,xe,ae[_e].y[15],4):n(ne,xe,ae[_e+1].y,0,4)),y=0;4>y;y++)ne[xe+128+y]=ne[xe+256+y]=ne[xe+384+y]=ne[xe+0+y];for(y=0;16>y;++y,te<<=2)ne=I,xe=M+h1[y],qn[fe.Ob[y]](ne,xe),Nl(te,ve,16*+y,ne,xe)}else if(ne=mc(x,P,fe.Ob[0]),fs[ne](I,M),te!=0)for(y=0;16>y;++y,te<<=2)Nl(te,ve,16*+y,I,M+h1[y]);for(y=fe.Gc,ne=mc(x,P,fe.Dd),Mi[ne](B,z),Mi[ne](ee,he),te=ve,ne=B,xe=z,255&(fe=y>>0)&&(170&fe?Ll(te,256,ne,xe):Sn(te,256,ne,xe)),fe=ee,te=he,255&(y>>=8)&&(170&y?Ll(ve,320,fe,te):Sn(ve,320,fe,te)),P<u.Ub-1&&(n(ae[_e].y,0,I,M+480,16),n(ae[_e].f,0,B,z+224,8),n(ae[_e].ea,0,ee,he+224,8)),y=8*F*u.B,ae=u.sa,_e=u.ta+16*x+16*F*u.R,ve=u.qa,fe=u.ra+8*x+y,te=u.Ha,ne=u.Ia+8*x+y,y=0;16>y;++y)n(ae,_e+y*u.R,I,M+32*y,16);for(y=0;8>y;++y)n(ve,fe+y*u.B,B,z+32*y,8),n(te,ne+y*u.B,ee,he+32*y,8)}}function Ja(u,d,y,x,P,F,I,M,B){var z=[0],ee=[0],he=0,fe=B!=null?B.kd:0,ae=B??new bl;if(u==null||12>y)return 7;ae.data=u,ae.w=d,ae.ha=y,d=[d],y=[y],ae.gb=[ae.gb];e:{var _e=d,ve=y,te=ae.gb;if(e(u!=null),e(ve!=null),e(te!=null),te[0]=0,12<=ve[0]&&!r(u,_e[0],"RIFF")){if(r(u,_e[0]+8,"WEBP")){te=3;break e}var ne=Ce(u,_e[0]+4);if(12>ne||4294967286<ne){te=3;break e}if(fe&&ne>ve[0]-8){te=7;break e}te[0]=ne,_e[0]+=12,ve[0]-=12}te=0}if(te!=0)return te;for(ne=0<ae.gb[0],y=y[0];;){e:{var xe=u;ve=d,te=y;var ke=z,Se=ee,Be=_e=[0];if((Me=he=[he])[0]=0,8>te[0])te=7;else{if(!r(xe,ve[0],"VP8X")){if(Ce(xe,ve[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var Oe=Ce(xe,ve[0]+8),Ke=1+Pe(xe,ve[0]+12);if(2147483648<=Ke*(xe=1+Pe(xe,ve[0]+15))){te=3;break e}Be!=null&&(Be[0]=Oe),ke!=null&&(ke[0]=Ke),Se!=null&&(Se[0]=xe),ve[0]+=18,te[0]-=18,Me[0]=1}te=0}}if(he=he[0],_e=_e[0],te!=0)return te;if(ve=!!(2&_e),!ne&&he)return 3;if(F!=null&&(F[0]=!!(16&_e)),I!=null&&(I[0]=ve),M!=null&&(M[0]=0),I=z[0],_e=ee[0],he&&ve&&B==null){te=0;break}if(4>y){te=7;break}if(ne&&he||!ne&&!he&&!r(u,d[0],"ALPH")){y=[y],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{Oe=u,te=d,ne=y;var Me=ae.gb;ke=ae.na,Se=ae.P,Be=ae.Sa,Ke=22,e(Oe!=null),e(ne!=null),xe=te[0];var yt=ne[0];for(e(ke!=null),e(Be!=null),ke[0]=null,Se[0]=null,Be[0]=0;;){if(te[0]=xe,ne[0]=yt,8>yt){te=7;break e}var bt=Ce(Oe,xe+4);if(4294967286<bt){te=3;break e}var gt=8+bt+1&-2;if(Ke+=gt,0<Me&&Ke>Me){te=3;break e}if(!r(Oe,xe,"VP8 ")||!r(Oe,xe,"VP8L")){te=0;break e}if(yt[0]<gt){te=7;break e}r(Oe,xe,"ALPH")||(ke[0]=Oe,Se[0]=xe+8,Be[0]=bt),xe+=gt,yt-=gt}}if(y=y[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],te!=0)break}y=[y],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(Me=u,te=d,ne=y,ke=ae.gb[0],Se=ae.Ja,Be=ae.xa,Oe=te[0],xe=!r(Me,Oe,"VP8 "),Ke=!r(Me,Oe,"VP8L"),e(Me!=null),e(ne!=null),e(Se!=null),e(Be!=null),8>ne[0])te=7;else{if(xe||Ke){if(Me=Ce(Me,Oe+4),12<=ke&&Me>ke-12){te=3;break e}if(fe&&Me>ne[0]-8){te=7;break e}Se[0]=Me,te[0]+=8,ne[0]-=8,Be[0]=Ke}else Be[0]=5<=ne[0]&&Me[Oe+0]==47&&!(Me[Oe+4]>>5),Se[0]=ne[0];te=0}if(y=y[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],d=d[0],te!=0)break;if(4294967286<ae.Ja)return 3;if(M==null||ve||(M[0]=ae.xa?2:1),I=[I],_e=[_e],ae.xa){if(5>y){te=7;break}M=I,fe=_e,ve=F,u==null||5>y?u=0:5<=y&&u[d+0]==47&&!(u[d+4]>>5)?(ne=[0],Me=[0],ke=[0],q(Se=new j,u,d,y),Ye(Se,ne,Me,ke)?(M!=null&&(M[0]=ne[0]),fe!=null&&(fe[0]=Me[0]),ve!=null&&(ve[0]=ke[0]),u=1):u=0):u=0}else{if(10>y){te=7;break}M=_e,u==null||10>y||!ec(u,d+3,y-3)?u=0:(fe=u[d+0]|u[d+1]<<8|u[d+2]<<16,ve=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=ae.Ja||!ve||!u?u=0:(I&&(I[0]=ve),M&&(M[0]=u),u=1))}if(!u||(I=I[0],_e=_e[0],he&&(z[0]!=I||ee[0]!=_e)))return 3;B!=null&&(B[0]=ae,B.offset=d-B.w,e(4294967286>d-B.w),e(B.offset==B.ha-y));break}return te==0||te==7&&he&&B==null?(F!=null&&(F[0]|=ae.na!=null&&0<ae.na.length),x!=null&&(x[0]=I),P!=null&&(P[0]=_e),0):te}function Al(u,d,y){var x=d.width,P=d.height,F=0,I=0,M=x,B=P;if(d.Da=u!=null&&0<u.Da,d.Da&&(M=u.cd,B=u.bd,F=u.v,I=u.j,11>y||(F&=-2,I&=-2),0>F||0>I||0>=M||0>=B||F+M>x||I+B>P))return 0;if(d.v=F,d.j=I,d.va=F+M,d.o=I+B,d.U=M,d.T=B,d.da=u!=null&&0<u.da,d.da){if(!We(M,B,y=[u.ib],F=[u.hb]))return 0;d.ib=y[0],d.hb=F[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*x/4&&d.hb<3*P/4,d.Kb=0),1}function jl(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function Ya(u,d,y,x){if(x==null||0>=u||0>=d)return 2;if(y!=null){if(y.Da){var P=y.cd,F=y.bd,I=-2&y.v,M=-2&y.j;if(0>I||0>M||0>=P||0>=F||I+P>u||M+F>d)return 2;u=P,d=F}if(y.da){if(!We(u,d,P=[y.ib],F=[y.hb]))return 2;u=P[0],d=F[0]}}x.width=u,x.height=d;e:{var B=x.width,z=x.height;if(u=x.S,0>=B||0>=z||!(u>=_c&&13>u))u=2;else{if(0>=x.Rd&&x.sd==null){I=F=P=d=0;var ee=(M=B*f1[u])*z;if(11>u||(F=(z+1)/2*(d=(B+1)/2),u==12&&(I=(P=B)*z)),(z=s(ee+2*F+I))==null){u=1;break e}x.sd=z,11>u?((B=x.f.RGBA).eb=z,B.fb=0,B.A=M,B.size=ee):((B=x.f.kb).y=z,B.O=0,B.fa=M,B.Fd=ee,B.f=z,B.N=0+ee,B.Ab=d,B.Cd=F,B.ea=z,B.W=0+ee+F,B.Db=d,B.Ed=F,u==12&&(B.F=z,B.J=0+ee+2*F),B.Tc=I,B.lb=P)}if(d=1,P=x.S,F=x.width,I=x.height,P>=_c&&13>P)if(11>P)u=x.f.RGBA,d&=(M=Math.abs(u.A))*(I-1)+F<=u.size,d&=M>=F*f1[P],d&=u.eb!=null;else{u=x.f.kb,M=(F+1)/2,ee=(I+1)/2,B=Math.abs(u.fa),z=Math.abs(u.Ab);var he=Math.abs(u.Db),fe=Math.abs(u.lb),ae=fe*(I-1)+F;d&=B*(I-1)+F<=u.Fd,d&=z*(ee-1)+M<=u.Cd,d=(d&=he*(ee-1)+M<=u.Ed)&B>=F&z>=M&he>=M,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,P==12&&(d&=fe>=F,d&=ae<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||y!=null&&y.fd&&(u=jl(x)),u}var xr=64,Qa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xa=24,Za=32,Pl=8,Kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(u){return u},k.Predictor2=function(u,d,y){return d[y+0]},k.Predictor3=function(u,d,y){return d[y+1]},k.Predictor4=function(u,d,y){return d[y-1]},k.Predictor5=function(u,d,y){return Te(Te(u,d[y+1]),d[y+0])},k.Predictor6=function(u,d,y){return Te(u,d[y-1])},k.Predictor7=function(u,d,y){return Te(u,d[y+0])},k.Predictor8=function(u,d,y){return Te(d[y-1],d[y+0])},k.Predictor9=function(u,d,y){return Te(d[y+0],d[y+1])},k.Predictor10=function(u,d,y){return Te(Te(u,d[y-1]),Te(d[y+0],d[y+1]))},k.Predictor11=function(u,d,y){var x=d[y+0];return 0>=Ge(x>>24&255,u>>24&255,(d=d[y-1])>>24&255)+Ge(x>>16&255,u>>16&255,d>>16&255)+Ge(x>>8&255,u>>8&255,d>>8&255)+Ge(255&x,255&u,255&d)?x:u},k.Predictor12=function(u,d,y){var x=d[y+0];return(ze((u>>24&255)+(x>>24&255)-((d=d[y-1])>>24&255))<<24|ze((u>>16&255)+(x>>16&255)-(d>>16&255))<<16|ze((u>>8&255)+(x>>8&255)-(d>>8&255))<<8|ze((255&u)+(255&x)-(255&d)))>>>0},k.Predictor13=function(u,d,y){var x=d[y-1];return(qe((u=Te(u,d[y+0]))>>24&255,x>>24&255)<<24|qe(u>>16&255,x>>16&255)<<16|qe(u>>8&255,x>>8&255)<<8|qe(u>>0&255,x>>0&255))>>>0};var gf=k.PredictorAdd0;k.PredictorAdd1=He,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Cl=k.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var yc,xn=k.ColorIndexInverseTransform,eo=k.MapARGB,vc=k.VP8LColorIndexInverseTransformAlpha,wc=k.MapAlpha,us=k.VP8LPredictorsAdd=[];us.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var ia,Jr,$r,cs,Fi,Ii,to,Oi,Yt,Ll,Br,Sn,ro,bc,El,sa,aa,ds,oa,no,la,hs,Tl,_n,Nn,Ct,Lt,Qt,ur=s(511),Ri=s(2041),Fl=s(225),io=s(767),xc=0,mf=Ri,Sc=Fl,un=io,kn=ur,_c=0,Nc=1,t1=2,kc=3,Ac=4,yf=5,r1=6,vf=7,wf=8,jc=9,bf=10,Dw=[2,3,7],Uw=[3,3,11],n1=[280,256,256,256,40],zw=[0,1,1,1,0],qw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ww=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vw=8,xf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Il=null,Gw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],i1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Jw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fs=[],qn=[],Mi=[],Zw=1,s1=2,ps=[],An=[];we("UpsampleRgbLinePair",pt,3),we("UpsampleBgrLinePair",$t,3),we("UpsampleRgbaLinePair",zn,4),we("UpsampleBgraLinePair",fr,4),we("UpsampleArgbLinePair",jr,4),we("UpsampleRgba4444LinePair",nr,2),we("UpsampleRgb565LinePair",Wt,2);var eb=k.UpsampleRgbLinePair,tb=k.UpsampleBgrLinePair,a1=k.UpsampleRgbaLinePair,o1=k.UpsampleBgraLinePair,l1=k.UpsampleArgbLinePair,u1=k.UpsampleRgba4444LinePair,rb=k.UpsampleRgb565LinePair,Pc=16,Cc=1<<Pc-1,Ol=-227,_f=482,c1=6,nb=(256<<c1)-1,d1=0,ib=s(256),sb=s(256),ab=s(256),ob=s(256),lb=s(_f-Ol),ub=s(_f-Ol);pi("YuvToRgbRow",pt,3),pi("YuvToBgrRow",$t,3),pi("YuvToRgbaRow",zn,4),pi("YuvToBgraRow",fr,4),pi("YuvToArgbRow",jr,4),pi("YuvToRgba4444Row",nr,2),pi("YuvToRgb565Row",Wt,2);var h1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lc=[0,2,8],cb=[8,7,6,4,4,2,2,2,1,1,1,1],db=1;this.WebPDecodeRGBA=function(u,d,y,x,P){var F=Nc,I=new Ga,M=new On;I.ba=M,M.S=F,M.width=[M.width],M.height=[M.height];var B=M.width,z=M.height,ee=new Ci;if(ee==null||u==null)var he=2;else e(ee!=null),he=Ja(u,d,y,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(he!=0?B=0:(B!=null&&(B[0]=ee.width[0]),z!=null&&(z[0]=ee.height[0]),B=1),B){M.width=M.width[0],M.height=M.height[0],x!=null&&(x[0]=M.width),P!=null&&(P[0]=M.height);e:{if(x=new Da,(P=new bl).data=u,P.w=d,P.ha=y,P.kd=1,d=[0],e(P!=null),((u=Ja(P.data,P.w,P.ha,null,null,null,d,null,P))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(e(I!=null),x.data=P.data,x.w=P.w+P.offset,x.ha=P.ha-P.offset,x.put=oi,x.ac=br,x.bc=li,x.ma=I,P.xa){if((u=bn())==null){I=1;break e}if(function(fe,ae){var _e=[0],ve=[0],te=[0];t:for(;;){if(fe==null)return 0;if(ae==null)return fe.a=2,0;if(fe.l=ae,fe.a=0,q(fe.m,ae.data,ae.w,ae.ha),!Ye(fe.m,_e,ve,te)){fe.a=3;break t}if(fe.xb=s1,ae.width=_e[0],ae.height=ve[0],!di(_e[0],ve[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(u,x)){if(x=(d=Ya(x.width,x.height,I.Oa,I.ba))==0){t:{x=u;r:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((y=x.l)!=null),e((P=y.ma)!=null),x.xb!=0){if(x.ca=P.ba,x.tb=P.tb,e(x.ca!=null),!Al(P.Oa,y,kc)){x.a=2;break r}if(!Zs(x,y.width)||y.da)break r;if((y.da||vt(x.ca.S))&&ce(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&ce()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!Re(x.s.vb,x.s.Wa.Xa)){x.a=1;break r}x.xb=0}if(!Bn(x,x.V,x.Ba,x.c,x.i,y.o,Ia))break r;P.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(d=u.a)}else d=u.a}else{if((u=new Jh)==null){I=1;break e}if(u.Fa=P.na,u.P=P.P,u.qc=P.Sa,tc(u,x)){if((d=Ya(x.width,x.height,I.Oa,I.ba))==0){if(u.Aa=0,y=I.Oa,e((P=u)!=null),y!=null){if(0<(B=0>(B=y.Md)?0:100<B?255:255*B/100)){for(z=ee=0;4>z;++z)12>(he=P.pb[z]).lc&&(he.ia=B*cb[0>he.lc?0:he.lc]>>3),ee|=he.ia;ee&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=y.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}Yh(u,x)||(d=u.a)}}else d=u.a}d==0&&I.Oa!=null&&I.Oa.fd&&(d=jl(I.ba))}I=d}F=I!=0?null:11>F?M.f.RGBA.eb:M.f.kb.y}else F=null;return F};var f1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,O){for(var U="",E=0;E<4;E++)U+=String.fromCharCode(k[O++]);return U}function h(k,O){return(k[O+0]<<0|k[O+1]<<8|k[O+2]<<16)>>>0}function f(k,O){return(k[O+0]<<0|k[O+1]<<8|k[O+2]<<16|k[O+3]<<24)>>>0}new l;var w=[0],p=[0],_=[],N=new l,A=t,v=function(k,O){var U={},E=0,L=!1,W=0,K=0;if(U.frames=[],!function($,V,J,Z){for(var ue=0;ue<Z;ue++)if($[V+ue]!=J.charCodeAt(ue))return!0;return!1}(k,O,"RIFF",4)){for(f(k,O+=4),O+=8;O<k.length;){var pe=c(k,O),de=f(k,O+=4);O+=4;var re=de+(1&de);switch(pe){case"VP8 ":case"VP8L":U.frames[E]===void 0&&(U.frames[E]={}),(ie=U.frames[E]).src_off=L?K:O-8,ie.src_size=W+de+8,E++,L&&(L=!1,W=0,K=0);break;case"VP8X":(ie=U.header={}).feature_flags=k[O];var q=O+4;ie.canvas_width=1+h(k,q),q+=3,ie.canvas_height=1+h(k,q),q+=3;break;case"ALPH":L=!0,W=re+8,K=O-8;break;case"ANIM":(ie=U.header).bgcolor=f(k,O),q=O+4,ie.loop_count=(me=k)[(j=q)+0]<<0|me[j+1]<<8,q+=2;break;case"ANMF":var Q,ie;(ie=U.frames[E]={}).offset_x=2*h(k,O),O+=3,ie.offset_y=2*h(k,O),O+=3,ie.width=1+h(k,O),O+=3,ie.height=1+h(k,O),O+=3,ie.duration=h(k,O),O+=3,Q=k[O++],ie.dispose=1&Q,ie.blend=Q>>1&1}pe!="ANMF"&&(O+=re)}var me,j;return U}}(A,0);v.response=A,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,S=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,w=[b.canvas_height],p=[b.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var D=S[0],Y=N.WebPDecodeRGBA(A,D.src_off,D.src_size,p,w);D.rgba=Y,D.imgwidth=p[0],D.imgheight=w[0];for(var R=0;R<p[0]*w[0]*4;R++)_[R]=Y[R];return this.width=p,this.height=w,this.data=_,this}(function(t){var e=function(){return typeof Mp=="function"},r=function(w,p,_,N){var A=4,v=a;switch(N){case t.image_compression.FAST:A=1,v=s;break;case t.image_compression.MEDIUM:A=6,v=o;break;case t.image_compression.SLOW:A=9,v=l}w=n(w,p,_,v);var b=Mp(w,{level:A});return t.__addimage__.arrayBufferToBinaryString(b)},n=function(w,p,_,N){for(var A,v,b,S=w.length/p,T=new Uint8Array(w.length+S),D=h(),Y=0;Y<S;Y+=1){if(b=Y*p,A=w.subarray(b,b+p),N)T.set(N(A,_,v),b+Y);else{for(var R,k=D.length,O=[];R<k;R+=1)O[R]=D[R](A,_,v);var U=f(O.concat());T.set(O[U],b+Y)}v=A}return T},i=function(w){var p=Array.apply([],w);return p.unshift(0),p},s=function(w,p){var _,N=[],A=w.length;N[0]=1;for(var v=0;v<A;v+=1)_=w[v-p]||0,N[v+1]=w[v]-_+256&255;return N},a=function(w,p,_){var N,A=[],v=w.length;A[0]=2;for(var b=0;b<v;b+=1)N=_&&_[b]||0,A[b+1]=w[b]-N+256&255;return A},o=function(w,p,_){var N,A,v=[],b=w.length;v[0]=3;for(var S=0;S<b;S+=1)N=w[S-p]||0,A=_&&_[S]||0,v[S+1]=w[S]+256-(N+A>>>1)&255;return v},l=function(w,p,_){var N,A,v,b,S=[],T=w.length;S[0]=4;for(var D=0;D<T;D+=1)N=w[D-p]||0,A=_&&_[D]||0,v=_&&_[D-p]||0,b=c(N,A,v),S[D+1]=w[D]-b+256&255;return S},c=function(w,p,_){if(w===p&&p===_)return w;var N=Math.abs(p-_),A=Math.abs(w-_),v=Math.abs(w+p-_-_);return N<=A&&N<=v?w:A<=v?p:_},h=function(){return[i,s,a,o,l]},f=function(w){var p=w.map(function(_){return _.reduce(function(N,A){return N+Math.abs(A)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(w,p,_,N){var A,v,b,S,T,D,Y,R,k,O,U,E,L,W,K,pe=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(b=new JN(w)).imgData,v=b.bits,A=b.colorSpace,T=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){k=(R=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,U=new Uint8Array(k*b.colors),O=new Uint8Array(k);var re,q=b.pixelBitlength-b.bits;for(W=0,K=0;W<k;W++){for(L=R[W],re=0;re<q;)U[K++]=L>>>re&255,re+=b.bits;O[W]=L>>>re&255}}if(b.bits===16){k=(R=new Uint32Array(b.decodePixels().buffer)).length,U=new Uint8Array(k*(32/b.pixelBitlength)*b.colors),O=new Uint8Array(k*(32/b.pixelBitlength)),E=b.colors>1,W=0,K=0;for(var Q=0;W<k;)L=R[W++],U[K++]=L>>>0&255,E&&(U[K++]=L>>>16&255,L=R[W++],U[K++]=L>>>0&255),O[Q++]=L>>>16&255;v=8}N!==t.image_compression.NONE&&e()?(w=r(U,b.width*b.colors,b.colors,N),Y=r(O,b.width,1,N)):(w=U,Y=O,pe=void 0)}if(b.colorType===3&&(A=this.color_spaces.INDEXED,D=b.palette,b.transparency.indexed)){var ie=b.transparency.indexed,me=0;for(W=0,k=ie.length;W<k;++W)me+=ie[W];if((me/=255)===k-1&&ie.indexOf(0)!==-1)S=[ie.indexOf(0)];else if(me!==k){for(R=b.decodePixels(),O=new Uint8Array(R.length),W=0,k=R.length;W<k;W++)O[W]=ie[R[W]];Y=r(O,b.width,1)}}var j=function($){var V;switch($){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(N);return pe===this.decode.FLATE_DECODE&&(de="/Predictor "+j+" "),de+="/Colors "+T+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(Y&&this.__addimage__.isArrayBuffer(Y)||this.__addimage__.isArrayBufferView(Y))&&(Y=this.__addimage__.arrayBufferToBinaryString(Y)),{alias:_,data:w,index:p,filter:pe,decodeParameters:de,transparency:S,palette:D,sMask:Y,predictor:j,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:A}}}})(Qe.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new YN(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},h=new S0(100).encode(c,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A}(Qe.API),Gn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Pt.log("bit decode error:"+r)}},Gn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Gn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Gn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Gn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=c}this.pos+=t}},Gn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Gn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Gn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Gn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Gn(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new S0(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Qe.API),T2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new T2(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new S0(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Qe.API),Qe.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var h=n[c],f=n[c+1],w=n[c+2],p=n[c+3];s[o++]=h,s[o++]=f,s[o++]=w,a[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Qe.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yo=Qe.API,fd=yo.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,w=0,p=t.length,_=0,N=o[0]||l,A=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(w=f&&St(c[n])==="object"&&!isNaN(parseInt(c[n][_],10))?c[n][_]/h:0,A.push((o[n]||N)/l+w)),_=n;return A},P2=yo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return yo.processArabic&&(t=yo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:fd.apply(this,arguments).reduce(function(s,a){return s+a},0)},C2=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},L2=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,h=[],f=[h],w=r.textIndent||0,p=0,_=0,N=t.split(" "),A=fd.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),b=[];N.map(function(T){(T=T.split(/\s*\n/)).length>1?b=b.concat(T.map(function(D,Y){return(Y&&D.length?`
`:"")+D})):b.push(T[0])}),N=b,l=P2.apply(this,[v,r])}for(s=0,a=N.length;s<a;s++){var S=0;if(n=N[s],l&&n[0]==`
`&&(n=n.substr(1),S=1),w+p+(_=(i=fd.apply(this,[n,r])).reduce(function(T,D){return T+D},0))>e||S){if(_>e){for(o=C2.apply(this,[n,i,e-(w+p),e]),h.push(o.shift()),h=[o.pop()];o.length;)f.push([o.shift()]);_=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(T,D){return T+D},0)}else h=[n];f.push(h),w=_+l,p=A}else h.push(n),w+=p+_,p=A}return c=l?function(T,D){return(D?v:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(c)},yo.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(L2.apply(this,[n[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},a=t.__fontmetrics__.compress=function(f){var w,p,_,N,A=["{"];for(var v in f){if(w=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=s(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof w=="number")w<0?(_=s(w).slice(3),N="-"):(_=s(w).slice(2),N=""),_=N+_.slice(0,-1)+n[_.slice(-1)];else{if(St(w)!=="object")throw new Error("Don't know what to do with value type "+St(w)+".");_=a(w)}A.push(p+_)}return A.push("}"),A.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,p,_,N,A={},v=1,b=A,S=[],T="",D="",Y=f.length-1,R=1;R<Y;R+=1)(N=f[R])=="'"?w?(_=w.join(""),w=void 0):w=[]:w?w.push(N):N=="{"?(S.push([b,_]),b={},_=void 0):N=="}"?((p=S.pop())[0][p[1]]=b,_=void 0,b=p[0]):N=="-"?v=-1:_===void 0?r.hasOwnProperty(N)?(T+=r[N],_=parseInt(T,16)*v,v=1,T=""):T+=N:r.hasOwnProperty(N)?(D+=r[N],b[_]=parseInt(D,16)*v,v=1,_=void 0,D=""):D+=N;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var w=f.font,p=h.Unicode[w.postScriptName];p&&(w.metadata.Unicode={},w.metadata.Unicode.widths=p.widths,w.metadata.Unicode.kerning=p.kerning);var _=c.Unicode[w.postScriptName];_&&(w.metadata.Unicode.encoding=_,w.encoding=_.codePages[0])}])}(Qe.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(vu(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Qe),function(t){function e(){return(Xe.canvg?Promise.resolve(Xe.canvg):Hs(()=>import("./index.es-BMljPsEp.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Qe.API.addSvgAsImage=function(r,n,i,s,a,o,l,c){if(isNaN(n)||isNaN(i))throw Pt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Pt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=a;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(_){return _.fromString(f,r,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(w)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),n,i,s,a,l,c)})}}(),Qe.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Qe.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,h=0,f=0;function w(_,N){var A,v=!1;for(A=0;A<_.length;A+=1)_[A]===N&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(St(t)==="object"){for(i in t)if(s=t[i],w(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&w(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,N=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?N.push("/"+_+" /"+r[_].value):N.push("/"+_+" "+r[_].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Qe.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,w=s.length;f<w;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(c[4-o.length],o)}return h.join("")},n=function(s){var a,o,l,c,h,f,w;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,w=(o=Object.keys(s).sort(function(p,_){return p-_})).length;f<w;f++)a=o[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,w=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",_=0;_<w.length;_++)p+=String.fromCharCode(w[_]);var N=c();h({data:p,addLength1:!0,objectId:N}),l("endobj");var A=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+xo(o.fontName)),l("/FontFile2 "+N+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+xo(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+xo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,w="",p=0;p<f.length;p++)w+=String.fromCharCode(f[p]);var _=c();h({data:w,addLength1:!0,objectId:_}),l("endobj");var N=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var A=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+xo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+xo(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,h=s.options||{},f=s.mutex||{},w=f.pdfEscape,p=f.activeFontKey,_=f.fonts,N=p,A="",v=0,b="",S=_[N].encoding;if(_[N].encoding!=="Identity-H")return{text:o,x:l,y:c,options:h,mutex:f};for(b=o,N=p,Array.isArray(o)&&(b=o[0]),v=0;v<b.length;v+=1)_[N].metadata.hasOwnProperty("cmap")&&(a=_[N].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),a||b[v].charCodeAt(0)<256&&_[N].metadata.hasOwnProperty("Unicode")?A+=b[v]:A+="";var T="";return parseInt(N.slice(1))<14||S==="WinAnsiEncoding"?T=w(A,N).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=r(A,_[N])),f.isHex=!0,{text:T,x:l,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Qe),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Qe.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,h,f=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var T=function(E){var L=E.charCodeAt(),W=L>>8,K=N[W];return K!==void 0?f[256*K+(255&L)]:W===252||W===253?"AL":v.test(W)?"L":W===8?"R":"N"},D=function(E){for(var L,W=0;W<E.length;W++){if((L=T(E.charAt(W)))==="L")return!1;if(L==="R")return!0}return!1},Y=function(E,L,W,K){var pe,de,re,q,Q=L[K];switch(Q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Q="AN");break;case"AL":b=!0,Q="R";break;case"WS":Q="N";break;case"CS":K<1||K+1>=L.length||(pe=W[K-1])!=="EN"&&pe!=="AN"||(de=L[K+1])!=="EN"&&de!=="AN"?Q="N":b&&(de="AN"),Q=de===pe?de:"N";break;case"ES":Q=(pe=K>0?W[K-1]:"B")==="EN"&&K+1<L.length&&L[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&W[K-1]==="EN"){Q="EN";break}if(b){Q="N";break}for(re=K+1,q=L.length;re<q&&L[re]==="ET";)re++;Q=re<q&&L[re]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(q=L.length,re=K+1;re<q&&L[re]==="NSM";)re++;if(re<q){var ie=E[K],me=ie>=1425&&ie<=2303||ie===64286;if(pe=L[re],me&&(pe==="R"||pe==="AL")){Q="R";break}}}Q=K<1||(pe=L[K-1])==="B"?"N":W[K-1];break;case"B":b=!1,i=!0,Q=S;break;case"S":s=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Q="N"}return Q},R=function(E,L,W){var K=E.split("");return W&&k(K,W,{hiLevel:S}),K.reverse(),L&&L.reverse(),K.join("")},k=function(E,L,W){var K,pe,de,re,q,Q=-1,ie=E.length,me=0,j=[],$=S?p:w,V=[];for(b=!1,i=!1,s=!1,pe=0;pe<ie;pe++)V[pe]=T(E[pe]);for(de=0;de<ie;de++){if(q=me,j[de]=Y(E,V,j,de),K=240&(me=$[q][_[j[de]]]),me&=15,L[de]=re=$[me][5],K>0)if(K===16){for(pe=Q;pe<de;pe++)L[pe]=1;Q=-1}else Q=-1;if($[me][6])Q===-1&&(Q=de);else if(Q>-1){for(pe=Q;pe<de;pe++)L[pe]=re;Q=-1}V[de]==="B"&&(L[de]=0),W.hiLevel|=re}s&&function(J,Z,ue){for(var oe=0;oe<ue;oe++)if(J[oe]==="S"){Z[oe]=S;for(var le=oe-1;le>=0&&J[le]==="WS";le--)Z[le]=S}}(V,L,ie)},O=function(E,L,W,K,pe){if(!(pe.hiLevel<E)){if(E===1&&S===1&&!i)return L.reverse(),void(W&&W.reverse());for(var de,re,q,Q,ie=L.length,me=0;me<ie;){if(K[me]>=E){for(q=me+1;q<ie&&K[q]>=E;)q++;for(Q=me,re=q-1;Q<re;Q++,re--)de=L[Q],L[Q]=L[re],L[re]=de,W&&(de=W[Q],W[Q]=W[re],W[re]=de);me=q}me++}}},U=function(E,L,W){var K=E.split(""),pe={hiLevel:S};return W||(W=[]),k(K,W,pe),function(de,re,q){if(q.hiLevel!==0&&h)for(var Q,ie=0;ie<de.length;ie++)re[ie]===1&&(Q=A.indexOf(de[ie]))>=0&&(de[ie]=A[Q+1])}(K,W,pe),O(2,K,L,W,pe),O(1,K,L,W,pe),K.join("")};return this.__bidiEngine__.doBidiReorder=function(E,L,W){if(function(pe,de){if(de)for(var re=0;re<pe.length;re++)de[re]=re;o===void 0&&(o=D(pe)),c===void 0&&(c=D(pe))}(E,L),a||!l||c)if(a&&l&&o^c)S=o?1:0,E=R(E,L,W);else if(!a&&l&&c)S=o?1:0,E=U(E,L,W),E=R(E,L);else if(!a||o||l||c){if(a&&!l&&o^c)E=R(E,L),o?(S=0,E=U(E,L,W)):(S=1,E=U(E,L,W),E=R(E,L));else if(a&&o&&!l&&c)S=1,E=U(E,L,W),E=R(E,L);else if(!a&&!l&&o^c){var K=h;o?(S=1,E=U(E,L,W),S=0,h=!1,E=U(E,L,W),h=K):(S=0,E=U(E,L,W),E=R(E,L),S=1,h=!1,E=U(E,L,W),h=K,E=R(E,L))}}else S=0,E=U(E,L,W);else S=o?1:0,E=U(E,L,W);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,h=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Qe),Qe.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Vs(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new d8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new QN(this.contents),this.head=new ZN(this),this.name=new i8(this),this.cmap=new bw(this),this.toUnicode={},this.hhea=new e8(this),this.maxp=new s8(this),this.hmtx=new a8(this),this.post=new r8(this),this.os2=new t8(this),this.loca=new c8(this),this.glyf=new o8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var si,Vs=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),QN=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,h,f,w,p,_,N;for(N in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),a=Math.floor(f/l),h=16*p-f,(i=new Vs).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(h),s=16*p,c=i.pos+s,o=null,_=[],r)for(w=r[N],i.writeString(N),i.writeInt(t(w)),i.writeInt(c),i.writeInt(w.length),_=_.concat(w),N==="head"&&(o=c),c+=w.length;c%4;)_.push(0),c++;return i.write(_),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=xw.call(r);r.length%4;)r.push(0);for(s=new Vs(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),XN={}.hasOwnProperty,Pi=function(t,e){for(var r in e)XN.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};si=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ZN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Vs).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),F2=function(){function t(e,r){var n,i,s,a,o,l,c,h,f,w,p,_,N,A,v,b,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),w=p/2,e.pos+=6,s=function(){var T,D;for(D=[],l=T=0;0<=w?T<w:T>w;l=0<=w?++T:--T)D.push(e.readUInt16());return D}(),e.pos+=2,N=function(){var T,D;for(D=[],l=T=0;0<=w?T<w:T>w;l=0<=w?++T:--T)D.push(e.readUInt16());return D}(),c=function(){var T,D;for(D=[],l=T=0;0<=w?T<w:T>w;l=0<=w?++T:--T)D.push(e.readUInt16());return D}(),h=function(){var T,D;for(D=[],l=T=0;0<=w?T<w:T>w;l=0<=w?++T:--T)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,o=function(){var T,D;for(D=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)D.push(e.readUInt16());return D}(),l=v=0,S=s.length;v<S;l=++v)for(A=s[l],n=b=_=N[l];_<=A?b<=A:b>=A;n=_<=A?++b:--b)h[l]===0?a=n+c[l]:(a=o[h[l]/2+(n-_)-(w-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=f}return t.encode=function(e,r){var n,i,s,a,o,l,c,h,f,w,p,_,N,A,v,b,S,T,D,Y,R,k,O,U,E,L,W,K,pe,de,re,q,Q,ie,me,j,$,V,J,Z,ue,oe,le,Ne,ye,Pe;switch(K=new Vs,a=Object.keys(e).sort(function(Ce,Re){return Ce-Re}),r){case"macroman":for(N=0,A=function(){var Ce=[];for(_=0;_<256;++_)Ce.push(0);return Ce}(),b={0:0},s={},pe=0,Q=a.length;pe<Q;pe++)b[le=e[i=a[pe]]]==null&&(b[le]=++N),s[i]={old:e[i],new:b[e[i]]},A[i]=b[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(A),{charMap:s,subtable:K.data,maxGlyphID:N+1};case"unicode":for(L=[],f=[],S=0,b={},n={},v=c=null,de=0,ie=a.length;de<ie;de++)b[D=e[i=a[de]]]==null&&(b[D]=++S),n[i]={old:D,new:b[D]},o=b[D]-i,v!=null&&o===c||(v&&f.push(v),L.push(i),c=o),v=i;for(v&&f.push(v),f.push(65535),L.push(65535),U=2*(O=L.length),k=2*Math.pow(Math.log(O)/Math.LN2,2),w=Math.log(k/2)/Math.LN2,R=2*O-k,l=[],Y=[],p=[],_=re=0,me=L.length;re<me;_=++re){if(E=L[_],h=f[_],E===65535){l.push(0),Y.push(0);break}if(E-(W=n[E].new)>=32768)for(l.push(0),Y.push(2*(p.length+O-_)),i=q=E;E<=h?q<=h:q>=h;i=E<=h?++q:--q)p.push(n[i].new);else l.push(W-E),Y.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*O+2*p.length),K.writeUInt16(0),K.writeUInt16(U),K.writeUInt16(k),K.writeUInt16(w),K.writeUInt16(R),ue=0,j=f.length;ue<j;ue++)i=f[ue],K.writeUInt16(i);for(K.writeUInt16(0),oe=0,$=L.length;oe<$;oe++)i=L[oe],K.writeUInt16(i);for(Ne=0,V=l.length;Ne<V;Ne++)o=l[Ne],K.writeUInt16(o);for(ye=0,J=Y.length;ye<J;ye++)T=Y[ye],K.writeUInt16(T);for(Pe=0,Z=p.length;Pe<Z;Pe++)N=p[Pe],K.writeUInt16(N);return{charMap:n,subtable:K.data,maxGlyphID:S+1}}},t}(),bw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new F2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=F2.encode(r,n),(s=new Vs).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),e8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),t8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),r8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e}(),n8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},i8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,c,h,f,w,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=f=0,w=i.length;f<w;a=++f)s=i[a],r.pos=s.offset,h=r.readString(s.length),o=new n8(h,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),s8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),a8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)f.push(r.readInt16());return f}(),this.widths=(function(){var h,f,w,p;for(p=[],h=0,f=(w=this.metrics).length;h<f;h++)a=w[h],p.push(a.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),xw=[].slice,o8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,c,h,f,w;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new Vs(n.read(s))).readShort(),h=l.readShort(),w=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new u8(l,h,w,c,f):new l8(l,o,h,w,c,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),l8=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),u8=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Vs(xw.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),c8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,si),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},e}(),d8=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,h,f,w,p,_,N,A,v;for(i in n=bw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},v=n.charMap)p[(l=v[i]).old]=l.new;for(_ in w=n.maxGlyphID,a)_ in p||(p[_]=w++);return h=function(b){var S,T;for(S in T={},b)T[b[S]]=S;return T}(p),f=Object.keys(h).sort(function(b,S){return b-S}),N=function(){var b,S,T;for(T=[],b=0,S=f.length;b<S;b++)o=f[b],T.push(h[o]);return T}(),s=this.font.glyf.encode(a,N,p),c=this.font.loca.encode(s.offsets,N),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();Qe.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function Sw(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=o*l,h=/\r\n|\r|\n/g,f="",w=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof t=="string"?t.split(h):t,w=f.length||1),r+=o*(2-s),n.valign==="middle"?r-=w/2*c:n.valign==="bottom"&&(r-=w*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&w>=1){for(var _=0;_<f.length;_++)i.text(f[_],e-i.getStringUnitWidth(f[_])*p,r),r+=c;return i}e-=i.getStringUnitWidth(t)*p}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var I2={},Wo=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:I2=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var h=t.unifyColor(e.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=t.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=t.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return I2||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Hp=function(t,e){return Hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Hp(t,e)};function _w(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Nw=function(t){_w(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function h8(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function f8(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function hh(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function kw(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=Aw(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function Aw(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function qh(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function jw(t,e){var r=qh(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function p8(t,e,r,n,i){var s={},a=1.3333333333333333,o=_0(e,function(S){return i.getComputedStyle(S).backgroundColor});o!=null&&(s.fillColor=o);var l=_0(e,function(S){return i.getComputedStyle(S).color});l!=null&&(s.textColor=l);var c=m8(n,r);c&&(s.cellPadding=c);var h="borderTopColor",f=a*r,w=n.borderTopWidth;if(n.borderBottomWidth===w&&n.borderRightWidth===w&&n.borderLeftWidth===w){var p=(parseFloat(w)||0)/f;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var _=_0(e,function(S){return i.getComputedStyle(S)[h]});_!=null&&(s.lineColor=_);var N=["left","right","center","justify"];N.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),N=["middle","bottom","top"],N.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(s.fontSize=A/a);var v=g8(n);v&&(s.fontStyle=v);var b=(n.fontFamily||"").toLowerCase();return t.indexOf(b)!==-1&&(s.font=b),s}function g8(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function _0(t,e){var r=Pw(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Pw(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Pw(t.parentElement,e):r}function m8(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=qh(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function Cw(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),h=[],f=[],w=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:f,foot:w};for(var p=0;p<o.rows.length;p++){var _=o.rows[p],N=(a=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),A=y8(l,c,r,_,n,i);A&&(N==="thead"?h.push(A):N==="tfoot"?w.push(A):f.push(A))}return{head:h,body:f,foot:w}}function y8(t,e,r,n,i,s){for(var a=new Nw(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(i||c.display!=="none"){var h=void 0;s&&(h=p8(t,l,e,c,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:v8(l)})}}var f=r.getComputedStyle(n);if(a.length>0&&(i||f.display!=="none"))return a}function v8(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function w8(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ki(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function Lw(t,e){var r=new Wo(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();w8(i,n,e);var s=Ki({},i,n,e),a;typeof window<"u"&&(a=window);var o=b8(i,n,e),l=x8(i,n,e),c=S8(r,s),h=N8(r,s,a);return{id:e.tableId,content:h,hooks:l,styles:o,settings:c}}function b8(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],h=e[l],f=r[l];n.columnStyles=Ki({},c,h,f)}else{var w=[t,e,r],p=w.map(function(_){return _[l]||{}});n[l]=Ki({},p[0],p[1],p[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function x8(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function S8(t,e){var r,n,i,s,a,o,l,c,h,f,w,p,_=qh(e.margin,40/t.scaleFactor()),N=(r=_8(t,e.startY))!==null&&r!==void 0?r:_.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var b=(s=e.useCss)!==null&&s!==void 0?s:!1,S=e.theme||(b?"plain":"striped"),T=!!e.horizontalPageBreak,D=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:S,startY:N,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:v,showFoot:A,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(w=e.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:T,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function _8(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function N8(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=Cw(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||k8(n,i,s);return{columns:l,head:n,body:i,foot:s}}function k8(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var h={dataKey:c};i.push(h)}}),i}var Wp=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),A8=function(t){_w(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(Wp),j8=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var c=l[o],h=new A8(e,this,n,i,s,a),f=c(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new Wp(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new Wp(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Ew=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Nw&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>i?c:i},0)},t}(),Tw=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=qh(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),P8=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function C8(t,e){L8(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=Vp(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Vp(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),T8(e),F8(e,t),E8(e)}function L8(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=jw(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){var h=e.hooks.didParseCell;e.callCellHooks(t,h,c,s,l,null);var f=c.padding("horizontal");c.contentWidth=hh(c.text,c.styles,t)+f;var w=hh(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=w+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var h=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=h.cellWidth||h.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function Vp(t,e,r){for(var n=e,i=t.reduce(function(p,_){return p+_.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,c=a.width+l,h=r(a),f=c<h?h:c;e-=f-a.width,a.width=f}if(e=Math.round(e*1e10)/1e10,e){var w=t.filter(function(p){return e<0?p.width>r(p):!0});w.length&&(e=Vp(w,e,r))}return e}function E8(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var h=s.cells[l.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var f=n.length-i,w=h.rowSpan>f?f:h.rowSpan;e[l.index]={cell:h,left:w,row:s}}}}}function T8(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(a=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function F8(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var h=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,h+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=O2(c.text,h,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=O2(c.text,h,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,h);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var w=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<w*c.rowSpan?r={height:w,count:c.rowSpan}:r&&r.count>0&&r.height>w&&(w=r.height),w>s.height&&(s.height=w)}}r.count--}}function O2(t,e,r,n,i){return t.map(function(s){return I8(s,e,r,n,i)})}function I8(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=hh(t,r,n))return t;for(;e<hh(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Fw(t,e){var r=new Wo(t),n=O8(e,r.scaleFactor()),i=new j8(e,n);return C8(r,i),r.applyStyles(r.userStyles),i}function O8(t,e){var r=t.content,n=M8(r.columns);if(r.head.length===0){var i=R2(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=R2(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:N0("head",r.head,n,a,s,e),body:N0("body",r.body,n,a,s,e),foot:N0("foot",r.foot,n,a,s,e)}}function N0(t,e,r,n,i,s){var a={},o=e.map(function(l,c){for(var h=0,f={},w=0,p=0,_=0,N=r;_<N.length;_++){var A=N[_];if(a[A.index]==null||a[A.index].left===0)if(p===0){var v=void 0;Array.isArray(l)?v=l[A.index-w-h]:v=l[A.dataKey];var b={};typeof v=="object"&&!Array.isArray(v)&&(b=(v==null?void 0:v.styles)||{});var S=$8(t,A,c,i,n,s,b),T=new Tw(v,S,t);f[A.dataKey]=T,f[A.index]=T,p=T.colSpan-1,a[A.index]={left:T.rowSpan-1,times:p}}else p--,w++;else a[A.index].left--,p=a[A.index].times,h++}return new Ew(l,c,t,f)});return o}function R2(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=R8(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function R8(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function M8(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new P8(i,e,r)})}function $8(t,e,r,n,i,s,a){var o=f8(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=Ki({},o.table,o[t],i.styles,l),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=t==="body"?h:{},w=t==="body"&&r%2===0?Ki({},o.alternateRow,i.alternateRowStyles):{},p=h8(s),_=Ki({},p,c,w,f);return Ki(_,a)}function B8(t,e,r){var n;r===void 0&&(r={});var i=jw(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(w){var p=e.columns.find(function(_){return _.dataKey===w||_.index===w});p&&!s.has(p.index)&&(s.set(p.index,!0),a.push(p.index),o.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var c=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<e.columns.length;){if(s.has(h)){h++;continue}var f=e.columns[h].wrappedWidth;if(c||i>=f)c=!1,a.push(h),o.push(e.columns[h]),i-=f;else break;h++}return{colIndexes:a,columns:o,lastIndex:h-1}}function D8(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=B8(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function Iw(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(w,p){return w+p.height},0);o+=c}var h=new Wo(t);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(Rw(h),s.y=i.top),e.callWillDrawPageHooks(h,s);var f=Ki({},s);e.startPageNumber=h.pageNumber(),r.horizontalPageBreak?U8(h,e,f,s):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(w){return ns(h,e,w,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(w,p){var _=p===e.body.length-1;fh(h,e,w,_,f,s,e.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(w){return ns(h,e,w,s,e.columns)})),kw(h,e,f,s),e.callEndPageHooks(h,s),e.finalY=s.y,t.lastAutoTable=e,h.applyStyles(h.userStyles)}function U8(t,e,r,n){var i=D8(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,h){t.applyStyles(t.userStyles),h>0?wu(t,e,r,n,c.columns,!0):M2(t,e,n,c.columns),z8(t,e,r,n,c.columns),k0(t,e,n,c.columns)});else for(var a=-1,o=i[0],l=function(){var c=a;if(o){t.applyStyles(t.userStyles);var h=o.columns;a>=0?wu(t,e,r,n,h,!0):M2(t,e,n,h),c=$2(t,e,a+1,n,h),k0(t,e,n,h)}var f=c-a;i.slice(1).forEach(function(w){t.applyStyles(t.userStyles),wu(t,e,r,n,w.columns,!0),$2(t,e,a+1,n,w.columns,f),k0(t,e,n,w.columns)}),a=c};a<e.body.length-1;)l()}function M2(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return ns(t,e,s,r,n)})}function z8(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;fh(t,e,s,o,r,n,i)})}function $2(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,c){var h=r+c===e.body.length-1,f=Ow(t,e,h,n);l.canEntireRowFit(f,i)&&(ns(t,e,l,n,i),o=r+c)}),o}function k0(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return ns(t,e,s,r,n)})}function q8(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function H8(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var h=new Tw(c.raw,c.styles,c.section);h=Ki(h,c),h.text=[];var f=q8(c,e,n);c.text.length>f&&(h.text=c.text.splice(f,c.text.length));var w=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(w,p),c.contentHeight>=e&&(c.contentHeight=e,h.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),h.contentHeight=h.getContentHeight(w,p),h.contentHeight>s&&(s=h.contentHeight),i[l.index]=h}}var _=new Ew(t.raw,-1,t.section,i,!0);_.height=s;for(var N=0,A=r.columns;N<A.length;N++){var l=A[N],h=_.cells[l.index];h&&(h.height=_.height);var c=t.cells[l.index];c&&(c.height=t.height)}return _}function W8(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var h=e.hasRowSpan(n.columns),f=e.getMaxCellHeight(n.columns)>o;return f?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function fh(t,e,r,n,i,s,a){var o=Ow(t,e,n,s);if(r.canEntireRowFit(o,a))ns(t,e,r,s,a);else if(W8(t,r,o,e)){var l=H8(r,o,e,t);ns(t,e,r,s,a),wu(t,e,i,s,a),fh(t,e,l,n,i,s,a)}else wu(t,e,i,s,a),fh(t,e,r,n,i,s,a)}function ns(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}V8(t,l,n);var h=l.getTextPos();Sw(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function V8(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=Aw(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),G8(t,e,r,n.lineWidth))}function G8(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(c,h,f,w,p){t.getDocument().setLineWidth(c),t.getDocument().line(h,f,w,p,"S")}}function Ow(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function wu(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return ns(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;kw(t,e,r,n),Rw(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return ns(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function Rw(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function K8(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=Lw(this,n),s=Fw(this,i);return Iw(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){Sw(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Wo.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Wo.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Wo(this),s=Cw(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var A0;function J8(t,e){var r=Lw(t,e),n=Fw(t,r);Iw(t,n)}try{if(typeof window<"u"&&window){var B2=window,D2=B2.jsPDF||((A0=B2.jspdf)===null||A0===void 0?void 0:A0.jsPDF);D2&&K8(D2)}}catch(t){console.error("Could not apply autoTable plugin",t)}var Mw={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(mn,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function h(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var U=D(O);U.chunkSize=parseInt(U.chunkSize),O.step||O.chunk||(U.chunkSize=null),this._handle=new N(U),(this._handle.streamer=this)._config=U}).call(this,k),this.parseChunk=function(O,U){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let W=this._config.newline;W||(L=this._config.quoteChar||'"',W=this._handle.guessLineEndings(O,L)),O=[...O.split(W).slice(E)].join(W)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(L=this._config.beforeFirstChunk(O))!==void 0&&(O=L),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+O,L=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=L.meta.cursor,E=(this._finished||(this._partialLine=E.substring(O-this._baseIndex),this._baseIndex=O),L&&L.data&&(this._rowCount+=L.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:L,workerId:c.WORKER_ID,finished:E});else if(R(this._config.chunk)&&!U){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=L=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!E||!R(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(O){R(this._config.error)?this._config.error(O):a&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:O,finished:!1})}}function f(k){var O;(k=k||{}).chunkSize||(k.chunkSize=c.RemoteChunkSize),h.call(this,k),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),s||(O.onload=Y(this._chunkLoaded,this),O.onerror=Y(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var U,E=this._config.downloadRequestHeaders;for(U in E)O.setRequestHeader(U,E[U])}var L;this._config.chunkSize&&(L=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+L));try{O.send(this._config.downloadRequestBody)}catch(W){this._chunkError(W.message)}s&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(U){U=O.statusText||U,this._sendError(new Error(U))}}function w(k){(k=k||{}).chunkSize||(k.chunkSize=c.LocalChunkSize),h.call(this,k);var O,U,E=typeof FileReader<"u";this.stream=function(L){this._input=L,U=L.slice||L.webkitSlice||L.mozSlice,E?((O=new FileReader).onload=Y(this._chunkLoaded,this),O.onerror=Y(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input,W=(this._config.chunkSize&&(W=Math.min(this._start+this._config.chunkSize,this._input.size),L=U.call(L,this._start,W)),O.readAsText(L,this._config.encoding));E||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(O.error)}}function p(k){var O;h.call(this,k=k||{}),this.stream=function(U){return O=U,this._nextChunk()},this._nextChunk=function(){var U,E;if(!this._finished)return U=this._config.chunkSize,O=U?(E=O.substring(0,U),O.substring(U)):(E=O,""),this._finished=!O,this.parseChunk(E)}}function _(k){h.call(this,k=k||{});var O=[],U=!0,E=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):U=!0},this._streamData=Y(function(L){try{O.push(typeof L=="string"?L:L.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(W){this._streamError(W)}},this),this._streamError=Y(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=Y(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(k){var O,U,E,L,W=Math.pow(2,53),K=-W,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,de=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,re=this,q=0,Q=0,ie=!1,me=!1,j=[],$={data:[],errors:[],meta:{}};function V(oe){return k.skipEmptyLines==="greedy"?oe.join("").trim()==="":oe.length===1&&oe[0].length===0}function J(){if($&&E&&(ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),k.skipEmptyLines&&($.data=$.data.filter(function(ye){return!V(ye)})),Z()){let ye=function(Pe,Ce){R(k.transformHeader)&&(Pe=k.transformHeader(Pe,Ce)),j.push(Pe)};if($)if(Array.isArray($.data[0])){for(var oe=0;Z()&&oe<$.data.length;oe++)$.data[oe].forEach(ye);$.data.splice(0,1)}else $.data.forEach(ye)}function le(ye,Pe){for(var Ce=k.header?{}:[],Re=0;Re<ye.length;Re++){var ge=Re,H=ye[Re],H=((We,Ae)=>(be=>(k.dynamicTypingFunction&&k.dynamicTyping[be]===void 0&&(k.dynamicTyping[be]=k.dynamicTypingFunction(be)),(k.dynamicTyping[be]||k.dynamicTyping)===!0))(We)?Ae==="true"||Ae==="TRUE"||Ae!=="false"&&Ae!=="FALSE"&&((be=>{if(pe.test(be)&&(be=parseFloat(be),K<be&&be<W))return 1})(Ae)?parseFloat(Ae):de.test(Ae)?new Date(Ae):Ae===""?null:Ae):Ae)(ge=k.header?Re>=j.length?"__parsed_extra":j[Re]:ge,H=k.transform?k.transform(H,ge):H);ge==="__parsed_extra"?(Ce[ge]=Ce[ge]||[],Ce[ge].push(H)):Ce[ge]=H}return k.header&&(Re>j.length?ue("FieldMismatch","TooManyFields","Too many fields: expected "+j.length+" fields but parsed "+Re,Q+Pe):Re<j.length&&ue("FieldMismatch","TooFewFields","Too few fields: expected "+j.length+" fields but parsed "+Re,Q+Pe)),Ce}var Ne;$&&(k.header||k.dynamicTyping||k.transform)&&(Ne=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(le),Ne=$.data.length):$.data=le($.data,0),k.header&&$.meta&&($.meta.fields=j),Q+=Ne)}function Z(){return k.header&&j.length===0}function ue(oe,le,Ne,ye){oe={type:oe,code:le,message:Ne},ye!==void 0&&(oe.row=ye),$.errors.push(oe)}R(k.step)&&(L=k.step,k.step=function(oe){$=oe,Z()?J():(J(),$.data.length!==0&&(q+=oe.data.length,k.preview&&q>k.preview?U.abort():($.data=$.data[0],L($,re))))}),this.parse=function(oe,le,Ne){var ye=k.quoteChar||'"',ye=(k.newline||(k.newline=this.guessLineEndings(oe,ye)),E=!1,k.delimiter?R(k.delimiter)&&(k.delimiter=k.delimiter(oe),$.meta.delimiter=k.delimiter):((ye=((Pe,Ce,Re,ge,H)=>{var We,Ae,be,Ee;H=H||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Fe=0;Fe<H.length;Fe++){for(var Te,ze=H[Fe],qe=0,Ge=0,He=0,et=(be=void 0,new v({comments:ge,delimiter:ze,newline:Ce,preview:10}).parse(Pe)),ut=0;ut<et.data.length;ut++)Re&&V(et.data[ut])?He++:(Te=et.data[ut].length,Ge+=Te,be===void 0?be=Te:0<Te&&(qe+=Math.abs(Te-be),be=Te));0<et.data.length&&(Ge/=et.data.length-He),(Ae===void 0||qe<=Ae)&&(Ee===void 0||Ee<Ge)&&1.99<Ge&&(Ae=qe,We=ze,Ee=Ge)}return{successful:!!(k.delimiter=We),bestDelimiter:We}})(oe,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=ye.bestDelimiter:(E=!0,k.delimiter=c.DefaultDelimiter),$.meta.delimiter=k.delimiter),D(k));return k.preview&&k.header&&ye.preview++,O=oe,U=new v(ye),$=U.parse(O,le,Ne),J(),ie?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,U.abort(),O=R(k.chunk)?"":O.substring(U.getCharIndex())},this.resume=function(){re.streamer._halted?(ie=!1,re.streamer.parseChunk(O,!0)):setTimeout(re.resume,3)},this.aborted=function(){return me},this.abort=function(){me=!0,U.abort(),$.meta.aborted=!0,R(k.complete)&&k.complete($),O=""},this.guessLineEndings=function(Pe,ye){Pe=Pe.substring(0,1048576);var ye=new RegExp(A(ye)+"([^]*?)"+A(ye),"gm"),Ne=(Pe=Pe.replace(ye,"")).split("\r"),ye=Pe.split(`
`),Pe=1<ye.length&&ye[0].length<Ne[0].length;if(Ne.length===1||Pe)return`
`;for(var Ce=0,Re=0;Re<Ne.length;Re++)Ne[Re][0]===`
`&&Ce++;return Ce>=Ne.length/2?`\r
`:"\r"}}function A(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(k){var O=(k=k||{}).delimiter,U=k.newline,E=k.comments,L=k.step,W=k.preview,K=k.fastMode,pe=null,de=!1,re=k.quoteChar==null?'"':k.quoteChar,q=re;if(k.escapeChar!==void 0&&(q=k.escapeChar),(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=","),E===O)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var Q=0,ie=!1;this.parse=function(me,j,$){if(typeof me!="string")throw new Error("Input must be a string");var V=me.length,J=O.length,Z=U.length,ue=E.length,oe=R(L),le=[],Ne=[],ye=[],Pe=Q=0;if(!me)return qe();if(K||K!==!1&&me.indexOf(re)===-1){for(var Ce=me.split(U),Re=0;Re<Ce.length;Re++){if(ye=Ce[Re],Q+=ye.length,Re!==Ce.length-1)Q+=U.length;else if($)return qe();if(!E||ye.substring(0,ue)!==E){if(oe){if(le=[],Ee(ye.split(O)),Ge(),ie)return qe()}else Ee(ye.split(O));if(W&&W<=Re)return le=le.slice(0,W),qe(!0)}}return qe()}for(var ge=me.indexOf(O,Q),H=me.indexOf(U,Q),We=new RegExp(A(q)+A(re),"g"),Ae=me.indexOf(re,Q);;)if(me[Q]===re)for(Ae=Q,Q++;;){if((Ae=me.indexOf(re,Ae+1))===-1)return $||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:Q}),Te();if(Ae===V-1)return Te(me.substring(Q,Ae).replace(We,re));if(re===q&&me[Ae+1]===q)Ae++;else if(re===q||Ae===0||me[Ae-1]!==q){ge!==-1&&ge<Ae+1&&(ge=me.indexOf(O,Ae+1));var be=Fe((H=H!==-1&&H<Ae+1?me.indexOf(U,Ae+1):H)===-1?ge:Math.min(ge,H));if(me.substr(Ae+1+be,J)===O){ye.push(me.substring(Q,Ae).replace(We,re)),me[Q=Ae+1+be+J]!==re&&(Ae=me.indexOf(re,Q)),ge=me.indexOf(O,Q),H=me.indexOf(U,Q);break}if(be=Fe(H),me.substring(Ae+1+be,Ae+1+be+Z)===U){if(ye.push(me.substring(Q,Ae).replace(We,re)),ze(Ae+1+be+Z),ge=me.indexOf(O,Q),Ae=me.indexOf(re,Q),oe&&(Ge(),ie))return qe();if(W&&le.length>=W)return qe(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:Q}),Ae++}}else if(E&&ye.length===0&&me.substring(Q,Q+ue)===E){if(H===-1)return qe();Q=H+Z,H=me.indexOf(U,Q),ge=me.indexOf(O,Q)}else if(ge!==-1&&(ge<H||H===-1))ye.push(me.substring(Q,ge)),Q=ge+J,ge=me.indexOf(O,Q);else{if(H===-1)break;if(ye.push(me.substring(Q,H)),ze(H+Z),oe&&(Ge(),ie))return qe();if(W&&le.length>=W)return qe(!0)}return Te();function Ee(He){le.push(He),Pe=Q}function Fe(He){var et=0;return et=He!==-1&&(He=me.substring(Ae+1,He))&&He.trim()===""?He.length:et}function Te(He){return $||(He===void 0&&(He=me.substring(Q)),ye.push(He),Q=V,Ee(ye),oe&&Ge()),qe()}function ze(He){Q=He,Ee(ye),ye=[],H=me.indexOf(U,Q)}function qe(He){if(k.header&&!j&&le.length&&!de){var et=le[0],ut=Object.create(null),Je=new Set(et);let lt=!1;for(let Ie=0;Ie<et.length;Ie++){let kt=et[Ie];if(ut[kt=R(k.transformHeader)?k.transformHeader(kt,Ie):kt]){let ct,Wr=ut[kt];for(;ct=kt+"_"+Wr,Wr++,Je.has(ct););Je.add(ct),et[Ie]=ct,ut[kt]++,lt=!0,(pe=pe===null?{}:pe)[ct]=kt}else ut[kt]=1,et[Ie]=kt;Je.add(kt)}lt&&console.warn("Duplicate headers found and renamed."),de=!0}return{data:le,errors:Ne,meta:{delimiter:O,linebreak:U,aborted:ie,truncated:!!He,cursor:Pe+(j||0),renamedHeaders:pe}}}function Ge(){L(qe()),le=[],Ne=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return Q}}function b(k){var O=k.data,U=o[O.workerId],E=!1;if(O.error)U.userError(O.error,O.file);else if(O.results&&O.results.data){var L={abort:function(){E=!0,S(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(R(U.userStep)){for(var W=0;W<O.results.data.length&&(U.userStep({data:O.results.data[W],errors:O.results.errors,meta:O.results.meta},L),!E);W++);delete O.results}else R(U.userChunk)&&(U.userChunk(O.results,L,O.file),delete O.results)}O.finished&&!E&&S(O.workerId,O.results)}function S(k,O){var U=o[k];R(U.userComplete)&&U.userComplete(O),U.terminate(),delete o[k]}function T(){throw new Error("Not implemented.")}function D(k){if(typeof k!="object"||k===null)return k;var O,U=Array.isArray(k)?[]:{};for(O in k)U[O]=D(k[O]);return U}function Y(k,O){return function(){k.apply(O,arguments)}}function R(k){return typeof k=="function"}return c.parse=function(k,O){var U=(O=O||{}).dynamicTyping||!1;if(R(U)&&(O.dynamicTypingFunction=U,U={}),O.dynamicTyping=U,O.transform=!!R(O.transform)&&O.transform,!O.worker||!c.WORKERS_SUPPORTED)return U=null,c.NODE_STREAM_INPUT,typeof k=="string"?(k=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(k),U=new(O.download?f:p)(O)):k.readable===!0&&R(k.read)&&R(k.on)?U=new _(O):(n.File&&k instanceof File||k instanceof Object)&&(U=new w(O)),U.stream(k);(U=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var L=n.URL||n.webkitURL||null,W=r.toString();return c.BLOB_URL||(c.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=b,E.id=l++,o[E.id]=E)})()).userStep=O.step,U.userChunk=O.chunk,U.userComplete=O.complete,U.userError=O.error,O.step=R(O.step),O.chunk=R(O.chunk),O.complete=R(O.complete),O.error=R(O.error),delete O.worker,U.postMessage({input:k,config:O,workerId:U.id})},c.unparse=function(k,O){var U=!1,E=!0,L=",",W=`\r
`,K='"',pe=K+K,de=!1,re=null,q=!1,Q=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||c.BAD_DELIMITERS.filter(function(j){return O.delimiter.indexOf(j)!==-1}).length||(L=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(U=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(de=O.skipEmptyLines),typeof O.newline=="string"&&(W=O.newline),typeof O.quoteChar=="string"&&(K=O.quoteChar),typeof O.header=="boolean"&&(E=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");re=O.columns}O.escapeChar!==void 0&&(pe=O.escapeChar+K),O.escapeFormulae instanceof RegExp?q=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(A(K),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return ie(null,k,de);if(typeof k[0]=="object")return ie(re||Object.keys(k[0]),k,de)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||re),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),ie(k.fields||[],k.data||[],de);throw new Error("Unable to serialize unrecognized input");function ie(j,$,V){var J="",Z=(typeof j=="string"&&(j=JSON.parse(j)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(j)&&0<j.length),ue=!Array.isArray($[0]);if(Z&&E){for(var oe=0;oe<j.length;oe++)0<oe&&(J+=L),J+=me(j[oe],oe);0<$.length&&(J+=W)}for(var le=0;le<$.length;le++){var Ne=(Z?j:$[le]).length,ye=!1,Pe=Z?Object.keys($[le]).length===0:$[le].length===0;if(V&&!Z&&(ye=V==="greedy"?$[le].join("").trim()==="":$[le].length===1&&$[le][0].length===0),V==="greedy"&&Z){for(var Ce=[],Re=0;Re<Ne;Re++){var ge=ue?j[Re]:Re;Ce.push($[le][ge])}ye=Ce.join("").trim()===""}if(!ye){for(var H=0;H<Ne;H++){0<H&&!Pe&&(J+=L);var We=Z&&ue?j[H]:H;J+=me($[le][We],H)}le<$.length-1&&(!V||0<Ne&&!Pe)&&(J+=W)}}return J}function me(j,$){var V,J;return j==null?"":j.constructor===Date?JSON.stringify(j).slice(1,25):(J=!1,q&&typeof j=="string"&&q.test(j)&&(j="'"+j,J=!0),V=j.toString().replace(Q,pe),(J=J||U===!0||typeof U=="function"&&U(j,$)||Array.isArray(U)&&U[$]||((Z,ue)=>{for(var oe=0;oe<ue.length;oe++)if(-1<Z.indexOf(ue[oe]))return!0;return!1})(V,c.BAD_DELIMITERS)||-1<V.indexOf(L)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?K+V+K:V)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=v,c.ParserHandle=N,c.NetworkStreamer=f,c.FileStreamer=w,c.StringStreamer=p,c.ReadableStreamStreamer=_,n.jQuery&&((i=n.jQuery).fn.parse=function(k){var O=k.config||{},U=[];return this.each(function(W){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)U.push({file:this.files[K],inputElem:this,instanceConfig:i.extend({},O)})}),E(),this;function E(){if(U.length===0)R(k.complete)&&k.complete();else{var W,K,pe,de,re=U[0];if(R(k.before)){var q=k.before(re.file,re.inputElem);if(typeof q=="object"){if(q.action==="abort")return W="AbortError",K=re.file,pe=re.inputElem,de=q.reason,void(R(k.error)&&k.error({name:W},K,pe,de));if(q.action==="skip")return void L();typeof q.config=="object"&&(re.instanceConfig=i.extend(re.instanceConfig,q.config))}else if(q==="skip")return void L()}var Q=re.instanceConfig.complete;re.instanceConfig.complete=function(ie){R(Q)&&Q(ie,re.file,re.inputElem),L()},c.parse(re.file,re.instanceConfig)}}function L(){U.splice(0,1),E()}}),a&&(n.onmessage=function(k){k=k.data,c.WORKER_ID===void 0&&k&&(c.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=c.parse(k.input,k.config))&&n.postMessage({workerId:c.WORKER_ID,results:k,finished:!0})}),(f.prototype=Object.create(h.prototype)).constructor=f,(w.prototype=Object.create(h.prototype)).constructor=w,(p.prototype=Object.create(p.prototype)).constructor=p,(_.prototype=Object.create(h.prototype)).constructor=_,c})})(Mw);var Y8=Mw.exports;const Q8=_b(Y8);class Fs{static exportToPDF(e){try{if(console.log("📊 ExportService: Exporting PDF with data:",e),console.log("📊 ExportService: Summary data:",e.summary),!e.summary||!e.summary.statement1||!e.summary.statement2)throw new Error("Invalid summary data for PDF export");const r=new Qe;r.setFontSize(20),r.text("Bank Statement Comparison Report",20,20),r.setFontSize(14),r.text(`${e.statement1Name} vs ${e.statement2Name}`,20,35),r.text(`Generated on: ${e.comparisonDate}`,20,45),r.setFontSize(16),r.text("Summary",20,65),r.setFontSize(12),r.text(`${e.statement1Name}:`,20,80),r.text(`  Withdrawals: $${e.summary.statement1.totalWithdrawals.toFixed(2)}`,30,90),r.text(`  Deposits: $${e.summary.statement1.totalDeposits.toFixed(2)}`,30,100),r.text(`${e.statement2Name}:`,20,115),r.text(`  Withdrawals: $${e.summary.statement2.totalWithdrawals.toFixed(2)}`,30,125),r.text(`  Deposits: $${e.summary.statement2.totalDeposits.toFixed(2)}`,30,135),r.setFontSize(16),r.text("Category Breakdown",20,155);const n=e.categories.map(a=>[a.category,`$${a.statement1.toFixed(2)}`,`$${a.statement2.toFixed(2)}`,`${a.difference>0?"+":""}$${a.difference.toFixed(2)}`,`${a.percentChange.toFixed(1)}%`]);J8(r,{head:[["Category","Statement 1","Statement 2","Difference","Change %"]],body:n,startY:165,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[66,139,202],textColor:255}});const i=r.getNumberOfPages();for(let a=1;a<=i;a++)r.setPage(a),r.setFontSize(10),r.text(`Page ${a} of ${i}`,190,280,{align:"right"});const s=`comparison_${e.statement1Name}_vs_${e.statement2Name}_${new Date().toISOString().split("T")[0]}.pdf`;r.save(s)}catch(r){throw console.error("❌ ExportService: Error exporting PDF:",r),r}}static exportToCSV(e){try{if(console.log("📊 ExportService: Exporting CSV with data:",e),console.log("📊 ExportService: Summary data:",e.summary),!e.summary||!e.summary.statement1||!e.summary.statement2)throw new Error("Invalid summary data for CSV export");const r=[];r.push(["Bank Statement Comparison Report"]),r.push([`${e.statement1Name} vs ${e.statement2Name}`]),r.push([`Generated on: ${e.comparisonDate}`]),r.push([]),r.push(["Summary"]),r.push(["Statement","Withdrawals","Deposits"]),r.push([e.statement1Name,e.summary.statement1.totalWithdrawals.toFixed(2),e.summary.statement1.totalDeposits.toFixed(2)]),r.push([e.statement2Name,e.summary.statement2.totalWithdrawals.toFixed(2),e.summary.statement2.totalDeposits.toFixed(2)]),r.push([]),r.push(["Category Breakdown"]),r.push(["Category","Statement 1","Statement 2","Difference","Change %"]),e.categories.forEach(o=>{r.push([o.category,o.statement1.toFixed(2),o.statement2.toFixed(2),o.difference.toFixed(2),o.percentChange.toFixed(1)])}),r.push([]),r.push(["Detailed Transactions"]),r.push(["Category","Statement","Date","Description","Amount","Type"]),e.categories.forEach(o=>{o.transactions1&&Array.isArray(o.transactions1)&&o.transactions1.forEach(l=>{r.push([o.category,e.statement1Name,l.date,l.description,l.amount.toFixed(2),l.type])}),o.transactions2&&Array.isArray(o.transactions2)&&o.transactions2.forEach(l=>{r.push([o.category,e.statement2Name,l.date,l.description,l.amount.toFixed(2),l.type])})});const n=Q8.unparse(r),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(i);s.setAttribute("href",a),s.setAttribute("download",`comparison_${e.statement1Name}_vs_${e.statement2Name}_${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(r){throw console.error("❌ ExportService: Error exporting CSV:",r),r}}static prepareExportData(e,r,n,i){var w,p,_,N,A,v,b,S;console.log("🔍 ExportService: prepareExportData called with:",{categoriesCount:e.length,statement1Name:r,statement2Name:n,hasApiResult:!!i,apiResultKeys:i?Object.keys(i):null});let s=0,a=0,o=0,l=0;e.forEach(T=>{var D,Y;console.log("🔍 ExportService: Processing category:",T.category,{hasTransactions1:!!T.transactions1,transactions1Count:((D=T.transactions1)==null?void 0:D.length)||0,hasTransactions2:!!T.transactions2,transactions2Count:((Y=T.transactions2)==null?void 0:Y.length)||0}),T.transactions1&&Array.isArray(T.transactions1)&&T.transactions1.forEach(R=>{console.log("🔍 ExportService: Processing statement1 transaction:",{type:R.type,amount:R.amount,description:R.description}),R.type==="debit"||R.type==="withdrawal"?s+=R.amount:(R.type==="credit"||R.type==="deposit")&&(a+=R.amount)}),T.transactions2&&Array.isArray(T.transactions2)&&T.transactions2.forEach(R=>{console.log("🔍 ExportService: Processing statement2 transaction:",{type:R.type,amount:R.amount,description:R.description}),R.type==="debit"||R.type==="withdrawal"?o+=R.amount:(R.type==="credit"||R.type==="deposit")&&(l+=R.amount)})}),console.log("🔍 ExportService: Calculated totals:",{statement1Withdrawals:s,statement1Deposits:a,statement2Withdrawals:o,statement2Deposits:l});let c={statement1:{totalWithdrawals:((p=(w=i==null?void 0:i.statement1)==null?void 0:w.summary)==null?void 0:p.totalWithdrawals)||s,totalDeposits:((N=(_=i==null?void 0:i.statement1)==null?void 0:_.summary)==null?void 0:N.totalDeposits)||a},statement2:{totalWithdrawals:((v=(A=i==null?void 0:i.statement2)==null?void 0:A.summary)==null?void 0:v.totalWithdrawals)||o,totalDeposits:((S=(b=i==null?void 0:i.statement2)==null?void 0:b.summary)==null?void 0:S.totalDeposits)||l}};if(c.statement1.totalWithdrawals===0&&c.statement1.totalDeposits===0){console.log("🔍 ExportService: No transaction data, estimating from category totals");const T=e.reduce((k,O)=>k+(O.statement1||0),0),D=e.reduce((k,O)=>k+(O.statement2||0),0),R=e.filter(k=>k.category.toLowerCase().includes("income")||k.category.toLowerCase().includes("salary")||k.category.toLowerCase().includes("payment")).reduce((k,O)=>k+(O.statement1||0),0);c={statement1:{totalWithdrawals:T-R,totalDeposits:R},statement2:{totalWithdrawals:D-R,totalDeposits:R}}}const h=c;console.log("🔍 ExportService: Final summary:",h);const f=e.map(T=>({category:T.category,statement1:T.statement1,statement2:T.statement2,difference:T.difference,percentChange:T.percentChange,transactions1:T.transactions1||[],transactions2:T.transactions2||[]}));return{statement1Name:r,statement2Name:n,comparisonDate:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),categories:f,summary:h}}}function $w({isDark:t,context:e="general",onClose:r}){const[n,i]=se.useState(!1),[s,a]=se.useState(""),[o,l]=se.useState(!1),[c,h]=se.useState("idle"),f=async p=>{if(p.preventDefault(),!!s.trim()){l(!0),h("idle");try{const _=encodeURIComponent(`Bank Statement Comparison Feedback - ${e}`),N=encodeURIComponent(`Feedback Context: ${e}

User Feedback:
${s}

Timestamp: ${new Date().toISOString()}`),A=`mailto:feedback@statementcompare.com?subject=${_}&body=${N}`;window.open(A),h("success"),a(""),setTimeout(()=>{i(!1),h("idle")},2e3)}catch(_){console.error("Feedback submission error:",_),h("error")}finally{l(!1)}}},w=()=>{i(!n),n||(a(""),h("idle"))};return n?m.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${t?"bg-black/50":"bg-black/30"}`,children:m.jsxs("div",{className:`w-full max-w-md rounded-xl shadow-xl ${t?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[m.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${t?"border-gray-700":"border-gray-200"}`,children:[m.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Send Feedback"}),m.jsx("button",{onClick:w,className:`p-1 rounded-lg transition-colors ${t?"text-gray-400 hover:text-white hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:m.jsx(rs,{className:"h-5 w-5"})})]}),m.jsxs("form",{onSubmit:f,className:"p-4 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`}),m.jsx("textarea",{value:s,onChange:p=>a(p.target.value),rows:4,className:`w-full px-3 py-2 rounded-lg border resize-none ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Tell us what you think, what could be improved, or report any issues...",required:!0})]}),m.jsx("button",{type:"submit",disabled:o||!s.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${o||!s.trim()?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:o?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Sending..."]}):m.jsxs(m.Fragment,{children:[m.jsx($6,{className:"h-4 w-4"}),"Send Feedback"]})}),c==="success"&&m.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-800 text-sm",children:"✅ Feedback sent successfully! Thank you."}),c==="error"&&m.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-800 text-sm",children:"❌ Failed to send feedback. Please try again."}),m.jsx("p",{className:`text-xs text-center ${t?"text-gray-400":"text-gray-500"}`,children:"This will open your email client to send feedback directly to our team."})]})]})}):m.jsxs("button",{onClick:w,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t?"bg-gray-700 hover:bg-gray-600 text-gray-200 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:text-gray-900"}`,title:"Send feedback",children:[m.jsx(Sv,{className:"h-4 w-4"}),"Feedback"]})}const X8=t=>{const e=t.toLowerCase();return e.includes("housing")||e.includes("rent")||e.includes("mortgage")?m.jsx(P6,{className:"h-5 w-5"}):e.includes("transport")||e.includes("gas")||e.includes("car")||e.includes("fuel")?m.jsx(wv,{className:"h-5 w-5"}):e.includes("food")||e.includes("dining")||e.includes("restaurant")||e.includes("grocery")?m.jsx(Av,{className:"h-5 w-5"}):e.includes("shopping")||e.includes("retail")||e.includes("store")?m.jsx(kv,{className:"h-5 w-5"}):e.includes("entertainment")||e.includes("gaming")||e.includes("movie")?m.jsx(A6,{className:"h-5 w-5"}):e.includes("health")||e.includes("medical")||e.includes("pharmacy")?m.jsx(xv,{className:"h-5 w-5"}):e.includes("business")||e.includes("work")||e.includes("office")?m.jsx(Sp,{className:"h-5 w-5"}):m.jsx(_v,{className:"h-5 w-5"})},Z8=[{category:"Income",icon:m.jsx(Sp,{className:"h-5 w-5"}),statement1:3850,statement2:4120,difference:270,percentChange:7,transactions1:[{id:"income-1-1",date:"2025-01-15",description:"Stripe Payment Processing",amount:1850,category:"Income",type:"credit"},{id:"income-1-2",date:"2025-01-30",description:"PayPal Transfer",amount:2e3,category:"Income",type:"credit"}],transactions2:[{id:"income-2-1",date:"2025-02-03",description:"Square Payment",amount:1680,category:"Income",type:"credit"},{id:"income-2-2",date:"2025-02-10",description:"Stripe Payment Processing",amount:1950,category:"Income",type:"credit"},{id:"income-2-3",date:"2025-02-18",description:"Direct Deposit",amount:490,category:"Income",type:"credit"}]},{category:"Food & Dining",icon:m.jsx(Av,{className:"h-5 w-5"}),statement1:445,statement2:487,difference:42,percentChange:9.4,transactions1:[{id:"food-1-1",date:"2025-01-05",description:"McDonald's",amount:12.45,category:"Food & Dining",type:"debit"},{id:"food-1-2",date:"2025-01-12",description:"Starbucks",amount:5.89,category:"Food & Dining",type:"debit"},{id:"food-1-3",date:"2025-01-18",description:"Chipotle",amount:18.75,category:"Food & Dining",type:"debit"},{id:"food-1-4",date:"2025-01-25",description:"Pizza Hut",amount:24.99,category:"Food & Dining",type:"debit"},{id:"food-1-5",date:"2025-01-28",description:"Subway",amount:11.5,category:"Food & Dining",type:"debit"}],transactions2:[{id:"food-2-1",date:"2025-02-03",description:"Burger King",amount:14.25,category:"Food & Dining",type:"debit"},{id:"food-2-2",date:"2025-02-05",description:"Taco Bell",amount:16.8,category:"Food & Dining",type:"debit"},{id:"food-2-3",date:"2025-02-07",description:"KFC",amount:19.95,category:"Food & Dining",type:"debit"},{id:"food-2-4",date:"2025-02-10",description:"Wendy's",amount:13.45,category:"Food & Dining",type:"debit"},{id:"food-2-5",date:"2025-02-14",description:"Domino's Pizza",amount:28.5,category:"Food & Dining",type:"debit"},{id:"food-2-6",date:"2025-02-18",description:"Arby's",amount:15.75,category:"Food & Dining",type:"debit"},{id:"food-2-7",date:"2025-02-21",description:"Popeyes",amount:17.25,category:"Food & Dining",type:"debit"},{id:"food-2-8",date:"2025-02-24",description:"Little Caesars",amount:22.99,category:"Food & Dining",type:"debit"},{id:"food-2-9",date:"2025-02-27",description:"Sonic Drive-In",amount:18.5,category:"Food & Dining",type:"debit"}]},{category:"Transportation",icon:m.jsx(wv,{className:"h-5 w-5"}),statement1:287,statement2:312,difference:25,percentChange:8.7,transactions1:[{id:"transport-1-1",date:"2025-01-08",description:"Shell Gas Station",amount:45.5,category:"Transportation",type:"debit"},{id:"transport-1-2",date:"2025-01-15",description:"Uber Ride",amount:28.75,category:"Transportation",type:"debit"},{id:"transport-1-3",date:"2025-01-22",description:"Exxon Gas Station",amount:52.25,category:"Transportation",type:"debit"},{id:"transport-1-4",date:"2025-01-29",description:"BP Gas Station",amount:48,category:"Transportation",type:"debit"}],transactions2:[{id:"transport-2-1",date:"2025-02-03",description:"Chevron Gas Station",amount:47.8,category:"Transportation",type:"debit"},{id:"transport-2-2",date:"2025-02-05",description:"Uber Ride",amount:32.45,category:"Transportation",type:"debit"},{id:"transport-2-3",date:"2025-02-07",description:"Mobil Gas Station",amount:51.2,category:"Transportation",type:"debit"},{id:"transport-2-4",date:"2025-02-10",description:"Lyft Ride",amount:29.9,category:"Transportation",type:"debit"},{id:"transport-2-5",date:"2025-02-14",description:"Circle K Gas",amount:38.75,category:"Transportation",type:"debit"},{id:"transport-2-6",date:"2025-02-18",description:"7-Eleven Gas",amount:42.3,category:"Transportation",type:"debit"},{id:"transport-2-7",date:"2025-02-21",description:"Uber Ride",amount:25.6,category:"Transportation",type:"debit"},{id:"transport-2-8",date:"2025-02-24",description:"Speedway Gas",amount:44.15,category:"Transportation",type:"debit"},{id:"transport-2-9",date:"2025-02-27",description:"Lyft Ride",amount:27.85,category:"Transportation",type:"debit"}]},{category:"Shopping",icon:m.jsx(kv,{className:"h-5 w-5"}),statement1:234,statement2:267,difference:33,percentChange:14.1,transactions1:[{id:"shopping-1-1",date:"2025-01-10",description:"Target",amount:45.75,category:"Shopping",type:"debit"},{id:"shopping-1-2",date:"2025-01-18",description:"Walmart",amount:67.2,category:"Shopping",type:"debit"},{id:"shopping-1-3",date:"2025-01-25",description:"Amazon.com",amount:32.45,category:"Shopping",type:"debit"},{id:"shopping-1-4",date:"2025-01-28",description:"Best Buy",amount:34.6,category:"Shopping",type:"debit"}],transactions2:[{id:"shopping-2-1",date:"2025-02-03",description:"Home Depot",amount:89.95,category:"Shopping",type:"debit"},{id:"shopping-2-2",date:"2025-02-06",description:"Costco",amount:156.8,category:"Shopping",type:"debit"},{id:"shopping-2-3",date:"2025-02-10",description:"Target",amount:38.25,category:"Shopping",type:"debit"},{id:"shopping-2-4",date:"2025-02-14",description:"Amazon.com",amount:27.5,category:"Shopping",type:"debit"},{id:"shopping-2-5",date:"2025-02-18",description:"Macy's",amount:89.99,category:"Shopping",type:"debit"},{id:"shopping-2-6",date:"2025-02-21",description:"Kohl's",amount:67.45,category:"Shopping",type:"debit"},{id:"shopping-2-7",date:"2025-02-24",description:"Old Navy",amount:45.2,category:"Shopping",type:"debit"},{id:"shopping-2-8",date:"2025-02-27",description:"Gap",amount:78.9,category:"Shopping",type:"debit"}]},{category:"Healthcare",icon:m.jsx(xv,{className:"h-5 w-5"}),statement1:0,statement2:387,difference:387,percentChange:100,transactions1:[],transactions2:[{id:"health-2-1",date:"2025-02-05",description:"CVS Pharmacy",amount:45.75,category:"Healthcare",type:"debit"},{id:"health-2-2",date:"2025-02-12",description:"Walgreens",amount:32.5,category:"Healthcare",type:"debit"},{id:"health-2-3",date:"2025-02-18",description:"Optometrist Visit",amount:125,category:"Healthcare",type:"debit"},{id:"health-2-4",date:"2025-02-25",description:"Dental Checkup",amount:184.75,category:"Healthcare",type:"debit"}]},{category:"Business & Professional",icon:m.jsx(Sp,{className:"h-5 w-5"}),statement1:118,statement2:134,difference:16,percentChange:13.6,transactions1:[{id:"business-1-1",date:"2025-01-07",description:"Adobe Creative Cloud",amount:52.99,category:"Business & Professional",type:"debit"},{id:"business-1-2",date:"2025-01-21",description:"Notion Premium",amount:8,category:"Business & Professional",type:"debit"},{id:"business-1-3",date:"2025-01-28",description:"Slack Pro",amount:34,category:"Business & Professional",type:"debit"}],transactions2:[{id:"business-2-1",date:"2025-02-03",description:"Adobe Creative Cloud",amount:52.99,category:"Business & Professional",type:"debit"},{id:"business-2-2",date:"2025-02-07",description:"Asana Premium",amount:10.99,category:"Business & Professional",type:"debit"},{id:"business-2-3",date:"2025-02-14",description:"Trello Business",amount:12.5,category:"Business & Professional",type:"debit"},{id:"business-2-4",date:"2025-02-21",description:"Notion Premium",amount:8,category:"Business & Professional",type:"debit"},{id:"business-2-5",date:"2025-02-28",description:"Slack Pro",amount:34,category:"Business & Professional",type:"debit"}]},{category:"Subscriptions",icon:m.jsx(bv,{className:"h-5 w-5"}),statement1:89,statement2:112,difference:23,percentChange:25.8,transactions1:[{id:"subscription-1-1",date:"2025-01-15",description:"Netflix Premium",amount:19.99,category:"Subscriptions",type:"debit"},{id:"subscription-1-2",date:"2025-01-30",description:"Spotify Premium",amount:9.99,category:"Subscriptions",type:"debit"},{id:"subscription-1-3",date:"2025-01-30",description:"Hulu Ad-Free",amount:17.99,category:"Subscriptions",type:"debit"}],transactions2:[{id:"subscription-2-1",date:"2025-02-04",description:"Netflix Premium",amount:19.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-2",date:"2025-02-04",description:"Spotify Premium",amount:9.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-3",date:"2025-02-04",description:"Hulu Ad-Free",amount:17.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-4",date:"2025-02-19",description:"Amazon Prime",amount:14.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-5",date:"2025-02-19",description:"Disney+ Premium",amount:13.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-6",date:"2025-02-20",description:"YouTube Premium",amount:11.99,category:"Subscriptions",type:"debit"},{id:"subscription-2-7",date:"2025-02-28",description:"Gym Membership",amount:24.06,category:"Subscriptions",type:"debit"}]},{category:"Groceries",icon:m.jsx(D6,{className:"h-5 w-5"}),statement1:267,statement2:298,difference:31,percentChange:11.6,transactions1:[{id:"groceries-1-1",date:"2025-01-10",description:"Kroger",amount:67.45,category:"Groceries",type:"debit"},{id:"groceries-1-2",date:"2025-01-25",description:"Safeway",amount:89.2,category:"Groceries",type:"debit"},{id:"groceries-1-3",date:"2025-01-28",description:"Whole Foods",amount:63.35,category:"Groceries",type:"debit"}],transactions2:[{id:"groceries-2-1",date:"2025-02-08",description:"Kroger",amount:78.9,category:"Groceries",type:"debit"},{id:"groceries-2-2",date:"2025-02-15",description:"Safeway",amount:92.45,category:"Groceries",type:"debit"},{id:"groceries-2-3",date:"2025-02-22",description:"Whole Foods",amount:58.75,category:"Groceries",type:"debit"},{id:"groceries-2-4",date:"2025-02-28",description:"Trader Joe's",amount:67.9,category:"Groceries",type:"debit"}]},{category:"Other",icon:m.jsx(_v,{className:"h-5 w-5"}),statement1:178,statement2:203,difference:25,percentChange:14,transactions1:[{id:"other-1-1",date:"2025-01-05",description:"ATM Withdrawal",amount:100,category:"Other",type:"debit"},{id:"other-1-2",date:"2025-01-15",description:"Transfer to Savings",amount:78,category:"Other",type:"debit"}],transactions2:[{id:"other-2-1",date:"2025-02-03",description:"ATM Withdrawal",amount:120,category:"Other",type:"debit"},{id:"other-2-2",date:"2025-02-05",description:"Bank Transfer Fee",amount:3,category:"Other",type:"debit"},{id:"other-2-3",date:"2025-02-10",description:"Investment Deposit",amount:200,category:"Other",type:"debit"},{id:"other-2-4",date:"2025-02-15",description:"ATM Withdrawal",amount:80,category:"Other",type:"debit"},{id:"other-2-5",date:"2025-02-20",description:"Bank Transfer Fee",amount:3,category:"Other",type:"debit"},{id:"other-2-6",date:"2025-02-25",description:"Investment Deposit",amount:150,category:"Other",type:"debit"},{id:"other-2-7",date:"2025-02-28",description:"ATM Withdrawal",amount:100,category:"Other",type:"debit"}]}];function ek({isDark:t,isSignedIn:e,statementLabels:r,apiResult:n,onResetComparison:i}){var A,v,b,S,T,D,Y,R,k,O,U,E;const[s,a]=se.useState(null),[o,l]=se.useState(Z8),[c,h]=se.useState(!1);console.log("🔍 ResultsSection: apiResult received:",{hasApiResult:!!n,apiResultType:typeof n,keys:n?Object.keys(n):null,statement1Keys:n!=null&&n.statement1?Object.keys(n.statement1):null,statement2Keys:n!=null&&n.statement2?Object.keys(n.statement2):null,comparisonType:typeof(n==null?void 0:n.comparison),isComparisonArray:Array.isArray(n==null?void 0:n.comparison)});const f=(()=>{if(n!=null&&n.comparison&&Array.isArray(n.comparison))try{return n.comparison.map(L=>({category:L.category,icon:X8(L.category),statement1:L.statement1Total,statement2:L.statement2Total,difference:L.difference,percentChange:L.percentChange,transactions1:L.transactions1||[],transactions2:L.transactions2||[]}))}catch(L){return console.error("Error processing comparison data:",L),o}return n&&console.log("⚠️ apiResult structure:",{hasComparison:!!n.comparison,comparisonType:typeof n.comparison,isArray:Array.isArray(n.comparison),keys:Object.keys(n),comparisonKeys:n.comparison?Object.keys(n.comparison):null}),o})(),w=L=>L.map((W,K)=>({id:W.id||`${W.category}-${K}-${Date.now()}`,date:W.date,description:W.description,amount:W.amount,category:W.category,type:W.type})),p=(L,W,K)=>{l(pe=>pe.map(de=>{if(de.category===L){const re=W==="transactions1"?K.reduce((me,j)=>me+(j.type==="credit"?j.amount:-j.amount),0):de.transactions1.reduce((me,j)=>me+(j.type==="credit"?j.amount:-j.amount),0),q=W==="transactions2"?K.reduce((me,j)=>me+(j.type==="credit"?j.amount:-j.amount),0):de.transactions2.reduce((me,j)=>me+(j.type==="credit"?j.amount:-j.amount),0),Q=q-re,ie=re!==0?Q/Math.abs(re)*100:0;return{...de,[W]:K,statement1:Math.abs(re),statement2:Math.abs(q),difference:Math.abs(Q),percentChange:Math.round(ie*10)/10}}return de}))},_=()=>{try{const L=Fs.prepareExportData(f,r.statement1,r.statement2,n);Fs.exportToPDF(L)}catch(L){console.error("Error exporting PDF:",L),alert("Failed to export PDF. Please try again.")}},N=()=>{try{const L=Fs.prepareExportData(f,r.statement1,r.statement2,n);Fs.exportToCSV(L)}catch(L){console.error("Error exporting CSV:",L),alert("Failed to export CSV. Please try again.")}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:`text-3xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Spending Comparison Results"}),m.jsxs("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:["Comparing ",r.statement1," vs ",r.statement2]}),!e&&m.jsxs("div",{className:`mt-6 p-6 rounded-xl border-2 border-dashed ${t?"bg-blue-900/20 border-blue-600":"bg-blue-50 border-blue-500"}`,children:[m.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:"Sign in for your free comparison"}),m.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"This is a preview with sample data. Sign up to analyze your real bank statements."}),m.jsx(Pn,{to:"/pricing",className:"inline-block px-6 py-3 rounded-lg font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white",children:"Sign Up - Free Tier Available"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[m.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(ki,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),m.jsx("h3",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Statement 1"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Withdrawals"}),m.jsxs("span",{className:`text-lg font-bold ${t?"text-red-400":"text-red-600"}`,children:["$",((b=(v=(A=n==null?void 0:n.statement1)==null?void 0:A.summary)==null?void 0:v.totalWithdrawals)==null?void 0:b.toFixed(2))||"1,529.00"]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Deposits"}),m.jsxs("span",{className:`text-lg font-bold ${t?"text-green-400":"text-green-600"}`,children:["$",((D=(T=(S=n==null?void 0:n.statement1)==null?void 0:S.summary)==null?void 0:T.totalDeposits)==null?void 0:D.toFixed(2))||"3,850.00"]})]})]})]}),m.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(ki,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),m.jsx("h3",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Statement 2"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Withdrawals"}),m.jsxs("span",{className:`text-lg font-bold ${t?"text-red-400":"text-red-600"}`,children:["$",((k=(R=(Y=n==null?void 0:n.statement2)==null?void 0:Y.summary)==null?void 0:R.totalWithdrawals)==null?void 0:k.toFixed(2))||"1,899.00"]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Deposits"}),m.jsxs("span",{className:`text-lg font-bold ${t?"text-green-400":"text-green-600"}`,children:["$",((E=(U=(O=n==null?void 0:n.statement2)==null?void 0:O.summary)==null?void 0:U.totalDeposits)==null?void 0:E.toFixed(2))||"4,120.00"]})]})]})]})]}),e&&m.jsx("div",{className:"flex justify-end mb-4",children:m.jsx("button",{onClick:()=>h(!c),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${c?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:c?"Exit Edit Mode":"Edit Transactions"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:`text-2xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Category Breakdown"}),f.map(L=>m.jsxs("div",{className:`rounded-xl p-6 shadow-lg border transition-all ${t?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-300"}`,children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>a(s===L.category?null:L.category),children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`p-3 rounded-lg ${t?"bg-blue-900/30":"bg-blue-100"}`,children:L.icon}),m.jsxs("div",{children:[m.jsx("h4",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:L.category}),m.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[L.transactions1.length+L.transactions2.length," transactions"]})]})]}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Statement 1"}),m.jsxs("p",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:["$",L.statement1.toFixed(2)]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Statement 2"}),m.jsxs("p",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:["$",L.statement2.toFixed(2)]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Difference"}),m.jsxs("p",{className:`font-semibold ${L.difference>0?"text-red-500":L.difference<0?"text-green-500":t?"text-gray-200":"text-gray-800"}`,children:[L.difference>0?"+":"","$",L.difference.toFixed(2)]})]})]})]}),s===L.category&&m.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:c?m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 1 Transactions"}),m.jsx(f2,{isDark:t,transactions:w(L.transactions1),onTransactionsChange:W=>p(L.category,"transactions1",W),category:L.category})]}),m.jsxs("div",{children:[m.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 2 Transactions"}),m.jsx(f2,{isDark:t,transactions:w(L.transactions2),onTransactionsChange:W=>p(L.category,"transactions2",W),category:L.category})]})]}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 1 Transactions"}),m.jsx("div",{className:"space-y-2",children:L.transactions1.map((W,K)=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[W.date," - ",W.description]}),m.jsxs("span",{className:t?"text-gray-300":"text-gray-700",children:["$",W.amount.toFixed(2)]})]},K))})]}),m.jsxs("div",{children:[m.jsx("h5",{className:`font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Statement 2 Transactions"}),m.jsx("div",{className:"space-y-2",children:L.transactions2.map((W,K)=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[W.date," - ",W.description]}),m.jsxs("span",{className:t?"text-gray-300":"text-gray-700",children:["$",W.amount.toFixed(2)]})]},K))})]})]})})]},L.category))]}),m.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md mx-auto",children:[m.jsxs("div",{className:"flex gap-4 w-full",children:[m.jsxs("button",{onClick:_,disabled:!e,className:`flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"bg-orange-600 hover:bg-orange-700 text-white":t?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[m.jsx(ah,{className:"h-5 w-5"}),"Export PDF Report"]}),m.jsxs("button",{onClick:N,disabled:!e,className:`flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[m.jsx(ah,{className:"h-5 w-5"}),"Export CSV Data"]})]}),m.jsxs("button",{onClick:i,className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors bg-red-600 hover:bg-red-700 text-white",children:[m.jsx(ol,{className:"h-5 w-5"}),"Generate New Comparison"]}),m.jsx("div",{className:"flex justify-center pt-2",children:m.jsx($w,{isDark:t,context:"comparison"})})]})]})}function tk({isDark:t}){const[e,r]=se.useState(!1);return m.jsx("section",{className:`py-20 ${t?"bg-transparent":"bg-gray-50"}`,children:m.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Get Crystal Clear Comparisons"}),m.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Use to track personal spending changes or compare your spending to others"})]}),m.jsx("div",{className:"flex items-center justify-center mb-16",children:m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex items-center gap-8",children:[m.jsxs("div",{className:`relative transition-all duration-500 ${e?"scale-95 opacity-60":"scale-100 opacity-100"}`,children:[m.jsxs("div",{className:`w-48 h-64 rounded-lg shadow-lg border-2 ${t?"bg-gray-800 border-gray-600":"bg-white border-gray-300"}`,children:[m.jsx("div",{className:`p-4 border-b ${t?"border-gray-600":"border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ki,{className:"h-5 w-5 text-blue-500"}),m.jsx("span",{className:`font-semibold ${t?"text-gray-200":"text-gray-700"}`,children:"Statement 1"})]})}),m.jsxs("div",{className:"p-4 space-y-2",children:[m.jsx("div",{className:`h-3 rounded ${t?"bg-gray-600":"bg-gray-200"}`}),m.jsx("div",{className:`h-3 rounded w-3/4 ${t?"bg-gray-600":"bg-gray-200"}`}),m.jsx("div",{className:`h-3 rounded w-1/2 ${t?"bg-gray-600":"bg-gray-200"}`}),m.jsx("div",{className:`h-3 rounded w-4/5 ${t?"bg-gray-600":"bg-gray-200"}`})]})]}),m.jsx("div",{className:`absolute bottom-8 left-1/2 transform -translate-x-1/2 px-3 py-1 rounded-full text-xs font-medium ${t?"bg-blue-600 text-white":"bg-blue-100 text-blue-700"}`,children:"$2,450"})]}),m.jsx("div",{className:`transition-all duration-500 ${e?"scale-110":"scale-100"}`,children:m.jsx(S6,{className:`h-8 w-8 ${t?"text-gray-400":"text-gray-500"}`})}),m.jsxs("div",{className:`relative transition-all duration-500 ${e?"scale-95 opacity-60":"scale-100 opacity-100"}`,children:[m.jsxs("div",{className:`w-48 h-64 rounded-lg shadow-lg border-2 ${t?"bg-gray-800 border-gray-600":"bg-white border-gray-300"}`,children:[m.jsx("div",{className:`p-4 border-b ${t?"border-gray-600":"border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ki,{className:"h-5 w-5 text-green-500"}),m.jsx("span",{className:`font-semibold ${t?"text-gray-200":"text-gray-700"}`,children:"Statement 2"})]})}),m.jsxs("div",{className:"p-4 space-y-2",children:[m.jsx("div",{className:`h-3 rounded ${t?"bg-gray-600":"bg-gray-200"}`}),m.jsx("div",{className:`h-3 rounded w-2/3 ${t?"bg-gray-600":"bg-gray-200"}`}),m.jsx("div",{className:`h-3 rounded w-3/4 ${t?"bg-gray-600":"bg-gray-200"}`}),m.jsx("div",{className:`h-3 rounded w-1/3 ${t?"bg-gray-600":"bg-gray-200"}`})]})]}),m.jsx("div",{className:`absolute bottom-8 left-1/2 transform -translate-x-1/2 px-3 py-1 rounded-full text-xs font-medium ${t?"bg-green-600 text-white":"bg-green-100 text-green-700"}`,children:"$1,890"})]})]}),m.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-700 ${e?"opacity-100 scale-100":"opacity-0 scale-75"}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:m.jsxs("div",{className:`w-96 h-80 rounded-2xl shadow-2xl border-2 ${t?"bg-gray-800 border-gray-600":"bg-white border-gray-300"}`,children:[m.jsx("div",{className:`p-6 border-b ${t?"border-gray-600":"border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ol,{className:"h-6 w-6 text-purple-500"}),m.jsx("h3",{className:`text-xl font-bold ${t?"text-gray-100":"text-gray-800"}`,children:"Comparison Results"})]})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Food & Dining"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"$450"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"$320"})]}),m.jsx("span",{className:`text-sm font-medium ${t?"text-red-400":"text-red-600"}`,children:"-29%"})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Transportation"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"$180"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"$210"})]}),m.jsx("span",{className:`text-sm font-medium ${t?"text-green-400":"text-green-600"}`,children:"+17%"})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"Entertainment"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"$120"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),m.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"$85"})]}),m.jsx("span",{className:`text-sm font-medium ${t?"text-red-400":"text-red-600"}`,children:"-29%"})]})]})]}),m.jsx("div",{className:`mt-6 p-4 rounded-lg ${t?"bg-gray-700":"bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:`font-semibold ${t?"text-gray-200":"text-gray-700"}`,children:"Total Savings:"}),m.jsx("span",{className:`text-xl font-bold ${t?"text-green-400":"text-green-600"}`,children:"$560"})]})})]})]})})]})})]})})}function rk({isDark:t,isSignedIn:e}){var K,pe,de;const r=ji(),{user:n}=Yu(),[i,s]=se.useState({}),[a,o]=se.useState({statement1:"Statement 1",statement2:"Statement 2"}),[l,c]=se.useState(null),[h,f]=se.useState(((K=r.state)==null?void 0:K.showResults)||!1),[w,p]=se.useState(!1),{isLoading:_,error:N,result:A,progress:v,compareStatements:b,setError:S,clearError:T,setResult:D,reset:Y}=uN();se.useEffect(()=>{N?console.error("❌ Comparison failed with API error:",N):A&&!_&&(console.log("✅ API comparison completed successfully"),f(!0))},[A,N,_]),se.useEffect(()=>{var re,q;(re=r.state)!=null&&re.apiResult&&((q=r.state)!=null&&q.fromHistory)&&(console.log("📋 Loading comparison from history"),D(r.state.apiResult),o({statement1:r.state.statement1Name||"Statement 1",statement2:r.state.statement2Name||"Statement 2"}),f(!0))},[r.state,D]),se.useEffect(()=>{var re,q;r.pathname==="/"&&!((re=r.state)!=null&&re.showResults)&&!((q=r.state)!=null&&q.apiResult)&&(f(!1),Y(),s({}),o({statement1:"Statement 1",statement2:"Statement 2"}),c(null),p(!1))},[r.pathname,r.state,Y]);const R=()=>{console.log("🔄 Resetting comparison state..."),bi.clearAllUploadedFiles(),Y(),s({}),o({statement1:"Statement 1",statement2:"Statement 2"}),c(null),f(!1),p(!1),console.log("✅ Comparison state reset complete")},k=(re,q)=>{if(!e||q.size===0||q.name===""){p(!0);return}if(T(),!bi.validatePdfFile(q).isValid){s(me=>({...me,[re]:{file:q,name:q.name,status:"error"}}));return}const ie={file:q,name:q.name,status:"ready"};s(me=>({...me,[re]:ie}))},O=async()=>{var me,j,$,V;if(_){console.log("⚠️ Button clicked while API is loading - ignoring");return}if(T(),!e){U(),f(!0);return}const re=((me=i.statement1)==null?void 0:me.file)&&i.statement1.file.size>0,q=((j=i.statement2)==null?void 0:j.file)&&i.statement2.file.size>0;if(!re||!q){const J=[];re||J.push("Statement 1"),q||J.push("Statement 2"),S(`Please upload ${J.join(" and ")} to begin comparison.`);return}const Q=(($=i.statement1)==null?void 0:$.status)==="ready",ie=((V=i.statement2)==null?void 0:V.status)==="ready";if(!Q||!ie){const J=[];Q||J.push("Statement 1"),ie||J.push("Statement 2"),S(`Please wait for file processing to complete: ${J.join(" and ")}`);return}console.log("🚀 Starting API comparison with files:",{file1:{name:i.statement1.file.name,size:i.statement1.file.size,status:i.statement1.status},file2:{name:i.statement2.file.name,size:i.statement2.file.size,status:i.statement2.status}});try{await b(i.statement1.file,i.statement2.file,n==null?void 0:n.id)}catch{console.log("🔄 API failed, offering sample data fallback"),S("API processing failed. Please try again with different files or use sample data.")}},U=()=>{var me,j,$;if(e){console.log("Sample data not available for signed-in users");return}const re=((me=r.state)==null?void 0:me.statement1Name)||"Statement 1",q=((j=r.state)==null?void 0:j.statement2Name)||"Statement 2";o({statement1:re,statement2:q});const Q={file:new File([],re),name:re,status:"ready"},ie={file:new File([],q),name:q,status:"ready"};s({statement1:Q,statement2:ie}),($=r.state)!=null&&$.fromHistory&&f(!0)},E=(re,q)=>{o(Q=>({...Q,[re]:q}))},L=()=>{c(null)},W=((pe=i.statement1)==null?void 0:pe.status)==="ready"&&((de=i.statement2)==null?void 0:de.status)==="ready";return m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[h?m.jsxs("div",{className:"space-y-8",children:[_&&m.jsx("div",{className:`rounded-xl p-8 text-center ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:m.jsx(cN,{size:"lg",text:"Processing your bank statements...",progress:v,isDark:t})}),N&&m.jsx(dN,{error:N,onDismiss:T,onRetry:()=>{var re,q;(re=i.statement1)!=null&&re.file&&((q=i.statement2)!=null&&q.file)&&O()},isDark:t,className:"mb-6"}),m.jsx(ek,{isDark:t,isSignedIn:e,statementLabels:a,apiResult:A,onResetComparison:R})]}):m.jsxs(m.Fragment,{children:[m.jsx(fN,{isDark:t}),m.jsx(pN,{isDark:t,isSignedIn:e,uploadedFiles:i,statementLabels:a,editingLabel:l,bothFilesUploaded:W,previewButtonGlowing:w,apiLoading:_,onFileUpload:k,onLabelEdit:E,onLabelSave:L,onGenerateComparison:O,onUseSampleData:U,setEditingLabel:c}),e&&m.jsx(hN,{isDark:t}),m.jsx(tk,{isDark:t})]}),m.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none -z-10",children:[m.jsx("div",{className:`absolute top-1/4 left-1/4 w-64 h-64 rounded-full opacity-20 animate-pulse-slow ${t?"bg-blue-600":"bg-blue-400"}`}),m.jsx("div",{className:`absolute top-3/4 right-1/4 w-48 h-48 rounded-full opacity-15 animate-pulse-slow ${t?"bg-purple-600":"bg-purple-400"}`,style:{animationDelay:"1s"}}),m.jsx("div",{className:`absolute bottom-1/4 left-1/3 w-32 h-32 rounded-full opacity-25 animate-pulse-slow ${t?"bg-green-600":"bg-green-400"}`,style:{animationDelay:"2s"}}),m.jsx("div",{className:`absolute top-1/2 right-1/3 w-40 h-40 rounded-full opacity-10 animate-pulse-slow ${t?"bg-indigo-600":"bg-indigo-400"}`,style:{animationDelay:"0.5s"}})]})]})}var nk="basil",Bw="https://js.stripe.com",ik="".concat(Bw,"/").concat(nk,"/stripe.js"),sk=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ak=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,U2="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ok=function(e){return sk.test(e)||ak.test(e)},lk=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Bw,'"]')),r=0;r<e.length;r++){var n=e[r];if(ok(n.src))return n}return null},z2=function(e){var r="",n=document.createElement("script");n.src="".concat(ik).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},Xl=null,pd=null,gd=null,uk=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},ck=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},dk=function(e){return Xl!==null?Xl:(Xl=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(U2),window.Stripe){r(window.Stripe);return}try{var i=lk();if(i&&e)console.warn(U2);else if(!i)i=z2(e);else if(i&&gd!==null&&pd!==null){var s;i.removeEventListener("load",gd),i.removeEventListener("error",pd),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=z2(e)}gd=ck(r,n),pd=uk(n),i.addEventListener("load",gd),i.addEventListener("error",pd)}catch(a){n(a);return}}),Xl.catch(function(r){return Xl=null,Promise.reject(r)}))},Zl,hk=function(){return Zl||(Zl=dk(null).catch(function(e){return Zl=null,Promise.reject(e)}),Zl)};Promise.resolve().then(function(){return hk()}).catch(function(t){console.warn(t)});const fk={STARTER:"https://buy.stripe.com/test_dRmdRbcurfW97JAdhBgUM00",PRO:"https://buy.stripe.com/test_28EaEZ7a7fW9aVM0uPgUM01",BUSINESS:"https://buy.stripe.com/test_eVq8wR66325j3tk4L5gUM02"},pk=t=>{const e=fk[t];if(!e)throw new Error(`Invalid tier: ${t}`);window.open(e,"_blank")};function gk({isDark:t,onShowAuthModal:e}){const[r,n]=se.useState(!1),[i,s]=se.useState(!1),[a,o]=se.useState(""),[l,c]=se.useState([]),{isSignedIn:h,user:f}=Yu(),[w]=vv();se.useEffect(()=>{const b=w.get("success"),S=w.get("canceled");b==="true"&&(n(!0),setTimeout(()=>n(!1),5e3)),S==="true"&&(s(!0),o("Payment was canceled. You can try again anytime."),setTimeout(()=>s(!1),5e3))},[w]);const p=()=>{e&&e()},_=async b=>{if(!h||!f){e&&e();return}pk(b)},N=b=>b==="free"?"Sign Up":"Subscribe Now",A=b=>!1,v=b=>{c(S=>S.includes(b)?S.filter(T=>T!==b):[...S,b])};return m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[r&&m.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:m.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center gap-2 shadow-lg",children:[m.jsx(Vg,{className:"h-5 w-5"}),m.jsx("span",{children:"Payment successful! Your subscription is now active."}),m.jsx("button",{onClick:()=>n(!1),className:"ml-4 text-green-500 hover:text-green-700",children:m.jsx(rs,{className:"h-4 w-4"})})]})}),i&&m.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2 shadow-lg",children:[m.jsx(xa,{className:"h-5 w-5"}),m.jsx("span",{children:a}),m.jsx("button",{onClick:()=>s(!1),className:"ml-4 text-red-500 hover:text-red-700",children:m.jsx(rs,{className:"h-4 w-4"})})]})}),m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Simple Pricing"}),m.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Choose the plan that fits your needs"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[m.jsxs("div",{className:`rounded-xl p-6 border-2 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Sign Up"}),m.jsx("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:"Free"}),m.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"40 pages per month"}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Give it a try"})]}),m.jsx("button",{onClick:p,className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white",children:N("free")})]}),m.jsxs("div",{className:`rounded-xl p-6 border-2 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Starter"}),m.jsxs("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:["$29",m.jsx("span",{className:"text-lg",children:"/month"})]}),m.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"150 pages per month"}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Perfect for individuals"})]}),m.jsx("button",{onClick:()=>_("STARTER"),disabled:A(),className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:N("STARTER")})]}),m.jsxs("div",{className:`rounded-xl p-6 border-2 relative ${t?"bg-gradient-to-br from-blue-900/20 to-indigo-900/20 border-blue-600":"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-500"}`,children:[m.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:m.jsxs("div",{className:"px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2 bg-blue-600 text-white",children:[m.jsx(U6,{className:"h-4 w-4"}),"Most Popular"]})}),m.jsxs("div",{className:"text-center mb-6 mt-4",children:[m.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Pro"}),m.jsxs("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:["$69",m.jsx("span",{className:"text-lg",children:"/month"})]}),m.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"400 pages per month"}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Great for small teams"})]}),m.jsx("button",{onClick:()=>_("PRO"),disabled:A(),className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:N("PRO")})]}),m.jsxs("div",{className:`rounded-xl p-6 border-2 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h3",{className:`text-2xl font-bold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Business"}),m.jsxs("div",{className:`text-4xl font-bold mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:["$149",m.jsx("span",{className:"text-lg",children:"/month"})]}),m.jsx("p",{className:`text-sm mb-2 ${t?"text-gray-400":"text-gray-600"}`,children:"1,000 pages per month"}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Enterprise solution"})]}),m.jsx("button",{onClick:()=>_("BUSINESS"),disabled:A(),className:"w-full py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:N("BUSINESS")})]})]}),m.jsx("div",{className:"mb-12",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"text-center p-6",children:[m.jsx("div",{className:`p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center ${t?"bg-blue-900/30":"bg-blue-100"}`,children:m.jsx(W6,{className:`h-8 w-8 ${t?"text-blue-400":"text-blue-600"}`})}),m.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Lightning Fast"}),m.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Get results in seconds, not hours of manual spreadsheet work"})]}),m.jsxs("div",{className:"text-center p-6",children:[m.jsx("div",{className:`p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center ${t?"bg-green-900/30":"bg-green-100"}`,children:m.jsx(B6,{className:`h-8 w-8 ${t?"text-green-400":"text-green-600"}`})}),m.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"No PDFs Stored"}),m.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"We only keep your spending summaries - never your original bank statements or account details"})]}),m.jsxs("div",{className:"text-center p-6",children:[m.jsx("div",{className:`p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center ${t?"bg-purple-900/30":"bg-purple-100"}`,children:m.jsx(ol,{className:`h-8 w-8 ${t?"text-purple-400":"text-purple-600"}`})}),m.jsx("h3",{className:`font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"Smart Analysis"}),m.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"AI-powered categorization for crystal clear comparisons"})]})]})}),m.jsxs("div",{className:`rounded-xl p-8 ${t?"bg-transparent":"bg-gray-50"}`,children:[m.jsx("h2",{className:`text-2xl font-bold text-center mb-8 ${t?"text-gray-200":"text-gray-800"}`,children:"Frequently Asked Questions"}),m.jsx("div",{className:"space-y-4",children:[{question:"Who is this tool for?",answer:"Perfect for co-parents tracking shared expenses, roommates splitting costs, couples managing joint finances, or anyone wanting to compare their spending patterns month-to-month."},{question:"Is there a file size limit?",answer:"Yes, we recommend keeping bank statement files under 10MB for optimal processing speed. Most monthly bank statements are well under this limit."},{question:"Which banks are supported?",answer:"We support PDF statements from Wells Fargo, Chase, Bank of America, Citi, and most major banks. If your bank isn't supported, contact us!"},{question:"Is my financial data safe?",answer:"Yes, we use industry-standard security practices. Your PDF files are processed securely and we only store the categorized spending summaries (not your raw transaction details or account numbers). All data is encrypted and stored securely in our database."},{question:"Do you store my bank statements?",answer:"We do not store your original PDF files. After processing, we only keep the categorized spending totals and comparison results associated with your account so you can access your analysis history."},{question:"Can I get a refund?",answer:"Yes! We offer a 30-day money-back guarantee. If you're not satisfied, contact us for a full refund."}].map((b,S)=>m.jsxs("div",{className:`border rounded-lg ${t?"border-gray-700":"border-gray-200"}`,children:[m.jsxs("button",{onClick:()=>v(S),className:`w-full px-6 py-4 text-left flex items-center justify-between transition-colors ${t?"hover:bg-gray-700":"hover:bg-gray-50"}`,children:[m.jsx("h3",{className:`font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:b.question}),l.includes(S)?m.jsx(_6,{className:`h-5 w-5 transition-transform ${t?"text-gray-400":"text-gray-500"}`}):m.jsx(N6,{className:`h-5 w-5 transition-transform ${t?"text-gray-400":"text-gray-500"}`})]}),l.includes(S)&&m.jsx("div",{className:`px-6 pb-4 ${t?"text-gray-400":"text-gray-600"}`,children:b.answer})]},S))})]})]})}function mk({isDark:t}){const[e,r]=se.useState(""),[n,i]=se.useState("date"),[s,a]=se.useState([]),[o,l]=se.useState(!0),c=Eh(),{user:h}=Yu();se.useEffect(()=>{(async()=>{try{if(l(!0),console.log("🔄 HistoryPage: Starting to load history for user:",h==null?void 0:h.id),h!=null&&h.id){console.log("🔍 HistoryPage: Querying usage_logs table...");const{data:b,error:S}=await ar.from("usage_logs").select("count").eq("user_id",h.id);console.log("🧪 HistoryPage: Test query result:",{testData:b,testError:S});const{data:T,error:D}=await ar.from("usage_logs").select("*").eq("user_id",h.id).order("created_at",{ascending:!1});if(console.log("📊 HistoryPage: Supabase query result:",{usageLogs:T,error:D}),D)console.error("❌ HistoryPage: Failed to load usage logs from Supabase:",D),a([]);else{if(console.log("✅ HistoryPage: Successfully loaded usage logs:",T),!T||T.length===0){console.log("ℹ️ HistoryPage: No usage logs found for user"),a([]);return}const Y=T.map(R=>(console.log("🔄 HistoryPage: Transforming log:",R),{id:R.id,date:R.created_at,statement1Name:R.statement1_name||"Unknown",statement2Name:R.statement2_name||"Unknown",result:R.comparison_summary,userId:R.user_id,pagesConsumed:R.pages_consumed,file1Pages:R.file1_pages,file2Pages:R.file2_pages}));console.log("✅ HistoryPage: Transformed history:",Y),a(Y)}}else console.log("ℹ️ HistoryPage: No user ID, showing empty history"),a([])}catch(b){console.error("❌ HistoryPage: Unexpected error loading history:",b),a([])}finally{l(!1),console.log("🏁 HistoryPage: Finished loading history")}})()},[h==null?void 0:h.id]);const f=s.filter(v=>v.statement1Name.toLowerCase().includes(e.toLowerCase())||v.statement2Name.toLowerCase().includes(e.toLowerCase())).sort((v,b)=>n==="date"?new Date(b.date).getTime()-new Date(v.date).getTime():0),w=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=v=>{let b=null;console.log("🔍 HistoryPage: Processing comparison item for view:",v),v.result&&typeof v.result=="object"?(v.result.fullComparison?(console.log("📊 HistoryPage: Using enhanced comparison_summary format"),b={statement1:v.result.statement1.fullData,statement2:v.result.statement2.fullData,comparison:v.result.comparison.fullComparison}):v.result.comparison&&Array.isArray(v.result.comparison)?(console.log("📊 HistoryPage: Using direct comparison array format"),b={statement1:v.result.statement1||{},statement2:v.result.statement2||{},comparison:v.result.comparison}):(console.log("📊 HistoryPage: Using fallback result format"),b=v.result),console.log("✅ HistoryPage: Transformed comparison data:",b)):console.warn("⚠️ HistoryPage: No result data found for comparison item"),c("/",{state:{showResults:!0,statement1Name:v.statement1Name,statement2Name:v.statement2Name,fromHistory:!0,apiResult:b}})},_=async v=>{try{if(h!=null&&h.id){const{error:b}=await ar.from("usage_logs").delete().eq("id",v).eq("user_id",h.id);if(b){console.error("Failed to delete comparison from Supabase:",b);return}const S=s.filter(T=>T.id!==v);a(S),console.log("🗑️ Deleted comparison from Supabase")}}catch(b){console.error("Failed to delete comparison:",b)}},N=v=>{try{if(!v.result){alert("No comparison data available for export.");return}let b=null;if(v.result.fullComparison?b=v.result.fullComparison:v.result.comparison&&Array.isArray(v.result.comparison)?b=v.result.comparison:b=v.result,!b){alert("Comparison data format not supported for export.");return}const S=b.map(D=>({category:D.category,statement1:D.statement1Total||0,statement2:D.statement2Total||0,difference:D.difference||0,percentChange:D.percentChange||0,transactions1:D.transactions1||[],transactions2:D.transactions2||[]})),T=Fs.prepareExportData(S,v.statement1Name,v.statement2Name,v.result);Fs.exportToPDF(T)}catch(b){console.error("Error exporting PDF:",b),alert("Failed to export PDF. Please try again.")}},A=v=>{try{if(!v.result){alert("No comparison data available for export.");return}let b=null;if(v.result.fullComparison?b=v.result.fullComparison:v.result.comparison&&Array.isArray(v.result.comparison)?b=v.result.comparison:b=v.result,!b){alert("Comparison data format not supported for export.");return}const S=b.map(D=>({category:D.category,statement1:D.statement1Total||0,statement2:D.statement2Total||0,difference:D.difference||0,percentChange:D.percentChange||0,transactions1:D.transactions1||[],transactions2:D.transactions2||[]})),T=Fs.prepareExportData(S,v.statement1Name,v.statement2Name,v.result);Fs.exportToCSV(T)}catch(b){console.error("Error exporting CSV:",b),alert("Failed to export CSV. Please try again.")}};return m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:`text-4xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Comparison History"}),m.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"View and manage your previous bank statement comparisons"})]}),m.jsx("div",{className:`rounded-xl p-6 mb-8 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(M6,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),m.jsx("input",{type:"text",placeholder:"Search comparisons...",value:e,onChange:v=>r(v.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors ${t?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]}),m.jsxs("div",{className:"relative",children:[m.jsx(qm,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),m.jsx("select",{value:n,onChange:v=>i(v.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors appearance-none ${t?"bg-gray-700 border-gray-600 text-gray-200 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:m.jsx("option",{value:"date",children:"Sort by Date"})})]}),m.jsx("div",{className:"flex items-center justify-center",children:m.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[f.length," comparison",f.length!==1?"s":""]})})]})}),o?m.jsxs("div",{className:`text-center py-12 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsx(sh,{className:`h-16 w-16 mx-auto mb-4 ${t?"text-gray-600":"text-gray-400"}`}),m.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Loading history..."}),m.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your comparison history."})]}):f.length===0?m.jsxs("div",{className:`text-center py-12 rounded-xl ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsx(ki,{className:`h-16 w-16 mx-auto mb-4 ${t?"text-gray-600":"text-gray-400"}`}),m.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:e?"No comparisons found":"No comparison history yet"}),m.jsx("p",{className:"text-gray-500",children:e?"Try adjusting your search terms":"Start by creating your first comparison. Your comparison history will appear here once you run some comparisons."}),!e&&m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:()=>c("/"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Go to Comparison Tool"})})]}):m.jsx("div",{className:"space-y-4",children:f.map(v=>m.jsx("div",{className:`rounded-xl p-6 shadow-lg border transition-all hover:shadow-xl ${t?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-300"}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"flex items-center gap-3 mb-2",children:m.jsxs("h3",{className:`text-lg font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:[v.statement1Name," vs ",v.statement2Name]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(qm,{className:`h-4 w-4 ${t?"text-gray-400":"text-gray-500"}`}),m.jsx("span",{className:t?"text-gray-400":"text-gray-600",children:w(v.date)})]}),v.pagesConsumed&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ol,{className:`h-4 w-4 ${t?"text-gray-400":"text-gray-500"}`}),m.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[v.pagesConsumed," pages total"]})]}),v.file1Pages&&v.file2Pages&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ki,{className:`h-4 w-4 ${t?"text-gray-400":"text-gray-500"}`}),m.jsxs("span",{className:t?"text-gray-400":"text-gray-600",children:[v.file1Pages," + ",v.file2Pages," pages"]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[m.jsx("button",{onClick:()=>p(v),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"View Details",children:m.jsx(oh,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>N(v),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-orange-900/20 text-orange-400 hover:text-orange-300":"hover:bg-orange-50 text-orange-500 hover:text-orange-700"}`,title:"Export PDF",children:m.jsx(ah,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>A(v),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-green-900/20 text-green-400 hover:text-green-300":"hover:bg-green-50 text-green-500 hover:text-green-700"}`,title:"Export CSV",children:m.jsx(ah,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>_(v.id),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-red-900/20 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-500 hover:text-red-700"}`,title:"Delete",children:m.jsx(el,{className:"h-5 w-5"})})]})]})},v.id))})]})}function yk(){console.log("🎯 useSubscription: Hook called, getting auth data...");const{subscription:t,tier:e,loading:r,user:n}=Yu();console.log("🎯 useSubscription: Auth data received:",{hasUser:!!n,userId:n==null?void 0:n.id,hasSubscription:!!t,hasTier:!!e,isLoading:r,subscriptionData:t,tierData:e});const[i,s]=se.useState(null),a=t&&e?{tierName:e.name,pagesRemaining:t.pages_remaining,pagesUsed:t.pages_used,monthlyPages:e.monthly_pages,status:t.status,isActive:t.status==="active"}:null;console.log("🎯 useSubscription: Derived subscription data:",a);const l={subscriptionData:a,isLoading:r,error:i,refreshSubscription:async()=>{console.log("🎯 useSubscription: Refresh requested (placeholder)")}};return console.log("🎯 useSubscription: Returning result:",l),l}function vk({isDark:t,onToggleDarkMode:e,user:r}){console.log("⚙️ SettingsPage: Component rendered with props:",{isDark:t,hasUser:!!r,userId:r==null?void 0:r.id});const{subscriptionData:n,isLoading:i,error:s,refreshSubscription:a}=yk(),[o]=vv(),[l,c]=se.useState(!1);return console.log("⚙️ SettingsPage: useSubscription hook returned:",{hasSubscriptionData:!!n,isLoading:i,error:s,subscriptionData:n}),se.useEffect(()=>{o.get("success")==="true"&&(c(!0),a(),setTimeout(()=>c(!1),5e3))},[o,a]),se.useEffect(()=>{console.log("⚙️ SettingsPage: useEffect triggered - subscription data changed:",{hasSubscriptionData:!!n,isLoading:i,error:s,subscriptionData:n})},[n,i,s]),m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l&&m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center gap-2 shadow-lg",children:[m.jsx(Vg,{className:"h-5 w-5"}),m.jsx("span",{children:"Payment successful! Your subscription is now active."}),m.jsx("button",{onClick:()=>c(!1),className:"ml-auto text-green-500 hover:text-green-700",children:m.jsx(rs,{className:"h-4 w-4"})})]})}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:`text-4xl font-bold mb-4 ${t?"text-gray-100":"text-gray-800"}`,children:"Settings"}),m.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Customize your StatementCompare experience"})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(bv,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),m.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Subscription"})]}),i?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:`inline-block animate-spin rounded-full h-8 w-8 border-b-2 ${t?"border-blue-400":"border-blue-600"}`}),m.jsxs("p",{className:`mt-2 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["Loading subscription data... (Debug: isLoading=",i.toString(),")"]}),m.jsxs("div",{className:"mt-2 text-xs opacity-75",children:[m.jsxs("p",{children:["User: ",(r==null?void 0:r.id)||"None"]}),m.jsxs("p",{children:["Subscription Data: ",n?"Yes":"No"]}),m.jsxs("p",{children:["Error: ",s||"None"]})]})]}):s?m.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-red-900/20 border-red-700/50":"bg-red-50 border-red-200"}`,children:[m.jsx("p",{className:`text-sm ${t?"text-red-400":"text-red-600"}`,children:s}),m.jsx("button",{onClick:a,className:`mt-2 text-sm underline ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:"Try again"})]}):n?m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Current Tier"}),m.jsxs("div",{className:`px-4 py-3 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-gray-200":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[m.jsx("span",{className:"font-semibold",children:n.tierName}),n.monthlyPages>0&&m.jsx("div",{className:"text-xs mt-1 opacity-75"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Pages Remaining"}),m.jsxs("div",{className:`px-4 py-3 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-gray-200":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[m.jsxs("span",{className:"font-semibold",children:[n.pagesRemaining," pages"]}),n.pagesUsed>0&&m.jsx("div",{className:"text-xs mt-1 opacity-75"})]})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("a",{href:`https://billing.stripe.com/p/login/test_dRmdRbcurfW97JAdhBgUM00?prefilled_email=${(r==null?void 0:r.email)||""}`,target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-3 rounded-lg transition-colors font-medium text-center bg-blue-600 hover:bg-blue-700 text-white",children:"Manage Subscription"})})]})}):m.jsx("div",{className:`text-center py-8 ${t?"text-gray-400":"text-gray-600"}`,children:m.jsx("p",{children:"No subscription data available"})})]}),m.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(I6,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),m.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Appearance"})]}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-medium ${t?"text-gray-200":"text-gray-800"}`,children:"Dark Mode"}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Switch between light and dark themes"})]}),m.jsx("button",{onClick:e,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:t?m.jsxs(m.Fragment,{children:[m.jsx(z6,{className:"h-4 w-4"}),"Light Mode"]}):m.jsxs(m.Fragment,{children:[m.jsx(F6,{className:"h-4 w-4"}),"Dark Mode"]})})]})})]}),m.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(H6,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),m.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Account"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(E6,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),m.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",readOnly:!0,className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors ${t?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400":"bg-gray-100 border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none cursor-not-allowed opacity-75`})]}),m.jsx("p",{className:`text-xs mt-1 ${t?"text-gray-400":"text-gray-500"}`,children:"Email address cannot be changed"})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Language"}),m.jsxs("div",{className:"relative",children:[m.jsx(j6,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),m.jsxs("select",{className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors appearance-none ${t?"bg-gray-700 border-gray-600 text-gray-200 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:[m.jsx("option",{value:"en",children:"English"}),m.jsx("option",{value:"es",children:"Español"}),m.jsx("option",{value:"fr",children:"Français"}),m.jsx("option",{value:"de",children:"Deutsch"})]})]})]})]}),m.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors bg-blue-600 hover:bg-blue-700 text-white",children:[m.jsx(C6,{className:"h-4 w-4"}),"Change Password"]})]})]}),m.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(Sv,{className:`h-6 w-6 ${t?"text-blue-400":"text-blue-600"}`}),m.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Feedback & Support"})]}),m.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-blue-900/20 border-blue-700/50":"bg-blue-50 border-blue-200"}`,children:[m.jsx("h3",{className:`font-medium mb-2 ${t?"text-blue-400":"text-blue-600"}`,children:"Help Us Improve"}),m.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"Share your thoughts, report issues, or suggest improvements. Your feedback helps us make this tool better."}),m.jsx($w,{isDark:t,context:"general"})]})]}),m.jsxs("div",{className:`rounded-xl p-6 ${t?"bg-gray-800":"bg-white"} shadow-lg`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(el,{className:`h-6 w-6 ${t?"text-red-400":"text-red-600"}`}),m.jsx("h2",{className:`text-xl font-semibold ${t?"text-gray-200":"text-gray-800"}`,children:"Delete Account"})]}),m.jsxs("div",{className:`p-4 rounded-lg border ${t?"bg-red-900/20 border-red-700/50":"bg-red-50 border-red-200"}`,children:[m.jsx("h3",{className:`font-medium mb-2 ${t?"text-red-400":"text-red-600"}`,children:"Permanently Delete Account"}),m.jsx("p",{className:`text-sm mb-4 ${t?"text-gray-400":"text-gray-600"}`,children:"This action cannot be undone. All your comparison history and account data will be permanently deleted."}),m.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors bg-red-600 hover:bg-red-700 text-white",children:[m.jsx(el,{className:"h-4 w-4"}),"Delete Account"]})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{className:"px-6 py-3 rounded-lg transition-colors font-medium bg-blue-600 hover:bg-blue-700 text-white",children:"Save Changes"})})]})]})}function wk({isOpen:t,onClose:e,onSignIn:r,onSignUp:n}){const[i,s]=se.useState(!1),[a,o]=se.useState(""),[l,c]=se.useState(""),[h,f]=se.useState(""),[w,p]=se.useState(""),[_,N]=se.useState("idle"),[A,v]=se.useState(!1),[b,S]=se.useState({});if(!t)return null;const T=()=>{const E={};return i&&!h.trim()&&(E.fullName="Full name is required"),a.trim()?/\S+@\S+\.\S+/.test(a)||(E.email="Please enter a valid email"):E.email="Email is required",l?l.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",S(E),Object.keys(E).length===0},D=async E=>{if(E.preventDefault(),p(""),S({}),!!T())try{i?await n(a,l,h):await r(a,l),N("success"),setTimeout(()=>{e(),N("idle")},1500)}catch(L){p(L.message||"An error occurred"),N("error")}},Y=()=>{o(""),c(""),f(""),p(""),N("idle"),S({})},R=()=>{s(!i),Y()},k=()=>{switch(_){case"success":return"border-green-500 bg-green-50";case"error":return"border-red-500 bg-red-50";default:return"border-gray-300 bg-white"}},O=()=>{switch(_){case"success":return m.jsx(Zo,{className:"h-6 w-6 text-green-600"});case"error":return m.jsx(xa,{className:"h-6 w-6 text-red-600"});default:return null}},U=()=>{switch(_){case"success":return i?"Account created successfully!":"Signed in successfully!";case"error":return w;default:return""}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:`rounded-lg p-6 w-full max-w-md mx-4 border-2 transition-all duration-300 ${k()}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[O(),m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Create Account":"Sign In"})]}),m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(rs,{className:"h-6 w-6"})})]}),_!=="idle"&&m.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium ${_==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U()}),m.jsxs("form",{onSubmit:D,className:"space-y-4",children:[i&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",value:h,onChange:E=>f(E.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${b.fullName?"border-red-300 focus:ring-red-500":"border-gray-300"}`,required:!0}),b.fullName&&m.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[m.jsx(xa,{className:"h-3 w-3"}),b.fullName]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",value:a,onChange:E=>o(E.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${b.email?"border-red-300 focus:ring-red-500":"border-gray-300"}`,required:!0}),b.email&&m.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[m.jsx(xa,{className:"h-3 w-3"}),b.email]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:A?"text":"password",value:l,onChange:E=>c(E.target.value),className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${b.password?"border-red-300 focus:ring-red-500":"border-gray-300"}`,required:!0}),m.jsx("button",{type:"button",onClick:()=>v(!A),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A?m.jsx(k6,{className:"h-4 w-4"}):m.jsx(oh,{className:"h-4 w-4"})})]}),b.password&&m.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center gap-1",children:[m.jsx(xa,{className:"h-3 w-3"}),b.password]})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition-all duration-200 flex items-center justify-center gap-2",children:i?"Create Account":"Sign In"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:R,className:"text-blue-600 hover:text-blue-700 text-sm transition-colors",children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})}),i&&m.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-2 justify-center mb-1",children:[m.jsx(Zo,{className:"h-4 w-4 text-blue-600"}),m.jsx("span",{className:"font-medium text-blue-800",children:"Free Plan Included"})]}),"Get 40 free pages per month to start comparing your bank statements"]})]})})}function bk({isDark:t,isSignedIn:e,onSignOut:r,onSignInClick:n}){const i=ji(),[s,a]=se.useState(!1),o=l=>i.pathname===l;return m.jsx("header",{className:`sticky top-0 z-50 border-b backdrop-blur-sm ${t?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:m.jsxs("div",{className:"container mx-auto px-4 py-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(Pn,{to:"/",className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-blue-600",children:m.jsx(ol,{className:"h-6 w-6 text-white"})}),m.jsx("span",{className:`text-xl font-bold ${t?"text-gray-200":"text-gray-800"}`,children:"Bank Statement Comparison"})]}),m.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[e?m.jsxs(m.Fragment,{children:[m.jsxs(Pn,{to:"/pricing",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${o("/pricing")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[m.jsx(sd,{className:"h-4 w-4"}),"Plans"]}),m.jsxs(Pn,{to:"/history",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${o("/history")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[m.jsx(sh,{className:"h-4 w-4"}),"Past Documents"]}),m.jsxs(Pn,{to:"/settings",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${o("/settings")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[m.jsx(Vm,{className:"h-4 w-4"}),"Settings"]})]}):m.jsx(m.Fragment,{children:m.jsxs(Pn,{to:"/pricing",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${o("/pricing")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[m.jsx(sd,{className:"h-4 w-4"}),"Pricing"]})}),m.jsx("button",{onClick:()=>{console.log("Button clicked, isSignedIn:",e),e?r():n()},className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors font-medium ${e?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:e?m.jsxs(m.Fragment,{children:[m.jsx(Wm,{className:"h-4 w-4"}),"Sign Out"]}):m.jsxs(m.Fragment,{children:[m.jsx(Hm,{className:"h-4 w-4"}),"Sign In"]})})]}),m.jsx("button",{onClick:()=>a(!s),className:`md:hidden p-2 rounded-lg transition-colors ${t?"text-gray-300 hover:text-white hover:bg-gray-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:s?m.jsx(rs,{className:"h-5 w-5"}):m.jsx(T6,{className:"h-5 w-5"})})]}),s&&m.jsx("div",{className:`md:hidden border-t ${t?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:m.jsxs("div",{className:"px-4 py-4 space-y-3",children:[e?m.jsxs(m.Fragment,{children:[m.jsx(Pn,{to:"/pricing",onClick:()=>a(!1),className:`block px-3 py-2 rounded-lg transition-colors ${o("/pricing")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("span",{children:"Plans"}),m.jsx(sd,{className:"h-4 w-4"})]})}),m.jsx(Pn,{to:"/history",onClick:()=>a(!1),className:`block px-3 py-2 rounded-lg transition-colors ${o("/history")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("span",{children:"Past Documents"}),m.jsx(sh,{className:"h-4 w-4"})]})}),m.jsx(Pn,{to:"/settings",onClick:()=>a(!1),className:`block px-3 py-2 rounded-lg transition-colors ${o("/settings")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("span",{children:"Settings"}),m.jsx(Vm,{className:"h-4 w-4"})]})})]}):m.jsx(Pn,{to:"/pricing",onClick:()=>a(!1),className:`block px-3 py-2 rounded-lg transition-colors ${o("/pricing")?"bg-blue-600 text-white":t?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("span",{children:"Pricing"}),m.jsx(sd,{className:"h-4 w-4"})]})}),m.jsx("button",{onClick:()=>{e?r():n(),a(!1)},className:`w-full px-3 py-2 rounded-lg transition-colors font-medium ${e?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:m.jsx("div",{className:"flex items-center justify-end gap-2",children:e?m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Sign Out"}),m.jsx(Wm,{className:"h-4 w-4"})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Sign In"}),m.jsx(Hm,{className:"h-4 w-4"})]})})})]})})]})})}function xk(){const[t,e]=se.useState(!0),[r,n]=se.useState(!1),{isSignedIn:i,signOut:s,signIn:a,signUp:o,loading:l,user:c}=Yu(),h=Eh(),f=async()=>{console.log("Sign out button clicked, attempting to sign out...");try{await s(),console.log("Sign out completed successfully"),h("/")}catch(_){console.error("Error during sign out:",_)}},w=async(_,N)=>{const{data:A,error:v}=await a(_,N);if(v)throw v},p=async(_,N,A)=>{const{data:v,error:b}=await o(_,N,A);if(b)throw b};return m.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${t?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-green-50"}`,children:[m.jsx(bk,{isDark:t,isSignedIn:i,onSignOut:f,onSignInClick:()=>n(!0)}),m.jsxs(D3,{children:[m.jsx(iu,{path:"/",element:m.jsx(rk,{isDark:t,isSignedIn:i})}),m.jsx(iu,{path:"/pricing",element:m.jsx(gk,{isDark:t,onShowAuthModal:()=>n(!0)})}),m.jsx(iu,{path:"/history",element:m.jsx(mk,{isDark:t})}),m.jsx(iu,{path:"/settings",element:m.jsx(vk,{isDark:t,onToggleDarkMode:()=>e(!t),user:c})})]}),m.jsx(wk,{isOpen:r,onClose:()=>n(!1),onSignIn:w,onSignUp:p})]})}function Sk(){return m.jsx(c6,{children:m.jsx(xk,{})})}tv(document.getElementById("root")).render(m.jsx(se.StrictMode,{children:m.jsx(Sk,{})}));export{St as _,mn as c,_b as g};
